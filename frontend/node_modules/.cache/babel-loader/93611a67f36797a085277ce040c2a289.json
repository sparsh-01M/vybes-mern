{"ast":null,"code":"var _jsxFileName = \"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/PostDetail.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./PostDetail.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PostDetail(_ref) {\n  _s();\n\n  var _item$postedBy, _item$postedBy2;\n\n  let {\n    item,\n    toggleDetails\n  } = _ref;\n  const navigate = useNavigate(); // Debug logs\n\n  console.log(\"Post data:\", item);\n  console.log(\"Posted by user data:\", item === null || item === void 0 ? void 0 : item.postedBy); // Toast functions\n\n  const notifyA = msg => toast.error(msg);\n\n  const notifyB = msg => toast.success(msg);\n\n  const removePost = postId => {\n    if (window.confirm(\"Do you really want to delete this post ?\")) {\n      fetch(`http://localhost:4000/deletePost/${postId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n        }\n      }).then(res => res.json()).then(result => {\n        console.log(result);\n        toggleDetails();\n        navigate(\"/\");\n        notifyB(result.message);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"showComment\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postPic\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.photo,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          style: {\n            borderBottom: \"1px solid #00000029\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-pic\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: (item === null || item === void 0 ? void 0 : (_item$postedBy = item.postedBy) === null || _item$postedBy === void 0 ? void 0 : _item$postedBy.Photo) || \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\",\n              alt: (item === null || item === void 0 ? void 0 : (_item$postedBy2 = item.postedBy) === null || _item$postedBy2 === void 0 ? void 0 : _item$postedBy2.name) || \"User\",\n              style: {\n                width: \"30px\",\n                height: \"30px\",\n                borderRadius: \"50%\",\n                objectFit: \"cover\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: item.postedBy.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"deletePost\",\n            onClick: () => {\n              removePost(item._id);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-outlined\",\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-section\",\n          style: {\n            borderBottom: \"1px solid #00000029\"\n          },\n          children: item.comments.map(comment => {\n            return /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"comm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"commenter\",\n                style: {\n                  fontWeight: \"bolder\"\n                },\n                children: [comment.postedBy.name, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"commentText\",\n                children: comment.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [item.likes.length, \" Likes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-comment\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-outlined\",\n            children: \"mood\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Add a comment\" //   value={comment}\n            //   onChange={(e) => {\n            //     setComment(e.target.value);\n            //   }}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"comment\" //   onClick={() => {\n            //     makeComment(comment, item._id);\n            //     toggleComment();\n            //   }}\n            ,\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close-comment\",\n      onClick: () => {\n        toggleDetails();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"material-symbols-outlined material-symbols-outlined-comment\",\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostDetail, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = PostDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostDetail\");","map":{"version":3,"names":["React","useNavigate","toast","PostDetail","item","toggleDetails","navigate","console","log","postedBy","notifyA","msg","error","notifyB","success","removePost","postId","window","confirm","fetch","method","headers","Authorization","localStorage","getItem","then","res","json","result","message","photo","borderBottom","Photo","name","width","height","borderRadius","objectFit","_id","comments","map","comment","fontWeight","likes","length","body"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/PostDetail.js"],"sourcesContent":["import React from \"react\";\nimport \"./PostDetail.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nexport default function PostDetail({ item, toggleDetails }) {\n  const navigate = useNavigate();\n\n  // Debug logs\n  console.log(\"Post data:\", item);\n  console.log(\"Posted by user data:\", item?.postedBy);\n\n  // Toast functions\n  const notifyA = (msg) => toast.error(msg);\n  const notifyB = (msg) => toast.success(msg);\n\n  const removePost = (postId) => {\n    if (window.confirm(\"Do you really want to delete this post ?\")) {\n      fetch(`http://localhost:4000/deletePost/${postId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          console.log(result);\n          toggleDetails();\n          navigate(\"/\");\n          notifyB(result.message);\n        });\n    }\n  };\n\n  return (\n    <div className=\"showComment\">\n      <div className=\"container\">\n        <div className=\"postPic\">\n          <img src={item.photo} alt=\"\" />\n        </div>\n        <div className=\"details\">\n          {/* card header */}\n          <div\n            className=\"card-header\"\n            style={{ borderBottom: \"1px solid #00000029\" }}\n          >\n            <div className=\"card-pic\">\n              <img\n                src={item?.postedBy?.Photo || \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"}\n                alt={item?.postedBy?.name || \"User\"}\n                style={{ width: \"30px\", height: \"30px\", borderRadius: \"50%\", objectFit: \"cover\" }}\n              />\n            </div>\n            <h5>{item.postedBy.name}</h5>\n            <div\n              className=\"deletePost\"\n              onClick={() => {\n                removePost(item._id);\n              }}\n            >\n              <span className=\"material-symbols-outlined\">delete</span>\n            </div>\n          </div>\n\n          {/* commentSection */}\n          <div\n            className=\"comment-section\"\n            style={{ borderBottom: \"1px solid #00000029\" }}\n          >\n            {item.comments.map((comment) => {\n              return (\n                <p className=\"comm\">\n                  <span className=\"commenter\" style={{ fontWeight: \"bolder\" }}>\n                    {comment.postedBy.name}{\" \"}\n                  </span>\n                  <span className=\"commentText\">{comment.comment}</span>\n                </p>\n              );\n            })}\n          </div>\n\n          {/* card content */}\n          <div className=\"card-content\">\n            <p>{item.likes.length} Likes</p>\n            <p>{item.body}</p>\n          </div>\n\n          {/* add Comment */}\n          <div className=\"add-comment\">\n            <span className=\"material-symbols-outlined\">mood</span>\n            <input\n              type=\"text\"\n              placeholder=\"Add a comment\"\n              //   value={comment}\n              //   onChange={(e) => {\n              //     setComment(e.target.value);\n              //   }}\n            />\n            <button\n              className=\"comment\"\n              //   onClick={() => {\n              //     makeComment(comment, item._id);\n              //     toggleComment();\n              //   }}\n            >\n              Post\n            </button>\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"close-comment\"\n        onClick={() => {\n          toggleDetails();\n        }}\n      >\n        <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\n          Close\n        </span>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}