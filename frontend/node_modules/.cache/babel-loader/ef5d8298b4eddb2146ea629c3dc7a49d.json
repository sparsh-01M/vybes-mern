{"ast":null,"code":"import { isDragActive } from '../drag/state/is-active.mjs';\nimport { isNodeOrChild } from '../utils/is-node-or-child.mjs';\nimport { isPrimaryPointer } from '../utils/is-primary-pointer.mjs';\nimport { setupGesture } from '../utils/setup.mjs';\nimport { isElementKeyboardAccessible } from './utils/is-keyboard-accessible.mjs';\nimport { enableKeyboardPress } from './utils/keyboard.mjs';\nimport { isPressing } from './utils/state.mjs';\n/**\n * Filter out events that are not primary pointer events, or are triggering\n * while a Motion gesture is active.\n */\n\nfunction isValidPressEvent(event) {\n  return isPrimaryPointer(event) && !isDragActive();\n}\n/**\n * Create a press gesture.\n *\n * Press is different to `\"pointerdown\"`, `\"pointerup\"` in that it\n * automatically filters out secondary pointer events like right\n * click and multitouch.\n *\n * It also adds accessibility support for keyboards, where\n * an element with a press gesture will receive focus and\n *  trigger on Enter `\"keydown\"` and `\"keyup\"` events.\n *\n * This is different to a browser's `\"click\"` event, which does\n * respond to keyboards but only for the `\"click\"` itself, rather\n * than the press start and end/cancel. The element also needs\n * to be focusable for this to work, whereas a press gesture will\n * make an element focusable by default.\n *\n * @public\n */\n\n\nfunction press(targetOrSelector, onPressStart) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const [targets, eventOptions, cancelEvents] = setupGesture(targetOrSelector, options);\n\n  const startPress = startEvent => {\n    const target = startEvent.currentTarget;\n    if (!isValidPressEvent(startEvent) || isPressing.has(target)) return;\n    isPressing.add(target);\n    const onPressEnd = onPressStart(target, startEvent);\n\n    const onPointerEnd = (endEvent, success) => {\n      window.removeEventListener(\"pointerup\", onPointerUp);\n      window.removeEventListener(\"pointercancel\", onPointerCancel);\n\n      if (!isValidPressEvent(endEvent) || !isPressing.has(target)) {\n        return;\n      }\n\n      isPressing.delete(target);\n\n      if (typeof onPressEnd === \"function\") {\n        onPressEnd(endEvent, {\n          success\n        });\n      }\n    };\n\n    const onPointerUp = upEvent => {\n      onPointerEnd(upEvent, target === window || target === document || options.useGlobalTarget || isNodeOrChild(target, upEvent.target));\n    };\n\n    const onPointerCancel = cancelEvent => {\n      onPointerEnd(cancelEvent, false);\n    };\n\n    window.addEventListener(\"pointerup\", onPointerUp, eventOptions);\n    window.addEventListener(\"pointercancel\", onPointerCancel, eventOptions);\n  };\n\n  targets.forEach(target => {\n    const pointerDownTarget = options.useGlobalTarget ? window : target;\n    pointerDownTarget.addEventListener(\"pointerdown\", startPress, eventOptions);\n\n    if (target instanceof HTMLElement) {\n      target.addEventListener(\"focus\", event => enableKeyboardPress(event, eventOptions));\n\n      if (!isElementKeyboardAccessible(target) && !target.hasAttribute(\"tabindex\")) {\n        target.tabIndex = 0;\n      }\n    }\n  });\n  return cancelEvents;\n}\n\nexport { press };","map":{"version":3,"names":["isDragActive","isNodeOrChild","isPrimaryPointer","setupGesture","isElementKeyboardAccessible","enableKeyboardPress","isPressing","isValidPressEvent","event","press","targetOrSelector","onPressStart","options","targets","eventOptions","cancelEvents","startPress","startEvent","target","currentTarget","has","add","onPressEnd","onPointerEnd","endEvent","success","window","removeEventListener","onPointerUp","onPointerCancel","delete","upEvent","document","useGlobalTarget","cancelEvent","addEventListener","forEach","pointerDownTarget","HTMLElement","hasAttribute","tabIndex"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/node_modules/motion-dom/dist/es/gestures/press/index.mjs"],"sourcesContent":["import { isDragActive } from '../drag/state/is-active.mjs';\nimport { isNodeOrChild } from '../utils/is-node-or-child.mjs';\nimport { isPrimaryPointer } from '../utils/is-primary-pointer.mjs';\nimport { setupGesture } from '../utils/setup.mjs';\nimport { isElementKeyboardAccessible } from './utils/is-keyboard-accessible.mjs';\nimport { enableKeyboardPress } from './utils/keyboard.mjs';\nimport { isPressing } from './utils/state.mjs';\n\n/**\n * Filter out events that are not primary pointer events, or are triggering\n * while a Motion gesture is active.\n */\nfunction isValidPressEvent(event) {\n    return isPrimaryPointer(event) && !isDragActive();\n}\n/**\n * Create a press gesture.\n *\n * Press is different to `\"pointerdown\"`, `\"pointerup\"` in that it\n * automatically filters out secondary pointer events like right\n * click and multitouch.\n *\n * It also adds accessibility support for keyboards, where\n * an element with a press gesture will receive focus and\n *  trigger on Enter `\"keydown\"` and `\"keyup\"` events.\n *\n * This is different to a browser's `\"click\"` event, which does\n * respond to keyboards but only for the `\"click\"` itself, rather\n * than the press start and end/cancel. The element also needs\n * to be focusable for this to work, whereas a press gesture will\n * make an element focusable by default.\n *\n * @public\n */\nfunction press(targetOrSelector, onPressStart, options = {}) {\n    const [targets, eventOptions, cancelEvents] = setupGesture(targetOrSelector, options);\n    const startPress = (startEvent) => {\n        const target = startEvent.currentTarget;\n        if (!isValidPressEvent(startEvent) || isPressing.has(target))\n            return;\n        isPressing.add(target);\n        const onPressEnd = onPressStart(target, startEvent);\n        const onPointerEnd = (endEvent, success) => {\n            window.removeEventListener(\"pointerup\", onPointerUp);\n            window.removeEventListener(\"pointercancel\", onPointerCancel);\n            if (!isValidPressEvent(endEvent) || !isPressing.has(target)) {\n                return;\n            }\n            isPressing.delete(target);\n            if (typeof onPressEnd === \"function\") {\n                onPressEnd(endEvent, { success });\n            }\n        };\n        const onPointerUp = (upEvent) => {\n            onPointerEnd(upEvent, target === window ||\n                target === document ||\n                options.useGlobalTarget ||\n                isNodeOrChild(target, upEvent.target));\n        };\n        const onPointerCancel = (cancelEvent) => {\n            onPointerEnd(cancelEvent, false);\n        };\n        window.addEventListener(\"pointerup\", onPointerUp, eventOptions);\n        window.addEventListener(\"pointercancel\", onPointerCancel, eventOptions);\n    };\n    targets.forEach((target) => {\n        const pointerDownTarget = options.useGlobalTarget ? window : target;\n        pointerDownTarget.addEventListener(\"pointerdown\", startPress, eventOptions);\n        if (target instanceof HTMLElement) {\n            target.addEventListener(\"focus\", (event) => enableKeyboardPress(event, eventOptions));\n            if (!isElementKeyboardAccessible(target) &&\n                !target.hasAttribute(\"tabindex\")) {\n                target.tabIndex = 0;\n            }\n        }\n    });\n    return cancelEvents;\n}\n\nexport { press };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}