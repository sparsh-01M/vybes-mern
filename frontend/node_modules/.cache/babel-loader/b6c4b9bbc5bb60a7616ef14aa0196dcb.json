{"ast":null,"code":"var _jsxFileName = \"/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/src/components/AudioBook.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './AudioBook.css'; // AudiobookCard Component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AudiobookCard = _ref => {\n  _s();\n\n  let {\n    audiobook,\n    currentlyPlaying,\n    setCurrentlyPlaying\n  } = _ref;\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [audio] = useState(new Audio(audiobook.audioUrl));\n  useEffect(() => {\n    setIsPlaying(currentlyPlaying === audio);\n\n    const handleEnded = () => {\n      setIsPlaying(false);\n\n      if (currentlyPlaying === audio) {\n        setCurrentlyPlaying(null);\n      }\n    };\n\n    audio.addEventListener('ended', handleEnded);\n    return () => {\n      audio.removeEventListener('ended', handleEnded);\n      audio.pause();\n    };\n  }, [audio, currentlyPlaying, setCurrentlyPlaying]);\n\n  const togglePlay = () => {\n    if (isPlaying) {\n      audio.pause();\n      setCurrentlyPlaying(null);\n    } else {\n      if (currentlyPlaying && currentlyPlaying !== audio) {\n        currentlyPlaying.pause();\n      }\n\n      audio.play();\n      setCurrentlyPlaying(audio);\n    }\n  };\n\n  const truncateText = (text, maxLength) => {\n    if (!text) return '';\n    return text.length <= maxLength ? text : `${text.substr(0, maxLength)}...`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audiobook-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"audiobook-thumbnail\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: audiobook.thumbnailUrl,\n        alt: audiobook.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `play-button ${isPlaying ? 'playing' : ''}`,\n        onClick: togglePlay,\n        children: isPlaying ? '❚❚' : '▶'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"audiobook-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"audiobook-title\",\n        children: truncateText(audiobook.title, 40)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"audiobook-author\",\n        children: [\"By \", audiobook.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"audiobook-description\",\n        children: truncateText(audiobook.description, 100)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"audiobook-duration\",\n        children: audiobook.duration || 'Unknown duration'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}; // Pagination Component\n\n\n_s(AudiobookCard, \"XwZzW5KFEKGiBObTVigbiHHURhQ=\");\n\n_c = AudiobookCard;\n\nconst Pagination = _ref2 => {\n  let {\n    currentPage,\n    totalPages,\n    onPageChange\n  } = _ref2;\n\n  const getPageNumbers = () => {\n    const pageNumbers = [];\n    const maxPagesToShow = 5;\n\n    if (totalPages <= maxPagesToShow) {\n      for (let i = 1; i <= totalPages; i++) pageNumbers.push(i);\n    } else {\n      pageNumbers.push(1);\n      if (currentPage > 3) pageNumbers.push('...');\n      const startPage = Math.max(2, currentPage - 1);\n      const endPage = Math.min(totalPages - 1, currentPage + 1);\n\n      for (let i = startPage; i <= endPage; i++) {\n        if (i !== 1 && i !== totalPages) pageNumbers.push(i);\n      }\n\n      if (currentPage < totalPages - 2) pageNumbers.push('...');\n      pageNumbers.push(totalPages);\n    }\n\n    return pageNumbers;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pagination\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"page-nav\",\n      onClick: () => onPageChange(currentPage - 1),\n      disabled: currentPage === 1,\n      children: \"\\xAB Prev\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), getPageNumbers().map((number, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `page-number ${number === currentPage ? 'active' : ''}`,\n      onClick: () => number !== '...' && onPageChange(number),\n      disabled: number === '...',\n      children: number\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"page-nav\",\n      onClick: () => onPageChange(currentPage + 1),\n      disabled: currentPage === totalPages,\n      children: \"Next \\xBB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}; // Main App Component\n\n\n_c2 = Pagination;\n\nfunction AudiobookApp() {\n  _s2();\n\n  const [audiobooks, setAudiobooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [itemsPerPage] = useState(100);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState(null);\n  useEffect(() => {\n    const fetchAudiobooks = async () => {\n      try {\n        setLoading(true);\n        const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5002';\n        const response = await axios.get(`${API_URL}/api/audiobooks?page=${currentPage}&limit=${itemsPerPage}`);\n        setAudiobooks(response.data.audiobooks);\n        setTotalPages(response.data.totalPages);\n        setLoading(false);\n      } catch (err) {\n        const errorMessage = err.response ? `Error ${err.response.status}: ${err.response.data.message || err.response.statusText}` : 'Network error: Failed to connect to the server';\n        setError(errorMessage);\n        setLoading(false);\n      }\n    };\n\n    fetchAudiobooks();\n  }, [currentPage, itemsPerPage]);\n\n  const handlePageChange = pageNumber => {\n    setCurrentPage(pageNumber);\n\n    if (currentlyPlaying) {\n      currentlyPlaying.pause();\n      setCurrentlyPlaying(null);\n    }\n  };\n\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"Loading audiobooks...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Audiobook Library\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"audiobook-grid\",\n        children: audiobooks.length > 0 ? audiobooks.map(audiobook => /*#__PURE__*/_jsxDEV(AudiobookCard, {\n          audiobook: audiobook,\n          currentlyPlaying: currentlyPlaying,\n          setCurrentlyPlaying: setCurrentlyPlaying\n        }, audiobook._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No audiobooks found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        currentPage: currentPage,\n        totalPages: totalPages,\n        onPageChange: handlePageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(AudiobookApp, \"2iQeRI3KnPj3cbgr28w8LDD8/NI=\");\n\n_c3 = AudiobookApp;\nexport default AudiobookApp;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"AudiobookCard\");\n$RefreshReg$(_c2, \"Pagination\");\n$RefreshReg$(_c3, \"AudiobookApp\");","map":{"version":3,"names":["React","useState","useEffect","axios","AudiobookCard","audiobook","currentlyPlaying","setCurrentlyPlaying","isPlaying","setIsPlaying","audio","Audio","audioUrl","handleEnded","addEventListener","removeEventListener","pause","togglePlay","play","truncateText","text","maxLength","length","substr","thumbnailUrl","title","author","description","duration","Pagination","currentPage","totalPages","onPageChange","getPageNumbers","pageNumbers","maxPagesToShow","i","push","startPage","Math","max","endPage","min","map","number","index","AudiobookApp","audiobooks","setAudiobooks","loading","setLoading","error","setError","setCurrentPage","setTotalPages","itemsPerPage","fetchAudiobooks","API_URL","process","env","REACT_APP_API_URL","response","get","data","err","errorMessage","status","message","statusText","handlePageChange","pageNumber","_id"],"sources":["/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/src/components/AudioBook.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './AudioBook.css';\n\n// AudiobookCard Component\nconst AudiobookCard = ({ audiobook, currentlyPlaying, setCurrentlyPlaying }) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [audio] = useState(new Audio(audiobook.audioUrl));\n\n  useEffect(() => {\n    setIsPlaying(currentlyPlaying === audio);\n    \n    const handleEnded = () => {\n      setIsPlaying(false);\n      if (currentlyPlaying === audio) {\n        setCurrentlyPlaying(null);\n      }\n    };\n    \n    audio.addEventListener('ended', handleEnded);\n    return () => {\n      audio.removeEventListener('ended', handleEnded);\n      audio.pause();\n    };\n  }, [audio, currentlyPlaying, setCurrentlyPlaying]);\n\n  const togglePlay = () => {\n    if (isPlaying) {\n      audio.pause();\n      setCurrentlyPlaying(null);\n    } else {\n      if (currentlyPlaying && currentlyPlaying !== audio) {\n        currentlyPlaying.pause();\n      }\n      audio.play();\n      setCurrentlyPlaying(audio);\n    }\n  };\n\n  const truncateText = (text, maxLength) => {\n    if (!text) return '';\n    return text.length <= maxLength ? text : `${text.substr(0, maxLength)}...`;\n  };\n\n  return (\n    <div className=\"audiobook-card\">\n      <div className=\"audiobook-thumbnail\">\n        <img src={audiobook.thumbnailUrl} alt={audiobook.title} />\n        <button \n          className={`play-button ${isPlaying ? 'playing' : ''}`} \n          onClick={togglePlay}\n        >\n          {isPlaying ? '❚❚' : '▶'}\n        </button>\n      </div>\n      <div className=\"audiobook-info\">\n        <h3 className=\"audiobook-title\">{truncateText(audiobook.title, 40)}</h3>\n        <p className=\"audiobook-author\">By {audiobook.author}</p>\n        <p className=\"audiobook-description\">{truncateText(audiobook.description, 100)}</p>\n        <p className=\"audiobook-duration\">{audiobook.duration || 'Unknown duration'}</p>\n      </div>\n    </div>\n  );\n};\n\n// Pagination Component\nconst Pagination = ({ currentPage, totalPages, onPageChange }) => {\n  const getPageNumbers = () => {\n    const pageNumbers = [];\n    const maxPagesToShow = 5;\n    \n    if (totalPages <= maxPagesToShow) {\n      for (let i = 1; i <= totalPages; i++) pageNumbers.push(i);\n    } else {\n      pageNumbers.push(1);\n      if (currentPage > 3) pageNumbers.push('...');\n      \n      const startPage = Math.max(2, currentPage - 1);\n      const endPage = Math.min(totalPages - 1, currentPage + 1);\n      \n      for (let i = startPage; i <= endPage; i++) {\n        if (i !== 1 && i !== totalPages) pageNumbers.push(i);\n      }\n      \n      if (currentPage < totalPages - 2) pageNumbers.push('...');\n      pageNumbers.push(totalPages);\n    }\n    return pageNumbers;\n  };\n\n  return (\n    <div className=\"pagination\">\n      <button \n        className=\"page-nav\" \n        onClick={() => onPageChange(currentPage - 1)}\n        disabled={currentPage === 1}\n      >\n        &laquo; Prev\n      </button>\n      \n      {getPageNumbers().map((number, index) => (\n        <button\n          key={index}\n          className={`page-number ${number === currentPage ? 'active' : ''}`}\n          onClick={() => number !== '...' && onPageChange(number)}\n          disabled={number === '...'}\n        >\n          {number}\n        </button>\n      ))}\n      \n      <button \n        className=\"page-nav\" \n        onClick={() => onPageChange(currentPage + 1)}\n        disabled={currentPage === totalPages}\n      >\n        Next &raquo;\n      </button>\n    </div>\n  );\n};\n\n// Main App Component\nfunction AudiobookApp() {\n  const [audiobooks, setAudiobooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [itemsPerPage] = useState(100);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState(null);\n\n  useEffect(() => {\n    const fetchAudiobooks = async () => {\n      try {\n        setLoading(true);\n        const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5002';\n        const response = await axios.get(`${API_URL}/api/audiobooks?page=${currentPage}&limit=${itemsPerPage}`);\n        setAudiobooks(response.data.audiobooks);\n        setTotalPages(response.data.totalPages);\n        setLoading(false);\n      } catch (err) {\n        const errorMessage = err.response \n          ? `Error ${err.response.status}: ${err.response.data.message || err.response.statusText}`\n          : 'Network error: Failed to connect to the server';\n        setError(errorMessage);\n        setLoading(false);\n      }\n    };\n\n    fetchAudiobooks();\n  }, [currentPage, itemsPerPage]);\n\n  const handlePageChange = (pageNumber) => {\n    setCurrentPage(pageNumber);\n    if (currentlyPlaying) {\n      currentlyPlaying.pause();\n      setCurrentlyPlaying(null);\n    }\n  };\n\n  if (loading) return <div className=\"loading\">Loading audiobooks...</div>;\n  if (error) return <div className=\"error\">{error}</div>;\n\n  return (\n    <div className=\"app\">\n      <header>\n        <h1>Audiobook Library</h1>\n      </header>\n      \n      <main>\n        <div className=\"audiobook-grid\">\n          {audiobooks.length > 0 ? (\n            audiobooks.map(audiobook => (\n              <AudiobookCard \n                key={audiobook._id} \n                audiobook={audiobook}\n                currentlyPlaying={currentlyPlaying}\n                setCurrentlyPlaying={setCurrentlyPlaying}\n              />\n            ))\n          ) : (\n            <p>No audiobooks found</p>\n          )}\n        </div>\n        \n        <Pagination \n          currentPage={currentPage}\n          totalPages={totalPages}\n          onPageChange={handlePageChange}\n        />\n      </main>\n    </div>\n  );\n}\n\nexport default AudiobookApp;"],"mappings":"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"},"metadata":{},"sourceType":"module"}