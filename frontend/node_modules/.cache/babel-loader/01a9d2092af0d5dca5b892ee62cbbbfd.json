{"ast":null,"code":"import React from\"react\";import\"./PostDetail.css\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostDetail(_ref){var item=_ref.item,toggleDetails=_ref.toggleDetails;var navigate=useNavigate();// Toast functions\nvar notifyA=function notifyA(msg){return toast.error(msg);};var notifyB=function notifyB(msg){return toast.success(msg);};var removePost=function removePost(postId){if(window.confirm(\"Do you really want to delete this post ?\")){fetch(\"http://localhost:5000/deletePost/\".concat(postId),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);toggleDetails();navigate(\"/\");notifyB(result.message);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"showComment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postPic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",style:{borderBottom:\"1px solid #00000029\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-pic\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cGVyc29ufGVufDB8MnwwfHw%3D&auto=format&fit=crop&w=500&q=60\",alt:\"\"})}),/*#__PURE__*/_jsx(\"h5\",{children:item.postedBy.name}),/*#__PURE__*/_jsx(\"div\",{className:\"deletePost\",onClick:function onClick(){removePost(item._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-section\",style:{borderBottom:\"1px solid #00000029\"},children:item.comments.map(function(comment){return/*#__PURE__*/_jsxs(\"p\",{className:\"comm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"commenter\",style:{fontWeight:\"bolder\"},children:[comment.postedBy.name,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"commentText\",children:comment.comment})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.likes.length,\" Likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a comment\"//   value={comment}\n//   onChange={(e) => {\n//     setComment(e.target.value);\n//   }}\n}),/*#__PURE__*/_jsx(\"button\",{className:\"comment\"//   onClick={() => {\n//     makeComment(comment, item._id);\n//     toggleComment();\n//   }}\n,children:\"Post\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close-comment\",onClick:function onClick(){toggleDetails();},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined material-symbols-outlined-comment\",children:\"close\"})})]});}","map":{"version":3,"names":["React","useNavigate","toast","PostDetail","item","toggleDetails","navigate","notifyA","msg","error","notifyB","success","removePost","postId","window","confirm","fetch","method","headers","Authorization","localStorage","getItem","then","res","json","result","console","log","message","photo","borderBottom","postedBy","name","_id","comments","map","comment","fontWeight","likes","length","body"],"sources":["/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/src/components/PostDetail.js"],"sourcesContent":["import React from \"react\";\nimport \"./PostDetail.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nexport default function PostDetail({ item, toggleDetails }) {\n  const navigate = useNavigate();\n\n  // Toast functions\n  const notifyA = (msg) => toast.error(msg);\n  const notifyB = (msg) => toast.success(msg);\n\n  const removePost = (postId) => {\n    if (window.confirm(\"Do you really want to delete this post ?\")) {\n      fetch(`http://localhost:5000/deletePost/${postId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          console.log(result);\n          toggleDetails();\n          navigate(\"/\");\n          notifyB(result.message);\n        });\n    }\n  };\n\n  return (\n    <div className=\"showComment\">\n      <div className=\"container\">\n        <div className=\"postPic\">\n          <img src={item.photo} alt=\"\" />\n        </div>\n        <div className=\"details\">\n          {/* card header */}\n          <div\n            className=\"card-header\"\n            style={{ borderBottom: \"1px solid #00000029\" }}\n          >\n            <div className=\"card-pic\">\n              <img\n                src=\"https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cGVyc29ufGVufDB8MnwwfHw%3D&auto=format&fit=crop&w=500&q=60\"\n                alt=\"\"\n              />\n            </div>\n            <h5>{item.postedBy.name}</h5>\n            <div\n              className=\"deletePost\"\n              onClick={() => {\n                removePost(item._id);\n              }}\n            >\n              <span className=\"material-symbols-outlined\">delete</span>\n            </div>\n          </div>\n\n          {/* commentSection */}\n          <div\n            className=\"comment-section\"\n            style={{ borderBottom: \"1px solid #00000029\" }}\n          >\n            {item.comments.map((comment) => {\n              return (\n                <p className=\"comm\">\n                  <span className=\"commenter\" style={{ fontWeight: \"bolder\" }}>\n                    {comment.postedBy.name}{\" \"}\n                  </span>\n                  <span className=\"commentText\">{comment.comment}</span>\n                </p>\n              );\n            })}\n          </div>\n\n          {/* card content */}\n          <div className=\"card-content\">\n            <p>{item.likes.length} Likes</p>\n            <p>{item.body}</p>\n          </div>\n\n          {/* add Comment */}\n          <div className=\"add-comment\">\n            <span className=\"material-symbols-outlined\">mood</span>\n            <input\n              type=\"text\"\n              placeholder=\"Add a comment\"\n              //   value={comment}\n              //   onChange={(e) => {\n              //     setComment(e.target.value);\n              //   }}\n            />\n            <button\n              className=\"comment\"\n              //   onClick={() => {\n              //     makeComment(comment, item._id);\n              //     toggleComment();\n              //   }}\n            >\n              Post\n            </button>\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"close-comment\"\n        onClick={() => {\n          toggleDetails();\n        }}\n      >\n        <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\n          close\n        </span>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}