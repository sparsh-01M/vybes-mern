{"ast":null,"code":"var _jsxFileName = \"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Audiobook.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Audiobook.css\";\nimport { toast } from \"react-toastify\";\nimport config from '../config/config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Audiobook() {\n  _s();\n\n  const navigate = useNavigate();\n  const [genreGroups, setGenreGroups] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedGenres, setExpandedGenres] = useState({});\n  const [genrePages, setGenrePages] = useState({});\n  const [error, setError] = useState(null);\n  const [selectedGenre, setSelectedGenre] = useState('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true); // Toast function for errors\n\n  const notifyError = msg => toast.error(msg); // Function to get audio duration\n\n\n  const getAudioDuration = async audioUrl => {\n    try {\n      return new Promise(resolve => {\n        const audio = new Audio();\n        audio.addEventListener('loadedmetadata', () => {\n          resolve(Math.round(audio.duration));\n        });\n        audio.addEventListener('error', () => {\n          console.error('Error loading audio:', audioUrl);\n          resolve(0);\n        });\n        audio.src = audioUrl;\n      });\n    } catch (error) {\n      console.error('Error getting audio duration:', error);\n      return 0;\n    }\n  };\n\n  useEffect(() => {\n    const fetchAudiobooks = async () => {\n      try {\n        setLoading(true);\n        const url = selectedGenre === 'all' ? `${config.BACKEND_URL}/audiobooks?page=${currentPage}` : `${config.BACKEND_URL}/audiobooks?genre=${encodeURIComponent(selectedGenre)}&page=${currentPage}`;\n        const response = await fetch(url);\n        const data = await response.json();\n\n        if (currentPage === 1) {\n          setGenreGroups(data);\n        } else {\n          setGenreGroups(prev => [...prev, ...data]);\n        }\n\n        setHasMore(data.length > 0);\n      } catch (err) {\n        console.error('Error fetching audiobooks:', err);\n        notifyError(\"Failed to load audiobooks\");\n        setError('Failed to load audiobooks');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAudiobooks();\n  }, [selectedGenre, currentPage]);\n\n  const handleCardClick = audiobookId => {\n    navigate(`/audiobook/${audiobookId}`);\n  };\n\n  const handleSeeMore = async genre => {\n    try {\n      const nextPage = (genrePages[genre] || 1) + 1;\n      const response = await fetch(`${config.BACKEND_URL}/audiobooks?genre=${encodeURIComponent(genre)}&page=${nextPage}`);\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json(); // Update the genre group with additional books\n\n      setGenreGroups(prevGroups => prevGroups.map(group => {\n        if (group.genre === genre) {\n          return { ...group,\n            books: [...group.books, ...data.audiobooks],\n            hasMore: nextPage < data.totalPages\n          };\n        }\n\n        return group;\n      })); // Update the page number for this genre\n\n      setGenrePages(prev => ({ ...prev,\n        [genre]: nextPage\n      }));\n    } catch (err) {\n      console.error(\"Error loading more books:\", err);\n      notifyError(\"Failed to load more books\");\n    }\n  }; // Format duration from seconds to HH:MM:SS or MM:SS\n\n\n  const formatDuration = seconds => {\n    if (!seconds || isNaN(seconds)) return \"00:00\";\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor(seconds % 3600 / 60);\n    const remainingSeconds = seconds % 60;\n\n    if (hours > 0) {\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\n    }\n\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  const loadMore = () => {\n    setCurrentPage(prev => prev + 1);\n  };\n\n  const handleGenreChange = genre => {\n    setSelectedGenre(genre);\n    setCurrentPage(1);\n    setGenreGroups([]);\n  };\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"audiobook-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Error Loading Audiobooks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchAudiobooks,\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading audiobooks...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (genreGroups.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"No audiobooks found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audiobook-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"audiobook-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Audiobooks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Discover amazing stories and knowledge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"genre-filter\",\n      children: ['all', 'fiction', 'non-fiction', 'mystery', 'romance', 'science-fiction', 'biography', 'self-help', 'business', 'history'].map(genre => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `genre-btn ${selectedGenre === genre ? 'active' : ''}`,\n        onClick: () => handleGenreChange(genre),\n        children: genre.charAt(0).toUpperCase() + genre.slice(1)\n      }, genre, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"audiobooks-grid\",\n      children: genreGroups.map(group => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"genre-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"genre-title\",\n          children: group.genre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"audiobook-grid\",\n          children: group.books.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"audiobook-card\",\n            onClick: () => handleCardClick(book._id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"audiobook-thumbnail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: book.thumbnailUrl,\n                alt: book.title || \"Audiobook cover\",\n                onError: e => {\n                  e.target.src = \"https://via.placeholder.com/300x400?text=No+Image\";\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audiobook-meta-overlay\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"audiobook-duration\",\n                  children: formatDuration(Number(book.duration))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"audiobook-rating\",\n                  children: [[...Array(5)].map((_, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `star ${index < Math.floor(book.rating || 0) ? 'filled' : ''}`,\n                    children: \"\\u2605\"\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 27\n                  }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"rating-value\",\n                    children: [\"(\", (book.rating || 0).toFixed(1), \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"audiobook-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"audiobook-name\",\n                children: book.title || \"No Title Available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"audiobook-author\",\n                children: [\"By \", book.author || \"Unknown Author\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 21\n              }, this), book.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"audiobook-description\",\n                children: book.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audiobook-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"audiobook-duration\",\n                  children: formatDuration(Number(book.duration))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"audiobook-rating\",\n                  children: [[...Array(5)].map((_, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `star ${index < Math.floor(book.rating || 0) ? 'filled' : ''}`,\n                    children: \"\\u2605\"\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 27\n                  }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"rating-value\",\n                    children: [\"(\", (book.rating || 0).toFixed(1), \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this)]\n          }, book._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), group.hasMore && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"see-more-button\",\n          onClick: () => handleSeeMore(group.genre),\n          children: \"See More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }, this)]\n      }, group.genre, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading audiobooks...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }, this), !loading && hasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadMore,\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }, this), !loading && !hasMore && genreGroups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-more\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No more audiobooks to load\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 9\n    }, this), !loading && genreGroups.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-audiobooks\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No audiobooks found for this genre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Audiobook, \"uqLO1ppmL696tLlayH7Yh2HdRxU=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Audiobook;\n\nvar _c;\n\n$RefreshReg$(_c, \"Audiobook\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","toast","config","Audiobook","navigate","genreGroups","setGenreGroups","loading","setLoading","expandedGenres","setExpandedGenres","genrePages","setGenrePages","error","setError","selectedGenre","setSelectedGenre","currentPage","setCurrentPage","hasMore","setHasMore","notifyError","msg","getAudioDuration","audioUrl","Promise","resolve","audio","Audio","addEventListener","Math","round","duration","console","src","fetchAudiobooks","url","BACKEND_URL","encodeURIComponent","response","fetch","data","json","prev","length","err","handleCardClick","audiobookId","handleSeeMore","genre","nextPage","ok","Error","status","prevGroups","map","group","books","audiobooks","totalPages","formatDuration","seconds","isNaN","hours","floor","minutes","remainingSeconds","toString","padStart","loadMore","handleGenreChange","charAt","toUpperCase","slice","book","_id","thumbnailUrl","title","e","target","Number","Array","_","index","rating","toFixed","author","description"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Audiobook.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Audiobook.css\";\nimport { toast } from \"react-toastify\";\nimport config from '../config/config';\n\nexport default function Audiobook() {\n  const navigate = useNavigate();\n  const [genreGroups, setGenreGroups] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedGenres, setExpandedGenres] = useState({});\n  const [genrePages, setGenrePages] = useState({});\n  const [error, setError] = useState(null);\n  const [selectedGenre, setSelectedGenre] = useState('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n\n  // Toast function for errors\n  const notifyError = (msg) => toast.error(msg);\n\n  // Function to get audio duration\n  const getAudioDuration = async (audioUrl) => {\n    try {\n      return new Promise((resolve) => {\n        const audio = new Audio();\n        audio.addEventListener('loadedmetadata', () => {\n          resolve(Math.round(audio.duration));\n        });\n        audio.addEventListener('error', () => {\n          console.error('Error loading audio:', audioUrl);\n          resolve(0);\n        });\n        audio.src = audioUrl;\n      });\n    } catch (error) {\n      console.error('Error getting audio duration:', error);\n      return 0;\n    }\n  };\n\n  useEffect(() => {\n    const fetchAudiobooks = async () => {\n      try {\n        setLoading(true);\n        const url = selectedGenre === 'all' \n          ? `${config.BACKEND_URL}/audiobooks?page=${currentPage}`\n          : `${config.BACKEND_URL}/audiobooks?genre=${encodeURIComponent(selectedGenre)}&page=${currentPage}`;\n        \n        const response = await fetch(url);\n        const data = await response.json();\n        \n        if (currentPage === 1) {\n          setGenreGroups(data);\n        } else {\n          setGenreGroups(prev => [...prev, ...data]);\n        }\n        \n        setHasMore(data.length > 0);\n      } catch (err) {\n        console.error('Error fetching audiobooks:', err);\n        notifyError(\"Failed to load audiobooks\");\n        setError('Failed to load audiobooks');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAudiobooks();\n  }, [selectedGenre, currentPage]);\n\n  const handleCardClick = (audiobookId) => {\n    navigate(`/audiobook/${audiobookId}`);\n  };\n\n  const handleSeeMore = async (genre) => {\n    try {\n      const nextPage = (genrePages[genre] || 1) + 1;\n      const response = await fetch(`${config.BACKEND_URL}/audiobooks?genre=${encodeURIComponent(genre)}&page=${nextPage}`);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      \n      // Update the genre group with additional books\n      setGenreGroups(prevGroups => \n        prevGroups.map(group => {\n          if (group.genre === genre) {\n            return {\n              ...group,\n              books: [...group.books, ...data.audiobooks],\n              hasMore: nextPage < data.totalPages\n            };\n          }\n          return group;\n        })\n      );\n\n      // Update the page number for this genre\n      setGenrePages(prev => ({\n        ...prev,\n        [genre]: nextPage\n      }));\n\n    } catch (err) {\n      console.error(\"Error loading more books:\", err);\n      notifyError(\"Failed to load more books\");\n    }\n  };\n\n  // Format duration from seconds to HH:MM:SS or MM:SS\n  const formatDuration = (seconds) => {\n    if (!seconds || isNaN(seconds)) return \"00:00\";\n    \n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const remainingSeconds = seconds % 60;\n\n    if (hours > 0) {\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\n    }\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  const loadMore = () => {\n    setCurrentPage(prev => prev + 1);\n  };\n\n  const handleGenreChange = (genre) => {\n    setSelectedGenre(genre);\n    setCurrentPage(1);\n    setGenreGroups([]);\n  };\n\n  if (error) {\n    return (\n      <div className=\"audiobook-container\">\n        <div className=\"error-message\">\n          <h2>Error Loading Audiobooks</h2>\n          <p>{error}</p>\n          <button onClick={fetchAudiobooks}>Try Again</button>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return <div className=\"loading\">Loading audiobooks...</div>;\n  }\n\n  if (genreGroups.length === 0) {\n    return <div className=\"loading\">No audiobooks found</div>;\n  }\n\n  return (\n    <div className=\"audiobook-container\">\n      <div className=\"audiobook-header\">\n        <h1>Audiobooks</h1>\n        <p>Discover amazing stories and knowledge</p>\n      </div>\n\n      <div className=\"genre-filter\">\n        {['all', 'fiction', 'non-fiction', 'mystery', 'romance', \n          'science-fiction', 'biography', 'self-help', 'business', 'history'].map(genre => (\n          <button\n            key={genre}\n            className={`genre-btn ${selectedGenre === genre ? 'active' : ''}`}\n            onClick={() => handleGenreChange(genre)}\n          >\n            {genre.charAt(0).toUpperCase() + genre.slice(1)}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"audiobooks-grid\">\n        {genreGroups.map((group) => (\n          <div key={group.genre} className=\"genre-section\">\n            <h2 className=\"genre-title\">{group.genre}</h2>\n            <div className=\"audiobook-grid\">\n              {group.books.map((book) => (\n                <div\n                  key={book._id}\n                  className=\"audiobook-card\"\n                  onClick={() => handleCardClick(book._id)}\n                >\n                  <div className=\"audiobook-thumbnail\">\n                    <img \n                      src={book.thumbnailUrl} \n                      alt={book.title || \"Audiobook cover\"} \n                      onError={(e) => {\n                        e.target.src = \"https://via.placeholder.com/300x400?text=No+Image\";\n                      }}\n                    />\n                    {/* Meta overlay for mobile */}\n                    <div className=\"audiobook-meta-overlay\">\n                      <span className=\"audiobook-duration\">\n                        {formatDuration(Number(book.duration))}\n                      </span>\n                      <div className=\"audiobook-rating\">\n                        {[...Array(5)].map((_, index) => (\n                          <span\n                            key={index}\n                            className={`star ${index < Math.floor(book.rating || 0) ? 'filled' : ''}`}\n                          >\n                            ★\n                          </span>\n                        ))}\n                        <span className=\"rating-value\">({(book.rating || 0).toFixed(1)})</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"audiobook-details\">\n                    <h3 className=\"audiobook-name\">\n                      {book.title || \"No Title Available\"}\n                    </h3>\n                    <p className=\"audiobook-author\">\n                      By {book.author || \"Unknown Author\"}\n                    </p>\n                    {book.description && (\n                      <p className=\"audiobook-description\">\n                        {book.description}\n                      </p>\n                    )}\n                    {/* Meta section for desktop */}\n                    <div className=\"audiobook-meta\">\n                      <span className=\"audiobook-duration\">\n                        {formatDuration(Number(book.duration))}\n                      </span>\n                      <div className=\"audiobook-rating\">\n                        {[...Array(5)].map((_, index) => (\n                          <span\n                            key={index}\n                            className={`star ${index < Math.floor(book.rating || 0) ? 'filled' : ''}`}\n                          >\n                            ★\n                          </span>\n                        ))}\n                        <span className=\"rating-value\">({(book.rating || 0).toFixed(1)})</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n            {group.hasMore && (\n              <button \n                className=\"see-more-button\"\n                onClick={() => handleSeeMore(group.genre)}\n              >\n                See More\n              </button>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {loading && (\n        <div className=\"loading\">\n          <p>Loading audiobooks...</p>\n        </div>\n      )}\n\n      {!loading && hasMore && (\n        <div className=\"load-more\">\n          <button onClick={loadMore}>Load More</button>\n        </div>\n      )}\n\n      {!loading && !hasMore && genreGroups.length > 0 && (\n        <div className=\"no-more\">\n          <p>No more audiobooks to load</p>\n        </div>\n      )}\n\n      {!loading && genreGroups.length === 0 && (\n        <div className=\"no-audiobooks\">\n          <p>No audiobooks found for this genre</p>\n        </div>\n      )}\n    </div>\n  );\n} "],"mappings":"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"},"metadata":{},"sourceType":"module"}