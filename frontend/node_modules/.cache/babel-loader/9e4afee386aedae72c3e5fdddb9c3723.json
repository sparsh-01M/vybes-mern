{"ast":null,"code":"var _jsxFileName = \"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/VideoPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './VideoPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst VideoPage = () => {\n  _s();\n\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showUpload, setShowUpload] = useState(false);\n  const [uploadData, setUploadData] = useState({\n    title: '',\n    description: '',\n    file: null\n  });\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const fetchVideos = async () => {\n    try {\n      const response = await fetch('http://localhost:4000/api/videos');\n      const data = await response.json();\n      setVideos(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching videos:', error);\n      setLoading(false);\n    }\n  };\n\n  const handleUpload = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('title', uploadData.title);\n    formData.append('description', uploadData.description);\n    formData.append('video', uploadData.file);\n\n    try {\n      const response = await fetch('http://localhost:4000/api/videos/upload', {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n\n      if (data.success) {\n        setShowUpload(false);\n        fetchVideos();\n      }\n    } catch (error) {\n      console.error('Error uploading video:', error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons\",\n          children: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search videos...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"upload-btn\",\n        onClick: () => setShowUpload(true),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons\",\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), showUpload && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Upload Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpload,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Title\",\n            value: uploadData.title,\n            onChange: e => setUploadData({ ...uploadData,\n              title: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Description\",\n            value: uploadData.description,\n            onChange: e => setUploadData({ ...uploadData,\n              description: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"video/*\",\n            onChange: e => setUploadData({ ...uploadData,\n              file: e.target.files[0]\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowUpload(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"videos-grid\",\n      children: videos.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          src: video.url,\n          poster: video.thumbnail,\n          onClick: e => e.target.play(),\n          onBlur: e => e.target.pause()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: video.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: video.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"material-icons\",\n                children: \"visibility\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 23\n              }, this), \" \", video.views]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"material-icons\",\n                children: \"thumb_up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 23\n              }, this), \" \", video.likes]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)]\n      }, video._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(VideoPage, \"mRLScUVSr/44f2ee8aL2lLE52QY=\");\n\n_c = VideoPage;\nexport default VideoPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoPage\");","map":{"version":3,"names":["React","useState","useEffect","VideoPage","videos","setVideos","loading","setLoading","searchQuery","setSearchQuery","showUpload","setShowUpload","uploadData","setUploadData","title","description","file","fetchVideos","response","fetch","data","json","error","console","handleUpload","e","preventDefault","formData","FormData","append","method","body","success","target","value","files","map","video","url","thumbnail","play","pause","views","likes","_id"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/VideoPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './VideoPage.css';\n\nconst VideoPage = () => {\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showUpload, setShowUpload] = useState(false);\n  const [uploadData, setUploadData] = useState({\n    title: '',\n    description: '',\n    file: null\n  });\n\n  useEffect(() => {\n    fetchVideos();\n  }, []);\n\n  const fetchVideos = async () => {\n    try {\n      const response = await fetch('http://localhost:4000/api/videos');\n      const data = await response.json();\n      setVideos(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching videos:', error);\n      setLoading(false);\n    }\n  };\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('title', uploadData.title);\n    formData.append('description', uploadData.description);\n    formData.append('video', uploadData.file);\n\n    try {\n      const response = await fetch('http://localhost:4000/api/videos/upload', {\n        method: 'POST',\n        body: formData,\n      });\n      const data = await response.json();\n      if (data.success) {\n        setShowUpload(false);\n        fetchVideos();\n      }\n    } catch (error) {\n      console.error('Error uploading video:', error);\n    }\n  };\n\n  return (\n    <div className=\"video-page\">\n      <div className=\"video-header\">\n        <div className=\"search-bar\">\n          <i className=\"material-icons\">search</i>\n          <input\n            type=\"text\"\n            placeholder=\"Search videos...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n        </div>\n        <button className=\"upload-btn\" onClick={() => setShowUpload(true)}>\n          <i className=\"material-icons\">add</i>\n        </button>\n      </div>\n\n      {showUpload && (\n        <div className=\"upload-modal\">\n          <div className=\"upload-content\">\n            <h2>Upload Video</h2>\n            <form onSubmit={handleUpload}>\n              <input\n                type=\"text\"\n                placeholder=\"Title\"\n                value={uploadData.title}\n                onChange={(e) => setUploadData({...uploadData, title: e.target.value})}\n              />\n              <textarea\n                placeholder=\"Description\"\n                value={uploadData.description}\n                onChange={(e) => setUploadData({...uploadData, description: e.target.value})}\n              />\n              <input\n                type=\"file\"\n                accept=\"video/*\"\n                onChange={(e) => setUploadData({...uploadData, file: e.target.files[0]})}\n              />\n              <div className=\"upload-actions\">\n                <button type=\"submit\">Upload</button>\n                <button type=\"button\" onClick={() => setShowUpload(false)}>Cancel</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      <div className=\"videos-grid\">\n        {videos.map((video) => (\n          <div key={video._id} className=\"video-card\">\n            <video\n              src={video.url}\n              poster={video.thumbnail}\n              onClick={(e) => e.target.play()}\n              onBlur={(e) => e.target.pause()}\n            />\n            <div className=\"video-info\">\n              <h3>{video.title}</h3>\n              <p>{video.description}</p>\n              <div className=\"video-stats\">\n                <span><i className=\"material-icons\">visibility</i> {video.views}</span>\n                <span><i className=\"material-icons\">thumb_up</i> {video.likes}</span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default VideoPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}