{"ast":null,"code":"var _jsxFileName = \"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./Profile.css\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n\n  var _userProfile$follower, _userProfile$followin;\n\n  const {\n    userid\n  } = useParams();\n  const navigate = useNavigate();\n  const [isFollow, setIsFollow] = useState(false);\n  const [userProfile, setUserProfile] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [videos, setVideos] = useState([]);\n  const [activeTab, setActiveTab] = useState('posts'); // 'posts' or 'videos'\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingPost, setEditingPost] = useState(null);\n  const [editCaption, setEditCaption] = useState(\"\"); // Toast functions\n\n  const notifyA = msg => toast.error(msg);\n\n  const notifyB = msg => toast.success(msg); // Add debug logging for tab changes\n\n\n  const handleTabChange = tab => {\n    console.log(`Switching to ${tab} tab`);\n    console.log('Current videos state:', videos);\n    setActiveTab(tab);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n\n    if (!token) {\n      console.error(\"No JWT token found\");\n      navigate(\"./signup\");\n      return;\n    }\n\n    console.log(\"Fetching profile data for user:\", userid);\n    console.log(\"Using token:\", token.substring(0, 10) + \"...\"); // Fetch user profile, posts, and videos\n\n    Promise.all([// Fetch user profile\n    fetch(`http://localhost:4000/user/${userid}`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(async res => {\n      console.log(\"User profile response status:\", res.status);\n      const data = await res.json();\n      console.log(\"User profile data:\", data);\n      return data;\n    }), // Fetch user's posts\n    fetch(`http://localhost:4000/myposts/${userid}`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(async res => {\n      console.log(\"Posts response status:\", res.status);\n      const data = await res.json();\n      console.log(\"Posts data:\", data);\n      return data;\n    }), // Fetch user's videos\n    fetch(`http://localhost:4000/videos/user/${userid}`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(async res => {\n      console.log(\"Videos response status:\", res.status);\n      console.log(\"Videos response headers:\", Object.fromEntries(res.headers.entries()));\n\n      if (!res.ok) {\n        if (res.status === 404) {\n          console.log(\"No videos found for user\");\n          return [];\n        }\n\n        const errorText = await res.text();\n        console.error(\"Error response body:\", errorText);\n        throw new Error(`HTTP error! status: ${res.status}, body: ${errorText}`);\n      }\n\n      const data = await res.json();\n      console.log(\"Raw videos data:\", data); // Validate video data structure\n\n      if (Array.isArray(data)) {\n        console.log(\"Videos data is an array with length:\", data.length);\n        data.forEach((video, index) => {\n          console.log(`Video ${index + 1}:`, {\n            id: video._id,\n            title: video.title,\n            url: video.url,\n            thumbnail: video.thumbnail,\n            hasUrl: !!video.url,\n            hasThumbnail: !!video.thumbnail\n          });\n        });\n      } else {\n        console.warn(\"Videos data is not an array:\", typeof data);\n      }\n\n      return data;\n    })]).then(_ref => {\n      var _userData$followers;\n\n      let [userData, postsData, videosData] = _ref;\n      console.log(\"All data fetched successfully\");\n      console.log(\"User profile:\", userData);\n      console.log(\"User posts:\", postsData);\n      console.log(\"User videos:\", videosData);\n      setUserProfile(userData);\n      setPosts(postsData); // Ensure videosData is an array and has the expected structure\n\n      const processedVideos = Array.isArray(videosData) ? videosData : [];\n      console.log(\"Processed videos for display:\", processedVideos);\n      console.log(\"Number of videos to display:\", processedVideos.length);\n      setVideos(processedVideos); // Check if current user is following this profile\n\n      const currentUserId = JSON.parse(localStorage.getItem(\"user\"))._id;\n\n      console.log(\"Current user ID:\", currentUserId);\n      console.log(\"Profile followers:\", userData.followers);\n\n      if ((_userData$followers = userData.followers) !== null && _userData$followers !== void 0 && _userData$followers.includes(currentUserId)) {\n        console.log(\"Current user is following this profile\");\n        setIsFollow(true);\n      } else {\n        console.log(\"Current user is not following this profile\");\n      }\n    }).catch(err => {\n      console.error(\"Error in profile data fetch:\", err);\n      console.error(\"Error stack:\", err.stack);\n      notifyA(\"Error loading profile data\");\n      setPosts([]);\n      setVideos([]);\n    });\n  }, [userid, navigate]);\n\n  const followUser = () => {\n    fetch(\"http://localhost:4000/follow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        followId: userid\n      })\n    }).then(res => res.json()).then(result => {\n      console.log(\"Follow result:\", result);\n      setIsFollow(true);\n      notifyB(\"Following user\"); // Update user profile with new follower\n\n      setUserProfile(prev => ({ ...prev,\n        followers: [...(prev.followers || []), JSON.parse(localStorage.getItem(\"user\"))._id]\n      }));\n    });\n  };\n\n  const unfollowUser = () => {\n    fetch(\"http://localhost:4000/unfollow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        followId: userid\n      })\n    }).then(res => res.json()).then(result => {\n      console.log(\"Unfollow result:\", result);\n      setIsFollow(false);\n      notifyB(\"Unfollowed user\"); // Update user profile by removing follower\n\n      setUserProfile(prev => ({ ...prev,\n        followers: prev.followers.filter(id => id !== JSON.parse(localStorage.getItem(\"user\"))._id)\n      }));\n    });\n  }; // Function to handle post edit\n\n\n  const handleEditPost = post => {\n    console.log(\"Editing post:\", post);\n    setEditingPost(post);\n    setEditCaption(post.body);\n    setIsEditing(true);\n  }; // Function to save edited post\n\n\n  const saveEditedPost = async () => {\n    if (!editCaption.trim()) {\n      notifyA(\"Caption cannot be empty\");\n      return;\n    }\n\n    try {\n      console.log(\"Saving edited post:\", {\n        postId: editingPost._id,\n        newCaption: editCaption\n      });\n      const response = await fetch(`http://localhost:4000/updatePost/${editingPost._id}`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n        },\n        body: JSON.stringify({\n          body: editCaption\n        })\n      });\n      const result = await response.json();\n      console.log(\"Update response:\", result);\n\n      if (response.ok) {\n        // Update the posts array with the edited post\n        const updatedPosts = posts.map(post => {\n          if (post._id === result._id) {\n            return result;\n          }\n\n          return post;\n        });\n        setPosts(updatedPosts);\n        setIsEditing(false);\n        setEditingPost(null);\n        setEditCaption(\"\");\n        notifyB(\"Post updated successfully\");\n      } else {\n        notifyA(result.error || \"Error updating post\");\n      }\n    } catch (err) {\n      console.error(\"Error updating post:\", err);\n      notifyA(\"Error updating post\");\n    }\n  }; // Function to delete post\n\n\n  const deletePost = postId => {\n    if (window.confirm(\"Do you really want to delete this post?\")) {\n      console.log(\"Deleting post:\", postId);\n      fetch(`http://localhost:4000/deletePost/${postId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n        }\n      }).then(res => res.json()).then(result => {\n        console.log(\"Delete result:\", result);\n        const newData = posts.filter(item => {\n          return item._id !== postId;\n        });\n        setPosts(newData);\n        notifyB(result.message);\n      }).catch(err => {\n        console.error(\"Error deleting post:\", err);\n        notifyA(\"Error deleting post\");\n      });\n    }\n  }; // Add debug logging for video deletion\n\n\n  const deleteVideo = videoId => {\n    console.log(\"Attempting to delete video:\", videoId);\n\n    if (window.confirm(\"Do you really want to delete this video?\")) {\n      console.log(\"Delete confirmed, sending request...\");\n      fetch(`http://localhost:4000/video/${videoId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n        }\n      }).then(async res => {\n        console.log(\"Delete response status:\", res.status);\n        const data = await res.json();\n        console.log(\"Delete response data:\", data);\n        return data;\n      }).then(result => {\n        console.log(\"Delete successful, updating videos state\");\n        const newData = videos.filter(item => {\n          return item._id !== videoId;\n        });\n        console.log(\"Remaining videos:\", newData);\n        setVideos(newData);\n        notifyB(result.message);\n      }).catch(err => {\n        console.error(\"Error deleting video:\", err);\n        console.error(\"Error stack:\", err.stack);\n        notifyA(\"Error deleting video\");\n      });\n    } else {\n      console.log(\"Delete cancelled by user\");\n    }\n  }; // Add debug logging for video rendering\n\n\n  const renderVideos = () => {\n    console.log(\"Rendering videos tab\");\n    console.log(\"Current videos state:\", videos);\n    console.log(\"Active tab:\", activeTab);\n\n    if (!videos || videos.length === 0) {\n      console.log(\"No videos to display\");\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-content\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No videos uploaded yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this);\n    }\n\n    console.log(\"Rendering video grid with\", videos.length, \"videos\");\n    return videos.map(video => {\n      console.log(\"Rendering video:\", {\n        id: video._id,\n        title: video.title,\n        url: video.url,\n        thumbnail: video.thumbnail\n      });\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          src: video.url,\n          poster: video.thumbnail,\n          controls: true,\n          preload: \"metadata\",\n          onError: e => {\n            console.error(\"Error loading video:\", {\n              videoId: video._id,\n              error: e,\n              url: video.url\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: video.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: video.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), (userProfile === null || userProfile === void 0 ? void 0 : userProfile._id) === JSON.parse(localStorage.getItem(\"user\"))._id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-btn\",\n            onClick: () => deleteVideo(video._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this)]\n      }, video._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-frame\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-pic\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.Photo) || \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-data\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: userProfile === null || userProfile === void 0 ? void 0 : userProfile.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [posts.length, \" posts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [videos.length, \" videos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [(userProfile === null || userProfile === void 0 ? void 0 : (_userProfile$follower = userProfile.followers) === null || _userProfile$follower === void 0 ? void 0 : _userProfile$follower.length) || 0, \" followers\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [(userProfile === null || userProfile === void 0 ? void 0 : (_userProfile$followin = userProfile.following) === null || _userProfile$followin === void 0 ? void 0 : _userProfile$followin.length) || 0, \" following\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), (userProfile === null || userProfile === void 0 ? void 0 : userProfile._id) === JSON.parse(localStorage.getItem(\"user\"))._id ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"followBtn\",\n            onClick: () => {\n              navigate(\"/createPost\");\n            },\n            children: \"Create Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"followBtn\",\n            onClick: () => {\n              navigate(\"/upload-video\");\n            },\n            children: \"Upload Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this) : isFollow ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"followBtn\",\n          onClick: unfollowUser,\n          children: \"Unfollow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"followBtn\",\n          onClick: followUser,\n          children: \"Follow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-data\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-info\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: userProfile === null || userProfile === void 0 ? void 0 : userProfile.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'posts' ? 'active' : ''}`,\n        onClick: () => handleTabChange('posts'),\n        children: \"Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'videos' ? 'active' : ''}`,\n        onClick: () => handleTabChange('videos'),\n        children: \"Videos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 7\n    }, this), isEditing && editingPost && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit-post-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-post-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Edit Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-post-image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: editingPost.photo,\n            alt: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: editCaption,\n          onChange: e => setEditCaption(e.target.value),\n          placeholder: \"Write a caption...\",\n          rows: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-post-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setIsEditing(false);\n              setEditingPost(null);\n              setEditCaption(\"\");\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveEditedPost,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 9\n    }, this), activeTab === 'posts' ?\n    /*#__PURE__*/\n    // Posts Gallery\n    _jsxDEV(\"div\", {\n      className: \"gallery\",\n      children: posts.map(pics => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: pics.photo,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 17\n          }, this), (userProfile === null || userProfile === void 0 ? void 0 : userProfile._id) === JSON.parse(localStorage.getItem(\"user\"))._id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"edit-btn\",\n              onClick: () => handleEditPost(pics),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-btn\",\n              onClick: () => deletePost(pics._id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 19\n          }, this)]\n        }, pics._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    // Videos Grid\n    _jsxDEV(\"div\", {\n      className: \"videos-grid\",\n      children: renderVideos()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 372,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Profile, \"xIERLbNjQLOxh85bKbrpOEYJI+Y=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","toast","Link","Profile","userid","navigate","isFollow","setIsFollow","userProfile","setUserProfile","posts","setPosts","videos","setVideos","activeTab","setActiveTab","isEditing","setIsEditing","editingPost","setEditingPost","editCaption","setEditCaption","notifyA","msg","error","notifyB","success","handleTabChange","tab","console","log","token","localStorage","getItem","substring","Promise","all","fetch","headers","Authorization","then","res","status","data","json","Object","fromEntries","entries","ok","errorText","text","Error","Array","isArray","length","forEach","video","index","id","_id","title","url","thumbnail","hasUrl","hasThumbnail","warn","userData","postsData","videosData","processedVideos","currentUserId","JSON","parse","followers","includes","catch","err","stack","followUser","method","body","stringify","followId","result","prev","unfollowUser","filter","handleEditPost","post","saveEditedPost","trim","postId","newCaption","response","updatedPosts","map","deletePost","window","confirm","newData","item","message","deleteVideo","videoId","renderVideos","e","description","Photo","name","following","email","photo","target","value","pics"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Profile.css\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Profile() {\n  const { userid } = useParams();\n  const navigate = useNavigate();\n  const [isFollow, setIsFollow] = useState(false);\n  const [userProfile, setUserProfile] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [videos, setVideos] = useState([]);\n  const [activeTab, setActiveTab] = useState('posts'); // 'posts' or 'videos'\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingPost, setEditingPost] = useState(null);\n  const [editCaption, setEditCaption] = useState(\"\");\n\n  // Toast functions\n  const notifyA = (msg) => toast.error(msg);\n  const notifyB = (msg) => toast.success(msg);\n\n  // Add debug logging for tab changes\n  const handleTabChange = (tab) => {\n    console.log(`Switching to ${tab} tab`);\n    console.log('Current videos state:', videos);\n    setActiveTab(tab);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    if (!token) {\n      console.error(\"No JWT token found\");\n      navigate(\"./signup\");\n      return;\n    }\n\n    console.log(\"Fetching profile data for user:\", userid);\n    console.log(\"Using token:\", token.substring(0, 10) + \"...\");\n\n    // Fetch user profile, posts, and videos\n    Promise.all([\n      // Fetch user profile\n      fetch(`http://localhost:4000/user/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      }).then(async res => {\n        console.log(\"User profile response status:\", res.status);\n        const data = await res.json();\n        console.log(\"User profile data:\", data);\n        return data;\n      }),\n      \n      // Fetch user's posts\n      fetch(`http://localhost:4000/myposts/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      }).then(async res => {\n        console.log(\"Posts response status:\", res.status);\n        const data = await res.json();\n        console.log(\"Posts data:\", data);\n        return data;\n      }),\n\n      // Fetch user's videos\n      fetch(`http://localhost:4000/videos/user/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      }).then(async res => {\n        console.log(\"Videos response status:\", res.status);\n        console.log(\"Videos response headers:\", Object.fromEntries(res.headers.entries()));\n        \n        if (!res.ok) {\n          if (res.status === 404) {\n            console.log(\"No videos found for user\");\n            return [];\n          }\n          const errorText = await res.text();\n          console.error(\"Error response body:\", errorText);\n          throw new Error(`HTTP error! status: ${res.status}, body: ${errorText}`);\n        }\n        \n        const data = await res.json();\n        console.log(\"Raw videos data:\", data);\n        \n        // Validate video data structure\n        if (Array.isArray(data)) {\n          console.log(\"Videos data is an array with length:\", data.length);\n          data.forEach((video, index) => {\n            console.log(`Video ${index + 1}:`, {\n              id: video._id,\n              title: video.title,\n              url: video.url,\n              thumbnail: video.thumbnail,\n              hasUrl: !!video.url,\n              hasThumbnail: !!video.thumbnail\n            });\n          });\n        } else {\n          console.warn(\"Videos data is not an array:\", typeof data);\n        }\n        \n        return data;\n      })\n    ])\n    .then(([userData, postsData, videosData]) => {\n      console.log(\"All data fetched successfully\");\n      console.log(\"User profile:\", userData);\n      console.log(\"User posts:\", postsData);\n      console.log(\"User videos:\", videosData);\n      \n      setUserProfile(userData);\n      setPosts(postsData);\n      \n      // Ensure videosData is an array and has the expected structure\n      const processedVideos = Array.isArray(videosData) ? videosData : [];\n      console.log(\"Processed videos for display:\", processedVideos);\n      console.log(\"Number of videos to display:\", processedVideos.length);\n      \n      setVideos(processedVideos);\n      \n      // Check if current user is following this profile\n      const currentUserId = JSON.parse(localStorage.getItem(\"user\"))._id;\n      console.log(\"Current user ID:\", currentUserId);\n      console.log(\"Profile followers:\", userData.followers);\n      \n      if (userData.followers?.includes(currentUserId)) {\n        console.log(\"Current user is following this profile\");\n        setIsFollow(true);\n      } else {\n        console.log(\"Current user is not following this profile\");\n      }\n    })\n    .catch(err => {\n      console.error(\"Error in profile data fetch:\", err);\n      console.error(\"Error stack:\", err.stack);\n      notifyA(\"Error loading profile data\");\n      setPosts([]);\n      setVideos([]);\n    });\n  }, [userid, navigate]);\n\n  const followUser = () => {\n    fetch(\"http://localhost:4000/follow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        followId: userid,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(\"Follow result:\", result);\n        setIsFollow(true);\n        notifyB(\"Following user\");\n        // Update user profile with new follower\n        setUserProfile(prev => ({\n          ...prev,\n          followers: [...(prev.followers || []), JSON.parse(localStorage.getItem(\"user\"))._id]\n        }));\n      });\n  };\n\n  const unfollowUser = () => {\n    fetch(\"http://localhost:4000/unfollow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        followId: userid,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(\"Unfollow result:\", result);\n        setIsFollow(false);\n        notifyB(\"Unfollowed user\");\n        // Update user profile by removing follower\n        setUserProfile(prev => ({\n          ...prev,\n          followers: prev.followers.filter(id => id !== JSON.parse(localStorage.getItem(\"user\"))._id)\n        }));\n      });\n  };\n\n  // Function to handle post edit\n  const handleEditPost = (post) => {\n    console.log(\"Editing post:\", post);\n    setEditingPost(post);\n    setEditCaption(post.body);\n    setIsEditing(true);\n  };\n\n  // Function to save edited post\n  const saveEditedPost = async () => {\n    if (!editCaption.trim()) {\n      notifyA(\"Caption cannot be empty\");\n      return;\n    }\n\n    try {\n      console.log(\"Saving edited post:\", {\n        postId: editingPost._id,\n        newCaption: editCaption\n      });\n\n      const response = await fetch(`http://localhost:4000/updatePost/${editingPost._id}`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n        body: JSON.stringify({\n          body: editCaption,\n        }),\n      });\n\n      const result = await response.json();\n      console.log(\"Update response:\", result);\n      \n      if (response.ok) {\n        // Update the posts array with the edited post\n        const updatedPosts = posts.map((post) => {\n          if (post._id === result._id) {\n            return result;\n          }\n          return post;\n        });\n        setPosts(updatedPosts);\n        setIsEditing(false);\n        setEditingPost(null);\n        setEditCaption(\"\");\n        notifyB(\"Post updated successfully\");\n      } else {\n        notifyA(result.error || \"Error updating post\");\n      }\n    } catch (err) {\n      console.error(\"Error updating post:\", err);\n      notifyA(\"Error updating post\");\n    }\n  };\n\n  // Function to delete post\n  const deletePost = (postId) => {\n    if (window.confirm(\"Do you really want to delete this post?\")) {\n      console.log(\"Deleting post:\", postId);\n      fetch(`http://localhost:4000/deletePost/${postId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          console.log(\"Delete result:\", result);\n          const newData = posts.filter((item) => {\n            return item._id !== postId;\n          });\n          setPosts(newData);\n          notifyB(result.message);\n        })\n        .catch(err => {\n          console.error(\"Error deleting post:\", err);\n          notifyA(\"Error deleting post\");\n        });\n    }\n  };\n\n  // Add debug logging for video deletion\n  const deleteVideo = (videoId) => {\n    console.log(\"Attempting to delete video:\", videoId);\n    if (window.confirm(\"Do you really want to delete this video?\")) {\n      console.log(\"Delete confirmed, sending request...\");\n      fetch(`http://localhost:4000/video/${videoId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n        .then(async res => {\n          console.log(\"Delete response status:\", res.status);\n          const data = await res.json();\n          console.log(\"Delete response data:\", data);\n          return data;\n        })\n        .then((result) => {\n          console.log(\"Delete successful, updating videos state\");\n          const newData = videos.filter((item) => {\n            return item._id !== videoId;\n          });\n          console.log(\"Remaining videos:\", newData);\n          setVideos(newData);\n          notifyB(result.message);\n        })\n        .catch(err => {\n          console.error(\"Error deleting video:\", err);\n          console.error(\"Error stack:\", err.stack);\n          notifyA(\"Error deleting video\");\n        });\n    } else {\n      console.log(\"Delete cancelled by user\");\n    }\n  };\n\n  // Add debug logging for video rendering\n  const renderVideos = () => {\n    console.log(\"Rendering videos tab\");\n    console.log(\"Current videos state:\", videos);\n    console.log(\"Active tab:\", activeTab);\n    \n    if (!videos || videos.length === 0) {\n      console.log(\"No videos to display\");\n      return (\n        <div className=\"no-content\">\n          <p>No videos uploaded yet</p>\n        </div>\n      );\n    }\n\n    console.log(\"Rendering video grid with\", videos.length, \"videos\");\n    return videos.map((video) => {\n      console.log(\"Rendering video:\", {\n        id: video._id,\n        title: video.title,\n        url: video.url,\n        thumbnail: video.thumbnail\n      });\n      \n      return (\n        <div key={video._id} className=\"video-card\">\n          <video \n            src={video.url} \n            poster={video.thumbnail}\n            controls\n            preload=\"metadata\"\n            onError={(e) => {\n              console.error(\"Error loading video:\", {\n                videoId: video._id,\n                error: e,\n                url: video.url\n              });\n            }}\n          />\n          <div className=\"video-info\">\n            <h3>{video.title}</h3>\n            <p>{video.description}</p>\n          </div>\n          {userProfile?._id === JSON.parse(localStorage.getItem(\"user\"))._id && (\n            <div className=\"video-actions\">\n              <button\n                className=\"delete-btn\"\n                onClick={() => deleteVideo(video._id)}\n              >\n                Delete\n              </button>\n            </div>\n          )}\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className=\"profile\">\n      {/* Profile Frame */}\n      <div className=\"profile-frame\">\n        <div className=\"profile-pic\">\n          <img\n            src={userProfile?.Photo || \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"}\n            alt=\"\"\n          />\n        </div>\n        <div className=\"profile-data\">\n          <h1>{userProfile?.name}</h1>\n          <div className=\"profile-info\">\n            <p>{posts.length} posts</p>\n            <p>{videos.length} videos</p>\n            <p>{userProfile?.followers?.length || 0} followers</p>\n            <p>{userProfile?.following?.length || 0} following</p>\n          </div>\n          {userProfile?._id === JSON.parse(localStorage.getItem(\"user\"))._id ? (\n            <div className=\"profile-actions\">\n              <button\n                className=\"followBtn\"\n                onClick={() => {\n                  navigate(\"/createPost\");\n                }}\n              >\n                Create Post\n              </button>\n              <button\n                className=\"followBtn\"\n                onClick={() => {\n                  navigate(\"/upload-video\");\n                }}\n              >\n                Upload Video\n              </button>\n            </div>\n          ) : isFollow ? (\n            <button className=\"followBtn\" onClick={unfollowUser}>\n              Unfollow\n            </button>\n          ) : (\n            <button className=\"followBtn\" onClick={followUser}>\n              Follow\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Profile Data */}\n      <div className=\"profile-data\">\n        <div className=\"profile-info\">\n          <p>{userProfile?.email}</p>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"profile-tabs\">\n        <button \n          className={`tab-button ${activeTab === 'posts' ? 'active' : ''}`}\n          onClick={() => handleTabChange('posts')}\n        >\n          Posts\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'videos' ? 'active' : ''}`}\n          onClick={() => handleTabChange('videos')}\n        >\n          Videos\n        </button>\n      </div>\n\n      {/* Edit Post Modal */}\n      {isEditing && editingPost && (\n        <div className=\"edit-post-modal\">\n          <div className=\"edit-post-content\">\n            <h3>Edit Post</h3>\n            <div className=\"edit-post-image\">\n              <img src={editingPost.photo} alt=\"Post\" />\n            </div>\n            <textarea\n              value={editCaption}\n              onChange={(e) => setEditCaption(e.target.value)}\n              placeholder=\"Write a caption...\"\n              rows=\"4\"\n            />\n            <div className=\"edit-post-actions\">\n              <button onClick={() => {\n                setIsEditing(false);\n                setEditingPost(null);\n                setEditCaption(\"\");\n              }}>Cancel</button>\n              <button onClick={saveEditedPost}>Save</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Content based on active tab */}\n      {activeTab === 'posts' ? (\n        // Posts Gallery\n        <div className=\"gallery\">\n          {posts.map((pics) => {\n            return (\n              <div key={pics._id} className=\"item\">\n                <img src={pics.photo} alt=\"\" />\n                {userProfile?._id === JSON.parse(localStorage.getItem(\"user\"))._id && (\n                  <div className=\"post-actions\">\n                    <button\n                      className=\"edit-btn\"\n                      onClick={() => handleEditPost(pics)}\n                    >\n                      Edit\n                    </button>\n                    <button\n                      className=\"delete-btn\"\n                      onClick={() => deletePost(pics._id)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      ) : (\n        // Videos Grid\n        <div className=\"videos-grid\">\n          {renderVideos()}\n        </div>\n      )}\n    </div>\n  );\n} "],"mappings":"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"},"metadata":{},"sourceType":"module"}