{"ast":null,"code":"import { resolveElements } from '../utils/resolve-elements.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nfunction styleEffect(subject, values) {\n  const elements = resolveElements(subject);\n  const subscriptions = [];\n\n  for (let i = 0; i < elements.length; i++) {\n    const element = elements[i];\n\n    for (const key in values) {\n      const value = values[key];\n      /**\n       * TODO: Get specific setters for combined props (like x)\n       * or values with default types (like color)\n       *\n       * TODO: CSS variable support\n       */\n\n      const updateStyle = () => {\n        element.style[key] = value.get();\n      };\n\n      const scheduleUpdate = () => frame.render(updateStyle);\n\n      const cancel = value.on(\"change\", scheduleUpdate);\n      scheduleUpdate();\n      subscriptions.push(() => {\n        cancel();\n        cancelFrame(updateStyle);\n      });\n    }\n  }\n\n  return () => {\n    for (const cancel of subscriptions) {\n      cancel();\n    }\n  };\n}\n\nexport { styleEffect };","map":{"version":3,"names":["resolveElements","frame","cancelFrame","styleEffect","subject","values","elements","subscriptions","i","length","element","key","value","updateStyle","style","get","scheduleUpdate","render","cancel","on","push"],"sources":["/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/node_modules/motion-dom/dist/es/effects/style-effect.mjs"],"sourcesContent":["import { resolveElements } from '../utils/resolve-elements.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nfunction styleEffect(subject, values) {\n    const elements = resolveElements(subject);\n    const subscriptions = [];\n    for (let i = 0; i < elements.length; i++) {\n        const element = elements[i];\n        for (const key in values) {\n            const value = values[key];\n            /**\n             * TODO: Get specific setters for combined props (like x)\n             * or values with default types (like color)\n             *\n             * TODO: CSS variable support\n             */\n            const updateStyle = () => {\n                element.style[key] = value.get();\n            };\n            const scheduleUpdate = () => frame.render(updateStyle);\n            const cancel = value.on(\"change\", scheduleUpdate);\n            scheduleUpdate();\n            subscriptions.push(() => {\n                cancel();\n                cancelFrame(updateStyle);\n            });\n        }\n    }\n    return () => {\n        for (const cancel of subscriptions) {\n            cancel();\n        }\n    };\n}\n\nexport { styleEffect };\n"],"mappings":"AAAA,SAASA,eAAT,QAAgC,+BAAhC;AACA,SAASC,KAAT,EAAgBC,WAAhB,QAAmC,wBAAnC;;AAEA,SAASC,WAAT,CAAqBC,OAArB,EAA8BC,MAA9B,EAAsC;EAClC,MAAMC,QAAQ,GAAGN,eAAe,CAACI,OAAD,CAAhC;EACA,MAAMG,aAAa,GAAG,EAAtB;;EACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;IACtC,MAAME,OAAO,GAAGJ,QAAQ,CAACE,CAAD,CAAxB;;IACA,KAAK,MAAMG,GAAX,IAAkBN,MAAlB,EAA0B;MACtB,MAAMO,KAAK,GAAGP,MAAM,CAACM,GAAD,CAApB;MACA;AACZ;AACA;AACA;AACA;AACA;;MACY,MAAME,WAAW,GAAG,MAAM;QACtBH,OAAO,CAACI,KAAR,CAAcH,GAAd,IAAqBC,KAAK,CAACG,GAAN,EAArB;MACH,CAFD;;MAGA,MAAMC,cAAc,GAAG,MAAMf,KAAK,CAACgB,MAAN,CAAaJ,WAAb,CAA7B;;MACA,MAAMK,MAAM,GAAGN,KAAK,CAACO,EAAN,CAAS,QAAT,EAAmBH,cAAnB,CAAf;MACAA,cAAc;MACdT,aAAa,CAACa,IAAd,CAAmB,MAAM;QACrBF,MAAM;QACNhB,WAAW,CAACW,WAAD,CAAX;MACH,CAHD;IAIH;EACJ;;EACD,OAAO,MAAM;IACT,KAAK,MAAMK,MAAX,IAAqBX,aAArB,EAAoC;MAChCW,MAAM;IACT;EACJ,CAJD;AAKH;;AAED,SAASf,WAAT"},"metadata":{},"sourceType":"module"}