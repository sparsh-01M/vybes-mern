{"ast":null,"code":"var _jsxFileName = \"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/AIBot.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './AIBot.css';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SUGGESTED_QUESTIONS = [\"What are the best practices for learning a new programming language?\", \"How can I improve my productivity while coding?\", \"Explain the concept of machine learning in simple terms\", \"What are the latest trends in web development?\", \"How can I start learning artificial intelligence?\"];\nexport default function AIBot() {\n  _s();\n\n  const navigate = useNavigate();\n  const [chats, setChats] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const userId = localStorage.getItem('userId') || 'anonymous'; // Fetch user's chat history\n\n  useEffect(() => {\n    fetchChats();\n  }, []);\n\n  const fetchChats = async () => {\n    try {\n      console.log('Fetching chats for userId:', userId);\n      const response = await fetch(`http://localhost:4000/chats/${userId}`);\n      console.log('Response status:', response.status);\n\n      if (!response.ok) {\n        const errorData = await response.text();\n        console.error('Error response:', errorData);\n        throw new Error(`Failed to fetch chats: ${response.status} ${errorData}`);\n      }\n\n      const data = await response.json();\n      console.log('Received chats data:', data);\n      setChats(data);\n    } catch (err) {\n      console.error('Detailed error fetching chats:', err);\n      toast.error(err.message || 'Failed to load chat history');\n    }\n  };\n\n  const fetchChat = async chatId => {\n    try {\n      const response = await fetch(`http://localhost:4000/chat/${chatId}`);\n      if (!response.ok) throw new Error('Failed to fetch chat');\n      const data = await response.json();\n      setCurrentChat(data);\n    } catch (err) {\n      console.error('Error fetching chat:', err);\n      toast.error('Failed to load chat');\n    }\n  };\n\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [currentChat === null || currentChat === void 0 ? void 0 : currentChat.messages]);\n\n  const handleNewChat = async () => {\n    setCurrentChat(null);\n    setMessage('');\n  };\n\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!message.trim()) return;\n    setLoading(true);\n\n    try {\n      const url = currentChat ? `http://localhost:4000/chat/${currentChat._id}/message` : 'http://localhost:4000/chat';\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId,\n          message: message.trim()\n        })\n      });\n      if (!response.ok) throw new Error('Failed to send message');\n      const data = await response.json();\n      setCurrentChat(data);\n\n      if (!currentChat) {\n        fetchChats();\n      }\n\n      setMessage('');\n    } catch (err) {\n      console.error('Error sending message:', err);\n      toast.error('Failed to send message');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteChat = async chatId => {\n    try {\n      const response = await fetch(`http://localhost:4000/chat/${chatId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) throw new Error('Failed to delete chat');\n\n      if ((currentChat === null || currentChat === void 0 ? void 0 : currentChat._id) === chatId) {\n        setCurrentChat(null);\n      }\n\n      fetchChats();\n      toast.success('Chat deleted successfully');\n    } catch (err) {\n      console.error('Error deleting chat:', err);\n      toast.error('Failed to delete chat');\n    }\n  };\n\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ai-bot-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-bot-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"new-chat-button\",\n        onClick: handleNewChat,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons\",\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), \"New Chat\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-history\",\n        children: chats && chats.length > 0 ? chats.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-item ${(currentChat === null || currentChat === void 0 ? void 0 : currentChat._id) === chat._id ? 'active' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-item-content\",\n            onClick: () => fetchChat(chat._id),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-icons\",\n              children: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"chat-title\",\n              children: chat.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"chat-date\",\n              children: formatDate(chat.updatedAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-chat-button\",\n            onClick: e => {\n              e.stopPropagation();\n              handleDeleteChat(chat._id);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-icons\",\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this)]\n        }, chat._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-chats-message\",\n          children: \"No previous chats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-bot-main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [!currentChat ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-screen\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Welcome to AI Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Start a new conversation or select a previous chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggested-questions\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Suggested Questions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), SUGGESTED_QUESTIONS.map((question, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"suggested-question\",\n              onClick: () => {\n                setMessage(question);\n                handleSendMessage({\n                  preventDefault: () => {}\n                });\n              },\n              children: question\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-container\",\n          children: [currentChat.messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${msg.role === 'user' ? 'user-message' : 'assistant-message'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"material-icons\",\n                  children: msg.role === 'user' ? 'person' : 'smart_toy'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: msg.role === 'user' ? 'You' : 'AI Assistant'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: msg.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSendMessage,\n          className: \"message-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: message,\n            onChange: e => setMessage(e.target.value),\n            placeholder: \"Type your message...\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || !message.trim(),\n            children: loading ? /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-icons rotating\",\n              children: \"refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-icons\",\n              children: \"send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AIBot, \"0XHwBQFW06kzTQkmdKWa97XdQvw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AIBot;\n\nvar _c;\n\n$RefreshReg$(_c, \"AIBot\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","toast","SUGGESTED_QUESTIONS","AIBot","navigate","chats","setChats","currentChat","setCurrentChat","message","setMessage","loading","setLoading","messagesEndRef","userId","localStorage","getItem","fetchChats","console","log","response","fetch","status","ok","errorData","text","error","Error","data","json","err","fetchChat","chatId","scrollToBottom","current","scrollIntoView","behavior","messages","handleNewChat","handleSendMessage","e","preventDefault","trim","url","_id","method","headers","body","JSON","stringify","handleDeleteChat","success","formatDate","dateString","Date","toLocaleDateString","month","day","hour","minute","length","map","chat","title","updatedAt","stopPropagation","question","index","msg","role","content","target","value"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/AIBot.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './AIBot.css';\nimport { toast } from 'react-toastify';\n\nconst SUGGESTED_QUESTIONS = [\n  \"What are the best practices for learning a new programming language?\",\n  \"How can I improve my productivity while coding?\",\n  \"Explain the concept of machine learning in simple terms\",\n  \"What are the latest trends in web development?\",\n  \"How can I start learning artificial intelligence?\"\n];\n\nexport default function AIBot() {\n  const navigate = useNavigate();\n  const [chats, setChats] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const userId = localStorage.getItem('userId') || 'anonymous';\n\n  // Fetch user's chat history\n  useEffect(() => {\n    fetchChats();\n  }, []);\n\n  const fetchChats = async () => {\n    try {\n      console.log('Fetching chats for userId:', userId);\n      const response = await fetch(`http://localhost:4000/chats/${userId}`);\n      console.log('Response status:', response.status);\n      \n      if (!response.ok) {\n        const errorData = await response.text();\n        console.error('Error response:', errorData);\n        throw new Error(`Failed to fetch chats: ${response.status} ${errorData}`);\n      }\n      \n      const data = await response.json();\n      console.log('Received chats data:', data);\n      setChats(data);\n    } catch (err) {\n      console.error('Detailed error fetching chats:', err);\n      toast.error(err.message || 'Failed to load chat history');\n    }\n  };\n\n  const fetchChat = async (chatId) => {\n    try {\n      const response = await fetch(`http://localhost:4000/chat/${chatId}`);\n      if (!response.ok) throw new Error('Failed to fetch chat');\n      const data = await response.json();\n      setCurrentChat(data);\n    } catch (err) {\n      console.error('Error fetching chat:', err);\n      toast.error('Failed to load chat');\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [currentChat?.messages]);\n\n  const handleNewChat = async () => {\n    setCurrentChat(null);\n    setMessage('');\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!message.trim()) return;\n\n    setLoading(true);\n    try {\n      const url = currentChat \n        ? `http://localhost:4000/chat/${currentChat._id}/message`\n        : 'http://localhost:4000/chat';\n      \n      const response = await fetch(url, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId,\n          message: message.trim()\n        })\n      });\n\n      if (!response.ok) throw new Error('Failed to send message');\n      \n      const data = await response.json();\n      setCurrentChat(data);\n      if (!currentChat) {\n        fetchChats();\n      }\n      setMessage('');\n    } catch (err) {\n      console.error('Error sending message:', err);\n      toast.error('Failed to send message');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteChat = async (chatId) => {\n    try {\n      const response = await fetch(`http://localhost:4000/chat/${chatId}`, {\n        method: 'DELETE'\n      });\n      \n      if (!response.ok) throw new Error('Failed to delete chat');\n      \n      if (currentChat?._id === chatId) {\n        setCurrentChat(null);\n      }\n      fetchChats();\n      toast.success('Chat deleted successfully');\n    } catch (err) {\n      console.error('Error deleting chat:', err);\n      toast.error('Failed to delete chat');\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  return (\n    <div className=\"ai-bot-container\">\n      <div className=\"ai-bot-sidebar\">\n        <button className=\"new-chat-button\" onClick={handleNewChat}>\n          <i className=\"material-icons\">add</i>\n          New Chat\n        </button>\n        <div className=\"chat-history\">\n          {chats && chats.length > 0 ? (\n            chats.map(chat => (\n              <div \n                key={chat._id} \n                className={`chat-item ${currentChat?._id === chat._id ? 'active' : ''}`}\n              >\n                <div \n                  className=\"chat-item-content\"\n                  onClick={() => fetchChat(chat._id)}\n                >\n                  <i className=\"material-icons\">chat</i>\n                  <span className=\"chat-title\">{chat.title}</span>\n                  <span className=\"chat-date\">{formatDate(chat.updatedAt)}</span>\n                </div>\n                <button \n                  className=\"delete-chat-button\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleDeleteChat(chat._id);\n                  }}\n                >\n                  <i className=\"material-icons\">delete</i>\n                </button>\n              </div>\n            ))\n          ) : (\n            <div className=\"no-chats-message\">No previous chats</div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"ai-bot-main\">\n        <div className=\"chat-container\">\n          {!currentChat ? (\n            <div className=\"welcome-screen\">\n              <h1>Welcome to AI Assistant</h1>\n              <p>Start a new conversation or select a previous chat</p>\n              <div className=\"suggested-questions\">\n                <h3>Suggested Questions</h3>\n                {SUGGESTED_QUESTIONS.map((question, index) => (\n                  <button\n                    key={index}\n                    className=\"suggested-question\"\n                    onClick={() => {\n                      setMessage(question);\n                      handleSendMessage({ preventDefault: () => {} });\n                    }}\n                  >\n                    {question}\n                  </button>\n                ))}\n              </div>\n            </div>\n          ) : (\n            <div className=\"messages-container\">\n              {currentChat.messages.map((msg, index) => (\n                <div \n                  key={index} \n                  className={`message ${msg.role === 'user' ? 'user-message' : 'assistant-message'}`}\n                >\n                  <div className=\"message-content\">\n                    <div className=\"message-header\">\n                      <i className=\"material-icons\">\n                        {msg.role === 'user' ? 'person' : 'smart_toy'}\n                      </i>\n                      <span>{msg.role === 'user' ? 'You' : 'AI Assistant'}</span>\n                    </div>\n                    <p>{msg.content}</p>\n                  </div>\n                </div>\n              ))}\n              <div ref={messagesEndRef} />\n            </div>\n          )}\n\n          <form onSubmit={handleSendMessage} className=\"message-input-container\">\n            <input\n              type=\"text\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Type your message...\"\n              disabled={loading}\n            />\n            <button type=\"submit\" disabled={loading || !message.trim()}>\n              {loading ? (\n                <i className=\"material-icons rotating\">refresh</i>\n              ) : (\n                <i className=\"material-icons\">send</i>\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n} "],"mappings":"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"},"metadata":{},"sourceType":"module"}