{"ast":null,"code":"import _slicedToArray from\"/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import PostDetail from\"./PostDetail\";import\"./Profile.css\";import ProfilePic from\"./ProfilePic\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profie(){var picLink=\"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pic=_useState2[0],setPic=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),posts=_useState6[0],setPosts=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),changePic=_useState10[0],setChangePic=_useState10[1];var toggleDetails=function toggleDetails(posts){if(show){setShow(false);}else{setShow(true);setPosts(posts);}};var changeprofile=function changeprofile(){if(changePic){setChangePic(false);}else{setChangePic(true);}};useEffect(function(){fetch(\"http://localhost:5000/user/\".concat(JSON.parse(localStorage.getItem(\"user\"))._id),{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);setPic(result.post);setUser(result.user);console.log(pic);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-frame\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic\",children:/*#__PURE__*/_jsx(\"img\",{onClick:changeprofile,src:user.Photo?user.Photo:picLink,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pofile-data\",children:[/*#__PURE__*/_jsx(\"h1\",{children:JSON.parse(localStorage.getItem(\"user\")).name}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[pic?pic.length:\"0\",\" posts\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.followers?user.followers.length:\"0\",\" followers\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.following?user.following.length:\"0\",\" following\"]})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"90%\",opacity:\"0.8\",margin:\"25px auto\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery\",children:pic.map(function(pics){return/*#__PURE__*/_jsx(\"img\",{src:pics.photo,onClick:function onClick(){toggleDetails(pics);},className:\"item\"},pics._id);})}),show&&/*#__PURE__*/_jsx(PostDetail,{item:posts,toggleDetails:toggleDetails}),changePic&&/*#__PURE__*/_jsx(ProfilePic,{changeprofile:changeprofile})]});}","map":{"version":3,"names":["React","useEffect","useState","PostDetail","ProfilePic","Profie","picLink","pic","setPic","show","setShow","posts","setPosts","user","setUser","changePic","setChangePic","toggleDetails","changeprofile","fetch","JSON","parse","localStorage","getItem","_id","headers","Authorization","then","res","json","result","console","log","post","Photo","name","display","length","followers","following","width","opacity","margin","map","pics","photo"],"sources":["/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/src/components/Profie.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PostDetail from \"./PostDetail\";\nimport \"./Profile.css\";\nimport ProfilePic from \"./ProfilePic\";\n\nexport default function Profie() {\n  var picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"\n  const [pic, setPic] = useState([]);\n  const [show, setShow] = useState(false)\n  const [posts, setPosts] = useState([]);\n  const [user, setUser] = useState(\"\")\n  const [changePic, setChangePic] = useState(false)\n\n\n  const toggleDetails = (posts) => {\n    if (show) {\n      setShow(false);\n    } else {\n      setShow(true);\n      setPosts(posts);\n    }\n  };\n\n  const changeprofile = () => {\n    if (changePic) {\n      setChangePic(false)\n    } else {\n      setChangePic(true)\n    }\n  }\n\n\n  useEffect(() => {\n    fetch(`http://localhost:5000/user/${JSON.parse(localStorage.getItem(\"user\"))._id}`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result)\n        setPic(result.post);\n        setUser(result.user)\n        console.log(pic);\n      });\n  }, []);\n\n  return (\n    <div className=\"profile\">\n      {/* Profile frame */}\n      <div className=\"profile-frame\">\n        {/* profile-pic */}\n        <div className=\"profile-pic\">\n          <img\n            onClick={changeprofile}\n            src={user.Photo ? user.Photo : picLink}\n            alt=\"\"\n          />\n        </div>\n        {/* profile-data */}\n        <div className=\"pofile-data\">\n          <h1>{JSON.parse(localStorage.getItem(\"user\")).name}</h1>\n          <div className=\"profile-info\" style={{ display: \"flex\" }}>\n            <p>{pic ? pic.length : \"0\"} posts</p>\n            <p>{user.followers ? user.followers.length : \"0\"} followers</p>\n            <p>{user.following ? user.following.length : \"0\"} following</p>\n          </div>\n        </div>\n      </div>\n      <hr\n        style={{\n          width: \"90%\",\n\n          opacity: \"0.8\",\n          margin: \"25px auto\",\n        }}\n      />\n      {/* Gallery */}\n      <div className=\"gallery\">\n        {pic.map((pics) => {\n          return <img key={pics._id} src={pics.photo}\n            onClick={() => {\n              toggleDetails(pics)\n            }}\n            className=\"item\"></img>;\n        })}\n      </div>\n      {show &&\n        <PostDetail item={posts} toggleDetails={toggleDetails} />\n      }\n      {\n        changePic &&\n        <ProfilePic changeprofile={changeprofile} />\n      }\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}