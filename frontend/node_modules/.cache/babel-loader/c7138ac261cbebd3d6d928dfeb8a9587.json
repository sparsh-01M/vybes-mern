{"ast":null,"code":"import { noop } from 'motion-utils';\nimport { addToQueue } from './queue.mjs';\n\nclass ViewTransitionBuilder {\n  constructor(update) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.currentTarget = \"root\";\n    this.targets = new Map();\n    this.notifyReady = noop;\n    this.readyPromise = new Promise(resolve => {\n      this.notifyReady = resolve;\n    });\n    this.update = update;\n    this.options = {\n      interrupt: \"wait\",\n      ...options\n    };\n    addToQueue(this);\n  }\n\n  get(selector) {\n    this.currentTarget = selector;\n    return this;\n  }\n\n  layout(keyframes, options) {\n    this.updateTarget(\"layout\", keyframes, options);\n    return this;\n  }\n\n  new(keyframes, options) {\n    this.updateTarget(\"new\", keyframes, options);\n    return this;\n  }\n\n  old(keyframes, options) {\n    this.updateTarget(\"old\", keyframes, options);\n    return this;\n  }\n\n  enter(keyframes, options) {\n    this.updateTarget(\"enter\", keyframes, options);\n    return this;\n  }\n\n  exit(keyframes, options) {\n    this.updateTarget(\"exit\", keyframes, options);\n    return this;\n  }\n\n  crossfade(options) {\n    this.updateTarget(\"enter\", {\n      opacity: 1\n    }, options);\n    this.updateTarget(\"exit\", {\n      opacity: 0\n    }, options);\n    return this;\n  }\n\n  updateTarget(target, keyframes) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const {\n      currentTarget,\n      targets\n    } = this;\n\n    if (!targets.has(currentTarget)) {\n      targets.set(currentTarget, {});\n    }\n\n    const targetData = targets.get(currentTarget);\n    targetData[target] = {\n      keyframes,\n      options\n    };\n  }\n\n  then(resolve, reject) {\n    return this.readyPromise.then(resolve, reject);\n  }\n\n}\n\nfunction animateView(update) {\n  let defaultOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return new ViewTransitionBuilder(update, defaultOptions);\n}\n\nexport { ViewTransitionBuilder, animateView };","map":{"version":3,"names":["noop","addToQueue","ViewTransitionBuilder","constructor","update","options","currentTarget","targets","Map","notifyReady","readyPromise","Promise","resolve","interrupt","get","selector","layout","keyframes","updateTarget","new","old","enter","exit","crossfade","opacity","target","has","set","targetData","then","reject","animateView","defaultOptions"],"sources":["/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/node_modules/motion-dom/dist/es/view/index.mjs"],"sourcesContent":["import { noop } from 'motion-utils';\nimport { addToQueue } from './queue.mjs';\n\nclass ViewTransitionBuilder {\n    constructor(update, options = {}) {\n        this.currentTarget = \"root\";\n        this.targets = new Map();\n        this.notifyReady = noop;\n        this.readyPromise = new Promise((resolve) => {\n            this.notifyReady = resolve;\n        });\n        this.update = update;\n        this.options = {\n            interrupt: \"wait\",\n            ...options,\n        };\n        addToQueue(this);\n    }\n    get(selector) {\n        this.currentTarget = selector;\n        return this;\n    }\n    layout(keyframes, options) {\n        this.updateTarget(\"layout\", keyframes, options);\n        return this;\n    }\n    new(keyframes, options) {\n        this.updateTarget(\"new\", keyframes, options);\n        return this;\n    }\n    old(keyframes, options) {\n        this.updateTarget(\"old\", keyframes, options);\n        return this;\n    }\n    enter(keyframes, options) {\n        this.updateTarget(\"enter\", keyframes, options);\n        return this;\n    }\n    exit(keyframes, options) {\n        this.updateTarget(\"exit\", keyframes, options);\n        return this;\n    }\n    crossfade(options) {\n        this.updateTarget(\"enter\", { opacity: 1 }, options);\n        this.updateTarget(\"exit\", { opacity: 0 }, options);\n        return this;\n    }\n    updateTarget(target, keyframes, options = {}) {\n        const { currentTarget, targets } = this;\n        if (!targets.has(currentTarget)) {\n            targets.set(currentTarget, {});\n        }\n        const targetData = targets.get(currentTarget);\n        targetData[target] = { keyframes, options };\n    }\n    then(resolve, reject) {\n        return this.readyPromise.then(resolve, reject);\n    }\n}\nfunction animateView(update, defaultOptions = {}) {\n    return new ViewTransitionBuilder(update, defaultOptions);\n}\n\nexport { ViewTransitionBuilder, animateView };\n"],"mappings":"AAAA,SAASA,IAAT,QAAqB,cAArB;AACA,SAASC,UAAT,QAA2B,aAA3B;;AAEA,MAAMC,qBAAN,CAA4B;EACxBC,WAAW,CAACC,MAAD,EAAuB;IAAA,IAAdC,OAAc,uEAAJ,EAAI;IAC9B,KAAKC,aAAL,GAAqB,MAArB;IACA,KAAKC,OAAL,GAAe,IAAIC,GAAJ,EAAf;IACA,KAAKC,WAAL,GAAmBT,IAAnB;IACA,KAAKU,YAAL,GAAoB,IAAIC,OAAJ,CAAaC,OAAD,IAAa;MACzC,KAAKH,WAAL,GAAmBG,OAAnB;IACH,CAFmB,CAApB;IAGA,KAAKR,MAAL,GAAcA,MAAd;IACA,KAAKC,OAAL,GAAe;MACXQ,SAAS,EAAE,MADA;MAEX,GAAGR;IAFQ,CAAf;IAIAJ,UAAU,CAAC,IAAD,CAAV;EACH;;EACDa,GAAG,CAACC,QAAD,EAAW;IACV,KAAKT,aAAL,GAAqBS,QAArB;IACA,OAAO,IAAP;EACH;;EACDC,MAAM,CAACC,SAAD,EAAYZ,OAAZ,EAAqB;IACvB,KAAKa,YAAL,CAAkB,QAAlB,EAA4BD,SAA5B,EAAuCZ,OAAvC;IACA,OAAO,IAAP;EACH;;EACDc,GAAG,CAACF,SAAD,EAAYZ,OAAZ,EAAqB;IACpB,KAAKa,YAAL,CAAkB,KAAlB,EAAyBD,SAAzB,EAAoCZ,OAApC;IACA,OAAO,IAAP;EACH;;EACDe,GAAG,CAACH,SAAD,EAAYZ,OAAZ,EAAqB;IACpB,KAAKa,YAAL,CAAkB,KAAlB,EAAyBD,SAAzB,EAAoCZ,OAApC;IACA,OAAO,IAAP;EACH;;EACDgB,KAAK,CAACJ,SAAD,EAAYZ,OAAZ,EAAqB;IACtB,KAAKa,YAAL,CAAkB,OAAlB,EAA2BD,SAA3B,EAAsCZ,OAAtC;IACA,OAAO,IAAP;EACH;;EACDiB,IAAI,CAACL,SAAD,EAAYZ,OAAZ,EAAqB;IACrB,KAAKa,YAAL,CAAkB,MAAlB,EAA0BD,SAA1B,EAAqCZ,OAArC;IACA,OAAO,IAAP;EACH;;EACDkB,SAAS,CAAClB,OAAD,EAAU;IACf,KAAKa,YAAL,CAAkB,OAAlB,EAA2B;MAAEM,OAAO,EAAE;IAAX,CAA3B,EAA2CnB,OAA3C;IACA,KAAKa,YAAL,CAAkB,MAAlB,EAA0B;MAAEM,OAAO,EAAE;IAAX,CAA1B,EAA0CnB,OAA1C;IACA,OAAO,IAAP;EACH;;EACDa,YAAY,CAACO,MAAD,EAASR,SAAT,EAAkC;IAAA,IAAdZ,OAAc,uEAAJ,EAAI;IAC1C,MAAM;MAAEC,aAAF;MAAiBC;IAAjB,IAA6B,IAAnC;;IACA,IAAI,CAACA,OAAO,CAACmB,GAAR,CAAYpB,aAAZ,CAAL,EAAiC;MAC7BC,OAAO,CAACoB,GAAR,CAAYrB,aAAZ,EAA2B,EAA3B;IACH;;IACD,MAAMsB,UAAU,GAAGrB,OAAO,CAACO,GAAR,CAAYR,aAAZ,CAAnB;IACAsB,UAAU,CAACH,MAAD,CAAV,GAAqB;MAAER,SAAF;MAAaZ;IAAb,CAArB;EACH;;EACDwB,IAAI,CAACjB,OAAD,EAAUkB,MAAV,EAAkB;IAClB,OAAO,KAAKpB,YAAL,CAAkBmB,IAAlB,CAAuBjB,OAAvB,EAAgCkB,MAAhC,CAAP;EACH;;AAtDuB;;AAwD5B,SAASC,WAAT,CAAqB3B,MAArB,EAAkD;EAAA,IAArB4B,cAAqB,uEAAJ,EAAI;EAC9C,OAAO,IAAI9B,qBAAJ,CAA0BE,MAA1B,EAAkC4B,cAAlC,CAAP;AACH;;AAED,SAAS9B,qBAAT,EAAgC6B,WAAhC"},"metadata":{},"sourceType":"module"}