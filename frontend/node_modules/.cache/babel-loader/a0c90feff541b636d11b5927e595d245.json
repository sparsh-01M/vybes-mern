{"ast":null,"code":"var _jsxFileName = \"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/ProfilePic.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./ProfilePic.css\";\nimport { toast } from \"react-toastify\";\nimport config from \"../config/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfilePic(_ref) {\n  _s();\n\n  let {\n    changeProfile\n  } = _ref;\n  const [image, setImage] = useState(null);\n  const [url, setUrl] = useState(\"\");\n\n  const postDetails = () => {\n    const data = new FormData();\n\n    if (image) {\n      data.append(\"file\", image);\n      data.append(\"upload_preset\", \"insta-clone\");\n      data.append(\"cloud_name\", \"dchbf0ovs\");\n      fetch(\"https://api.cloudinary.com/v1_1/dchbf0ovs/image/upload\", {\n        method: \"post\",\n        body: data\n      }).then(res => res.json()).then(data => {\n        setUrl(data.url);\n        fetch(`${config.BACKEND_URL}/uploadProfilePic`, {\n          method: \"put\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n          },\n          body: JSON.stringify({\n            pic: data.url\n          })\n        }).then(res => res.json()).then(data => {\n          console.log(data);\n          changeProfile();\n          window.location.reload();\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    setImage(file);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profilePic darkBg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"changePic centered\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Change Profile Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderTop: \"1px solid #00000030\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-btn\",\n            style: {\n              color: \"#1EA1F7\"\n            },\n            onClick: () => {\n              document.getElementById(\"photo-upload\").click();\n            },\n            children: \"Upload photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderTop: \"1px solid #00000030\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-btn\",\n            style: {\n              color: \"#ED4956\"\n            },\n            onClick: () => {\n              setUrl(null);\n              postDetails();\n            },\n            children: \"Remove Current Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderTop: \"1px solid #00000030\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: \"none\",\n              border: \"none\",\n              cursor: \"pointer\",\n              fontSize: \"14px\"\n            },\n            onClick: changeProfile,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      id: \"photo-upload\",\n      accept: \"image/*\",\n      onChange: handleFileChange,\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), image && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"upload-btn\",\n        style: {\n          color: \"#1EA1F7\"\n        },\n        onClick: postDetails,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfilePic, \"WIqA6JZZxPqhsJNChHmKisC4FV8=\");\n\n_c = ProfilePic;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePic\");","map":{"version":3,"names":["React","useState","toast","config","ProfilePic","changeProfile","image","setImage","url","setUrl","postDetails","data","FormData","append","fetch","method","body","then","res","json","BACKEND_URL","headers","Authorization","localStorage","getItem","JSON","stringify","pic","console","log","window","location","reload","catch","err","handleFileChange","e","file","target","files","borderTop","color","document","getElementById","click","background","border","cursor","fontSize","display","textAlign"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/ProfilePic.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./ProfilePic.css\";\nimport { toast } from \"react-toastify\";\nimport config from \"../config/config\";\n\nexport default function ProfilePic({ changeProfile }) {\n  const [image, setImage] = useState(null);\n  const [url, setUrl] = useState(\"\");\n\n  const postDetails = () => {\n    const data = new FormData();\n    if (image) {\n      data.append(\"file\", image);\n      data.append(\"upload_preset\", \"insta-clone\");\n      data.append(\"cloud_name\", \"dchbf0ovs\");\n\n      fetch(\"https://api.cloudinary.com/v1_1/dchbf0ovs/image/upload\", {\n        method: \"post\",\n        body: data,\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          setUrl(data.url);\n          fetch(`${config.BACKEND_URL}/uploadProfilePic`, {\n            method: \"put\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n            },\n            body: JSON.stringify({\n              pic: data.url,\n            }),\n          })\n            .then((res) => res.json())\n            .then((data) => {\n              console.log(data);\n              changeProfile();\n              window.location.reload();\n            });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    setImage(file);\n  };\n\n  return (\n    <div className=\"profilePic darkBg\">\n      <div className=\"changePic centered\">\n        <div>\n          <h2>Change Profile Photo</h2>\n          <div style={{ borderTop: \"1px solid #00000030\" }}>\n            <button\n              className=\"upload-btn\"\n              style={{ color: \"#1EA1F7\" }}\n              onClick={() => {\n                document.getElementById(\"photo-upload\").click();\n              }}\n            >\n              Upload photo\n            </button>\n          </div>\n          <div style={{ borderTop: \"1px solid #00000030\" }}>\n            <button\n              className=\"upload-btn\"\n              style={{ color: \"#ED4956\" }}\n              onClick={() => {\n                setUrl(null);\n                postDetails();\n              }}\n            >\n              Remove Current Photo\n            </button>\n          </div>\n          <div style={{ borderTop: \"1px solid #00000030\" }}>\n            <button\n              style={{\n                background: \"none\",\n                border: \"none\",\n                cursor: \"pointer\",\n                fontSize: \"14px\",\n              }}\n              onClick={changeProfile}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n      <input\n        type=\"file\"\n        id=\"photo-upload\"\n        accept=\"image/*\"\n        onChange={handleFileChange}\n        style={{ display: \"none\" }}\n      />\n      {image && (\n        <div style={{ textAlign: \"center\" }}>\n          <button\n            className=\"upload-btn\"\n            style={{ color: \"#1EA1F7\" }}\n            onClick={postDetails}\n          >\n            Upload\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}