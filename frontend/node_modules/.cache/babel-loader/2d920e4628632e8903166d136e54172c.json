{"ast":null,"code":"import { VOID, PRIMITIVE, ARRAY, OBJECT, DATE, REGEXP, MAP, SET, ERROR, BIGINT } from './types.js';\nconst env = typeof self === 'object' ? self : globalThis;\n\nconst deserializer = ($, _) => {\n  const as = (out, index) => {\n    $.set(index, out);\n    return out;\n  };\n\n  const unpair = index => {\n    if ($.has(index)) return $.get(index);\n    const [type, value] = _[index];\n\n    switch (type) {\n      case PRIMITIVE:\n      case VOID:\n        return as(value, index);\n\n      case ARRAY:\n        {\n          const arr = as([], index);\n\n          for (const index of value) arr.push(unpair(index));\n\n          return arr;\n        }\n\n      case OBJECT:\n        {\n          const object = as({}, index);\n\n          for (const [key, index] of value) object[unpair(key)] = unpair(index);\n\n          return object;\n        }\n\n      case DATE:\n        return as(new Date(value), index);\n\n      case REGEXP:\n        {\n          const {\n            source,\n            flags\n          } = value;\n          return as(new RegExp(source, flags), index);\n        }\n\n      case MAP:\n        {\n          const map = as(new Map(), index);\n\n          for (const [key, index] of value) map.set(unpair(key), unpair(index));\n\n          return map;\n        }\n\n      case SET:\n        {\n          const set = as(new Set(), index);\n\n          for (const index of value) set.add(unpair(index));\n\n          return set;\n        }\n\n      case ERROR:\n        {\n          const {\n            name,\n            message\n          } = value;\n          return as(new env[name](message), index);\n        }\n\n      case BIGINT:\n        return as(BigInt(value), index);\n\n      case 'BigInt':\n        return as(Object(BigInt(value)), index);\n\n      case 'ArrayBuffer':\n        return as(new Uint8Array(value).buffer, value);\n\n      case 'DataView':\n        {\n          const {\n            buffer\n          } = new Uint8Array(value);\n          return as(new DataView(buffer), value);\n        }\n    }\n\n    return as(new env[type](value), index);\n  };\n\n  return unpair;\n};\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns a deserialized value from a serialized array of Records.\n * @param {Record[]} serialized a previously serialized value.\n * @returns {any}\n */\n\n\nexport const deserialize = serialized => deserializer(new Map(), serialized)(0);","map":{"version":3,"names":["VOID","PRIMITIVE","ARRAY","OBJECT","DATE","REGEXP","MAP","SET","ERROR","BIGINT","env","self","globalThis","deserializer","$","_","as","out","index","set","unpair","has","get","type","value","arr","push","object","key","Date","source","flags","RegExp","map","Map","Set","add","name","message","BigInt","Object","Uint8Array","buffer","DataView","deserialize","serialized"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/node_modules/@ungap/structured-clone/esm/deserialize.js"],"sourcesContent":["import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst env = typeof self === 'object' ? self : globalThis;\n\nconst deserializer = ($, _) => {\n  const as = (out, index) => {\n    $.set(index, out);\n    return out;\n  };\n\n  const unpair = index => {\n    if ($.has(index))\n      return $.get(index);\n\n    const [type, value] = _[index];\n    switch (type) {\n      case PRIMITIVE:\n      case VOID:\n        return as(value, index);\n      case ARRAY: {\n        const arr = as([], index);\n        for (const index of value)\n          arr.push(unpair(index));\n        return arr;\n      }\n      case OBJECT: {\n        const object = as({}, index);\n        for (const [key, index] of value)\n          object[unpair(key)] = unpair(index);\n        return object;\n      }\n      case DATE:\n        return as(new Date(value), index);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as(new RegExp(source, flags), index);\n      }\n      case MAP: {\n        const map = as(new Map, index);\n        for (const [key, index] of value)\n          map.set(unpair(key), unpair(index));\n        return map;\n      }\n      case SET: {\n        const set = as(new Set, index);\n        for (const index of value)\n          set.add(unpair(index));\n        return set;\n      }\n      case ERROR: {\n        const {name, message} = value;\n        return as(new env[name](message), index);\n      }\n      case BIGINT:\n        return as(BigInt(value), index);\n      case 'BigInt':\n        return as(Object(BigInt(value)), index);\n      case 'ArrayBuffer':\n        return as(new Uint8Array(value).buffer, value);\n      case 'DataView': {\n        const { buffer } = new Uint8Array(value);\n        return as(new DataView(buffer), value);\n      }\n    }\n    return as(new env[type](value), index);\n  };\n\n  return unpair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns a deserialized value from a serialized array of Records.\n * @param {Record[]} serialized a previously serialized value.\n * @returns {any}\n */\nexport const deserialize = serialized => deserializer(new Map, serialized)(0);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}