{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/src/components/GestureWheel.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { motion, useMotionValue } from 'framer-motion';\nimport { Book, Briefcase, Clapperboard, Dumbbell, Gamepad2, Utensils } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst segments = [{\n  id: 1,\n  label: 'Education',\n  icon: Book,\n  imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg',\n  color: 'hsl(var(--secondary))',\n  activeColor: 'hsl(var(--accent))',\n  path: '/education'\n}, {\n  id: 2,\n  label: 'Business',\n  icon: Briefcase,\n  imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg',\n  color: 'hsl(var(--secondary))',\n  activeColor: 'hsl(var(--accent))',\n  path: '/business'\n}, {\n  id: 3,\n  label: 'Entertainment',\n  icon: Clapperboard,\n  imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg',\n  color: 'hsl(var(--secondary))',\n  activeColor: 'hsl(var(--accent))',\n  path: '/entertainment'\n}, {\n  id: 4,\n  label: 'Sports/Fitness',\n  icon: Dumbbell,\n  imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg',\n  color: 'hsl(var(--secondary))',\n  activeColor: 'hsl(var(--accent))',\n  path: '/sports-fitness'\n}, {\n  id: 5,\n  label: 'Gaming',\n  icon: Gamepad2,\n  imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg',\n  color: 'hsl(var(--secondary))',\n  activeColor: 'hsl(var(--accent))',\n  path: '/gaming'\n}, {\n  id: 6,\n  label: 'Food/Travel',\n  icon: Utensils,\n  imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg',\n  color: 'hsl(var(--secondary))',\n  activeColor: 'hsl(var(--accent))',\n  path: '/food-travel'\n}];\nconst WHEEL_RADIUS = 300;\nconst INNER_RADIUS = WHEEL_RADIUS * 0.4;\nconst IMAGE_RADIUS = (WHEEL_RADIUS + INNER_RADIUS) / 2;\nconst IMAGE_SIZE = 40;\nconst TOTAL_SEGMENTS = segments.length;\nconst TOTAL_ANGLE = 360;\nconst GAP_ANGLE = 6;\nconst USABLE_ANGLE = TOTAL_ANGLE - TOTAL_SEGMENTS * GAP_ANGLE;\nconst SEGMENT_ANGLE = USABLE_ANGLE / TOTAL_SEGMENTS;\nconst DRAG_SENSITIVITY = 0.5;\n\nconst describeArcSegment = (cx, cy, outerRadius, innerRadius, startAngle, endAngle, gapAngle) => {\n  const gapAdjust = gapAngle / 2;\n  const startRadOuter = (startAngle + gapAdjust) * Math.PI / 180;\n  const endRadOuter = (endAngle - gapAdjust) * Math.PI / 180;\n  const startRadInner = (startAngle + gapAdjust) * Math.PI / 180;\n  const endRadInner = (endAngle - gapAdjust) * Math.PI / 180;\n  const startOuter = {\n    x: cx + outerRadius * Math.cos(startRadOuter),\n    y: cy + outerRadius * Math.sin(startRadOuter)\n  };\n  const endOuter = {\n    x: cx + outerRadius * Math.cos(endRadOuter),\n    y: cy + outerRadius * Math.sin(endRadOuter)\n  };\n  const startInner = {\n    x: cx + innerRadius * Math.cos(startRadInner),\n    y: cy + innerRadius * Math.sin(startRadInner)\n  };\n  const endInner = {\n    x: cx + innerRadius * Math.cos(endRadInner),\n    y: cy + innerRadius * Math.sin(endRadInner)\n  };\n  const largeArcFlagOuter = endAngle - gapAdjust - (startAngle + gapAdjust) <= 180 ? '0' : '1';\n  const d = ['M', startInner.x, startInner.y, 'L', startOuter.x, startOuter.y, 'A', outerRadius, outerRadius, 0, largeArcFlagOuter, '1', endOuter.x, endOuter.y, 'L', endInner.x, endInner.y, 'A', innerRadius, innerRadius, 0, largeArcFlagOuter, '0', startInner.x, startInner.y, 'Z'].join(' ');\n  return d;\n};\n\nconst normalizeAngle = angle => {\n  let normalized = angle % 360;\n  if (normalized > 180) normalized -= 360;else if (normalized <= -180) normalized += 360;\n  return normalized;\n};\n\nexport function GestureWheel() {\n  _s();\n\n  var _segments$find, _segments$find2, _segments$find3;\n\n  const navigate = useNavigate();\n  const [rotation, setRotation] = useState(0);\n  const [activeSegment, setActiveSegment] = useState(null);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n  const [isDesktop, setIsDesktop] = useState(false);\n  const constraintsRef = useRef(null);\n  const rotationMotionValue = useMotionValue(0);\n  const lastTapTimeRef = useRef(0);\n  const doubleTapTimeoutRef = useRef(null); // Check if the device is desktop on mount and on window resize\n\n  useEffect(() => {\n    const checkIfDesktop = () => {\n      setIsDesktop(window.innerWidth >= 1024); // 1024px is a common breakpoint for laptops\n    }; // Initial check\n\n\n    checkIfDesktop(); // Add event listener for window resize\n\n    window.addEventListener('resize', checkIfDesktop); // Cleanup\n\n    return () => window.removeEventListener('resize', checkIfDesktop);\n  }, []);\n  useEffect(() => {\n    const unsubscribe = rotationMotionValue.onChange(latest => {\n      setRotation(latest);\n      const normalizedRotation = latest % 360;\n      const effectiveRotation = (normalizedRotation + 360) % 360;\n      const selectorAngleDegrees = 180;\n      let currentActiveSegment = null;\n\n      for (let i = 0; i < segments.length; i++) {\n        const segmentCenterAngle = 180 + i * (SEGMENT_ANGLE + GAP_ANGLE);\n        const segmentStartAngleWithGap = segmentCenterAngle - (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n        const segmentEndAngleWithGap = segmentCenterAngle + (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n        const segmentStartAngle = segmentStartAngleWithGap + GAP_ANGLE / 2;\n        const segmentEndAngle = segmentEndAngleWithGap - GAP_ANGLE / 2;\n        let rotatedStart = (segmentStartAngle - effectiveRotation + 360) % 360;\n        let rotatedEnd = (segmentEndAngle - effectiveRotation + 360) % 360;\n\n        if (rotatedStart <= rotatedEnd) {\n          if (selectorAngleDegrees >= rotatedStart && selectorAngleDegrees < rotatedEnd) {\n            currentActiveSegment = segments[i].id;\n            break;\n          }\n        } else {\n          if (selectorAngleDegrees >= rotatedStart || selectorAngleDegrees < rotatedEnd) {\n            currentActiveSegment = segments[i].id;\n            break;\n          }\n        }\n      }\n\n      setActiveSegment(currentActiveSegment);\n    });\n    return unsubscribe;\n  }, [rotationMotionValue]); // Navigate to the selected segment's page\n\n  useEffect(() => {\n    if (selectedSegment) {\n      const segment = segments.find(s => s.id === selectedSegment);\n\n      if (segment && segment.path) {\n        navigate(segment.path);\n      }\n\n      setSelectedSegment(null); // Reset after navigation\n    }\n  }, [selectedSegment, navigate]);\n\n  const handleDrag = (event, info) => {\n    // Change rotation based on vertical drag delta for mobile, or based on cursor position for desktop\n    if (isDesktop) {\n      // For desktop we can use a different drag behavior if desired\n      // This still uses vertical drag but could be changed to horizontal or circular\n      const deltaRotation = info.delta.y * DRAG_SENSITIVITY;\n      const newRotation = rotation + deltaRotation;\n      rotationMotionValue.set(newRotation);\n    } else {\n      // Mobile behavior - vertical drag\n      const deltaRotation = info.delta.y * DRAG_SENSITIVITY;\n      const newRotation = rotation + deltaRotation;\n      rotationMotionValue.set(newRotation);\n    }\n  };\n\n  const handleTap = () => {\n    const now = Date.now();\n    const timeSinceLastTap = now - lastTapTimeRef.current; // Clear any existing double tap timeout\n\n    if (doubleTapTimeoutRef.current) {\n      clearTimeout(doubleTapTimeoutRef.current);\n    }\n\n    if (timeSinceLastTap < 300) {\n      // Double tap detected\n      // Navigate to the active segment\n      if (activeSegment) {\n        setSelectedSegment(activeSegment);\n      }\n    } else {\n      // Set a timeout for possible second tap\n      doubleTapTimeoutRef.current = setTimeout(() => {\n        // Single tap logic if needed\n        doubleTapTimeoutRef.current = null;\n      }, 300);\n    }\n\n    lastTapTimeRef.current = now;\n  }; // Add a dedicated click handler for the segment selection\n\n\n  const handleSegmentClick = segmentId => {\n    setSelectedSegment(segmentId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: constraintsRef,\n    className: `relative ${isDesktop ? 'w-full h-screen flex items-center justify-center' : 'w-[calc(var(--wheel-radius)_+_50px)] h-screen flex items-center justify-start'} overflow-hidden cursor-grab active:cursor-grabbing`,\n    style: {\n      '--wheel-radius': `${WHEEL_RADIUS}px`,\n      '--wheel-position-left': isDesktop ? '50%' : `calc(var(--wheel-radius) * -1)`,\n      '--wheel-position-top': isDesktop ? '50%' : '20%',\n      '--wheel-transform': isDesktop ? 'translate(-50%, -50%)' : 'translateY(-50%)'\n    },\n    \"aria-label\": \"Gesture wheel control. Drag vertically to rotate. Click on a segment or double tap to navigate.\",\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      drag: \"y\",\n      dragConstraints: {\n        top: 0,\n        bottom: 0\n      },\n      dragElastic: 0,\n      onDrag: handleDrag,\n      onTap: handleTap,\n      style: {\n        rotate: rotationMotionValue,\n        width: `calc(var(--wheel-radius) * 2)`,\n        height: `calc(var(--wheel-radius) * 2)`,\n        position: 'absolute',\n        left: 'var(--wheel-position-left)',\n        top: 'var(--wheel-position-top)',\n        transform: 'var(--wheel-transform)',\n        transformOrigin: '50% 50%'\n      },\n      role: \"slider\",\n      \"aria-orientation\": \"vertical\",\n      \"aria-valuemin\": -180,\n      \"aria-valuemax\": 180,\n      \"aria-valuenow\": normalizeAngle(rotation),\n      \"aria-valuetext\": ((_segments$find = segments.find(s => s.id === activeSegment)) === null || _segments$find === void 0 ? void 0 : _segments$find.label) || 'None selected',\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        viewBox: `-${WHEEL_RADIUS} -${WHEEL_RADIUS} ${WHEEL_RADIUS * 2} ${WHEEL_RADIUS * 2}`,\n        width: WHEEL_RADIUS * 2,\n        height: WHEEL_RADIUS * 2,\n        className: \"overflow-visible\",\n        children: /*#__PURE__*/_jsxDEV(\"g\", {\n          transform: \"translate(0, 0)\",\n          children: segments.map((segment, index) => {\n            const segmentMidPointAngle = 180 + index * (SEGMENT_ANGLE + GAP_ANGLE);\n            const startAngle = segmentMidPointAngle - (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n            const endAngle = segmentMidPointAngle + (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n            const isActive = segment.id === activeSegment;\n            const midAngleRad = segmentMidPointAngle * Math.PI / 180;\n            const imageCenterX = IMAGE_RADIUS * Math.cos(midAngleRad);\n            const imageCenterY = IMAGE_RADIUS * Math.sin(midAngleRad);\n            return /*#__PURE__*/_jsxDEV(\"g\", {\n              children: [/*#__PURE__*/_jsxDEV(motion.path, {\n                d: describeArcSegment(0, 0, WHEEL_RADIUS, INNER_RADIUS, startAngle, endAngle, GAP_ANGLE),\n                fill: isActive ? segment.activeColor : segment.color,\n                stroke: \"hsl(var(--border))\",\n                strokeWidth: \"1\",\n                initial: false,\n                animate: {\n                  fill: isActive ? segment.activeColor : segment.color\n                },\n                transition: {\n                  duration: 0.2\n                },\n                onClick: () => handleSegmentClick(segment.id),\n                style: {\n                  cursor: 'pointer'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                transform: `rotate(${-rotation} ${imageCenterX} ${imageCenterY})`,\n                children: /*#__PURE__*/_jsxDEV(\"image\", {\n                  href: segment.imageUrl,\n                  x: imageCenterX - IMAGE_SIZE / 2,\n                  y: imageCenterY - IMAGE_SIZE / 2,\n                  width: IMAGE_SIZE,\n                  height: IMAGE_SIZE,\n                  preserveAspectRatio: \"xMidYMid slice\",\n                  \"aria-hidden\": \"true\",\n                  \"data-ai-hint\": \"sample image\",\n                  onClick: () => handleSegmentClick(segment.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)]\n            }, segment.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${isDesktop ? 'hidden' : 'absolute top-1/2 left-[8px] transform -translate-y-1/2 w-1 h-4 bg-accent rounded-full z-10'}`,\n      \"aria-hidden\": \"true\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${isDesktop ? 'hidden' : 'absolute left-[24px] top-1/2 transform -translate-y-1/2 text-left text-foreground text-lg font-semibold w-24 pl-2'}`,\n      \"aria-live\": \"polite\",\n      children: ((_segments$find2 = segments.find(s => s.id === activeSegment)) === null || _segments$find2 === void 0 ? void 0 : _segments$find2.label) || ' '\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), isDesktop && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center text-foreground text-2xl font-bold\",\n      \"aria-live\": \"polite\",\n      children: ((_segments$find3 = segments.find(s => s.id === activeSegment)) === null || _segments$find3 === void 0 ? void 0 : _segments$find3.label) || ' '\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${isDesktop ? 'absolute top-1/2 left-1/2 transform -translate-x-1/2 translate-y-8' : 'absolute left-[24px] bottom-8'} text-sm text-muted-foreground`,\n      children: \"Click on a segment or double tap to navigate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GestureWheel, \"UAbb3FtYkdj6U/tf6cQdtvOZ2jQ=\", false, function () {\n  return [useNavigate, useMotionValue];\n});\n\n_c = GestureWheel;\n\nvar _c;\n\n$RefreshReg$(_c, \"GestureWheel\");","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","useMotionValue","Book","Briefcase","Clapperboard","Dumbbell","Gamepad2","Utensils","useNavigate","segments","id","label","icon","imageUrl","color","activeColor","path","WHEEL_RADIUS","INNER_RADIUS","IMAGE_RADIUS","IMAGE_SIZE","TOTAL_SEGMENTS","length","TOTAL_ANGLE","GAP_ANGLE","USABLE_ANGLE","SEGMENT_ANGLE","DRAG_SENSITIVITY","describeArcSegment","cx","cy","outerRadius","innerRadius","startAngle","endAngle","gapAngle","gapAdjust","startRadOuter","Math","PI","endRadOuter","startRadInner","endRadInner","startOuter","x","cos","y","sin","endOuter","startInner","endInner","largeArcFlagOuter","d","join","normalizeAngle","angle","normalized","GestureWheel","navigate","rotation","setRotation","activeSegment","setActiveSegment","selectedSegment","setSelectedSegment","isDesktop","setIsDesktop","constraintsRef","rotationMotionValue","lastTapTimeRef","doubleTapTimeoutRef","checkIfDesktop","window","innerWidth","addEventListener","removeEventListener","unsubscribe","onChange","latest","normalizedRotation","effectiveRotation","selectorAngleDegrees","currentActiveSegment","i","segmentCenterAngle","segmentStartAngleWithGap","segmentEndAngleWithGap","segmentStartAngle","segmentEndAngle","rotatedStart","rotatedEnd","segment","find","s","handleDrag","event","info","deltaRotation","delta","newRotation","set","handleTap","now","Date","timeSinceLastTap","current","clearTimeout","setTimeout","handleSegmentClick","segmentId","top","bottom","rotate","width","height","position","left","transform","transformOrigin","map","index","segmentMidPointAngle","isActive","midAngleRad","imageCenterX","imageCenterY","fill","duration","cursor"],"sources":["/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/src/components/GestureWheel.js"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { motion, useMotionValue } from 'framer-motion';\nimport { Book, Briefcase, Clapperboard, Dumbbell, Gamepad2, Utensils } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\n\nconst segments = [\n  { id: 1, label: 'Education', icon: Book, imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/education' },\n  { id: 2, label: 'Business', icon: Briefcase, imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/business' },\n  { id: 3, label: 'Entertainment', icon: Clapperboard, imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/entertainment' },\n  { id: 4, label: 'Sports/Fitness', icon: Dumbbell, imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/sports-fitness' },\n  { id: 5, label: 'Gaming', icon: Gamepad2, imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/gaming' },\n  { id: 6, label: 'Food/Travel', icon: Utensils, imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1743101306/cld-sample.jpg', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/food-travel' },\n];\n\nconst WHEEL_RADIUS = 300;\nconst INNER_RADIUS = WHEEL_RADIUS * 0.4;\nconst IMAGE_RADIUS = (WHEEL_RADIUS + INNER_RADIUS) / 2;\nconst IMAGE_SIZE = 40;\nconst TOTAL_SEGMENTS = segments.length;\nconst TOTAL_ANGLE = 360;\nconst GAP_ANGLE = 6;\nconst USABLE_ANGLE = TOTAL_ANGLE - TOTAL_SEGMENTS * GAP_ANGLE;\nconst SEGMENT_ANGLE = USABLE_ANGLE / TOTAL_SEGMENTS;\nconst DRAG_SENSITIVITY = 0.5;\n\nconst describeArcSegment = (cx, cy, outerRadius, innerRadius, startAngle, endAngle, gapAngle) => {\n  const gapAdjust = gapAngle / 2;\n  const startRadOuter = ((startAngle + gapAdjust) * Math.PI) / 180;\n  const endRadOuter = ((endAngle - gapAdjust) * Math.PI) / 180;\n  const startRadInner = ((startAngle + gapAdjust) * Math.PI) / 180;\n  const endRadInner = ((endAngle - gapAdjust) * Math.PI) / 180;\n\n  const startOuter = {\n    x: cx + outerRadius * Math.cos(startRadOuter),\n    y: cy + outerRadius * Math.sin(startRadOuter),\n  };\n  const endOuter = {\n    x: cx + outerRadius * Math.cos(endRadOuter),\n    y: cy + outerRadius * Math.sin(endRadOuter),\n  };\n  const startInner = {\n    x: cx + innerRadius * Math.cos(startRadInner),\n    y: cy + innerRadius * Math.sin(startRadInner),\n  };\n  const endInner = {\n    x: cx + innerRadius * Math.cos(endRadInner),\n    y: cy + innerRadius * Math.sin(endRadInner),\n  };\n\n  const largeArcFlagOuter = (endAngle - gapAdjust) - (startAngle + gapAdjust) <= 180 ? '0' : '1';\n  const d = [\n    'M', startInner.x, startInner.y,\n    'L', startOuter.x, startOuter.y,\n    'A', outerRadius, outerRadius, 0, largeArcFlagOuter, '1', endOuter.x, endOuter.y,\n    'L', endInner.x, endInner.y,\n    'A', innerRadius, innerRadius, 0, largeArcFlagOuter, '0', startInner.x, startInner.y,\n    'Z',\n  ].join(' ');\n\n  return d;\n};\n\nconst normalizeAngle = (angle) => {\n  let normalized = angle % 360;\n  if (normalized > 180) normalized -= 360;\n  else if (normalized <= -180) normalized += 360;\n  return normalized;\n};\n\nexport function GestureWheel() {\n  const navigate = useNavigate();\n  const [rotation, setRotation] = useState(0);\n  const [activeSegment, setActiveSegment] = useState(null);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n  const [isDesktop, setIsDesktop] = useState(false);\n  const constraintsRef = useRef(null);\n  const rotationMotionValue = useMotionValue(0);\n  const lastTapTimeRef = useRef(0);\n  const doubleTapTimeoutRef = useRef(null);\n\n  // Check if the device is desktop on mount and on window resize\n  useEffect(() => {\n    const checkIfDesktop = () => {\n      setIsDesktop(window.innerWidth >= 1024); // 1024px is a common breakpoint for laptops\n    };\n\n    // Initial check\n    checkIfDesktop();\n\n    // Add event listener for window resize\n    window.addEventListener('resize', checkIfDesktop);\n\n    // Cleanup\n    return () => window.removeEventListener('resize', checkIfDesktop);\n  }, []);\n\n  useEffect(() => {\n    const unsubscribe = rotationMotionValue.onChange((latest) => {\n      setRotation(latest);\n      const normalizedRotation = latest % 360;\n      const effectiveRotation = (normalizedRotation + 360) % 360;\n      const selectorAngleDegrees = 180;\n\n      let currentActiveSegment = null;\n      for (let i = 0; i < segments.length; i++) {\n        const segmentCenterAngle = 180 + i * (SEGMENT_ANGLE + GAP_ANGLE);\n        const segmentStartAngleWithGap = segmentCenterAngle - (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n        const segmentEndAngleWithGap = segmentCenterAngle + (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n        const segmentStartAngle = segmentStartAngleWithGap + GAP_ANGLE / 2;\n        const segmentEndAngle = segmentEndAngleWithGap - GAP_ANGLE / 2;\n\n        let rotatedStart = (segmentStartAngle - effectiveRotation + 360) % 360;\n        let rotatedEnd = (segmentEndAngle - effectiveRotation + 360) % 360;\n\n        if (rotatedStart <= rotatedEnd) {\n          if (selectorAngleDegrees >= rotatedStart && selectorAngleDegrees < rotatedEnd) {\n            currentActiveSegment = segments[i].id;\n            break;\n          }\n        } else {\n          if (selectorAngleDegrees >= rotatedStart || selectorAngleDegrees < rotatedEnd) {\n            currentActiveSegment = segments[i].id;\n            break;\n          }\n        }\n      }\n      setActiveSegment(currentActiveSegment);\n    });\n    return unsubscribe;\n  }, [rotationMotionValue]);\n\n  // Navigate to the selected segment's page\n  useEffect(() => {\n    if (selectedSegment) {\n      const segment = segments.find(s => s.id === selectedSegment);\n      if (segment && segment.path) {\n        navigate(segment.path);\n      }\n      setSelectedSegment(null); // Reset after navigation\n    }\n  }, [selectedSegment, navigate]);\n\n  const handleDrag = (event, info) => {\n    // Change rotation based on vertical drag delta for mobile, or based on cursor position for desktop\n    if (isDesktop) {\n      // For desktop we can use a different drag behavior if desired\n      // This still uses vertical drag but could be changed to horizontal or circular\n      const deltaRotation = info.delta.y * DRAG_SENSITIVITY;\n      const newRotation = rotation + deltaRotation;\n      rotationMotionValue.set(newRotation);\n    } else {\n      // Mobile behavior - vertical drag\n      const deltaRotation = info.delta.y * DRAG_SENSITIVITY;\n      const newRotation = rotation + deltaRotation;\n      rotationMotionValue.set(newRotation);\n    }\n  };\n\n  const handleTap = () => {\n    const now = Date.now();\n    const timeSinceLastTap = now - lastTapTimeRef.current;\n    \n    // Clear any existing double tap timeout\n    if (doubleTapTimeoutRef.current) {\n      clearTimeout(doubleTapTimeoutRef.current);\n    }\n    \n    if (timeSinceLastTap < 300) { // Double tap detected\n      // Navigate to the active segment\n      if (activeSegment) {\n        setSelectedSegment(activeSegment);\n      }\n    } else {\n      // Set a timeout for possible second tap\n      doubleTapTimeoutRef.current = setTimeout(() => {\n        // Single tap logic if needed\n        doubleTapTimeoutRef.current = null;\n      }, 300);\n    }\n    \n    lastTapTimeRef.current = now;\n  };\n  \n  // Add a dedicated click handler for the segment selection\n  const handleSegmentClick = (segmentId) => {\n    setSelectedSegment(segmentId);\n  };\n\n  return (\n    <div\n      ref={constraintsRef}\n      className={`relative ${isDesktop ? 'w-full h-screen flex items-center justify-center' : 'w-[calc(var(--wheel-radius)_+_50px)] h-screen flex items-center justify-start'} overflow-hidden cursor-grab active:cursor-grabbing`}\n      style={{ \n        '--wheel-radius': `${WHEEL_RADIUS}px`,\n        '--wheel-position-left': isDesktop ? '50%' : `calc(var(--wheel-radius) * -1)`,\n        '--wheel-position-top': isDesktop ? '50%' : '20%',\n        '--wheel-transform': isDesktop ? 'translate(-50%, -50%)' : 'translateY(-50%)'\n      }}\n      aria-label=\"Gesture wheel control. Drag vertically to rotate. Click on a segment or double tap to navigate.\"\n    >\n      <motion.div\n        drag=\"y\"\n        dragConstraints={{ top: 0, bottom: 0 }}\n        dragElastic={0}\n        onDrag={handleDrag}\n        onTap={handleTap}\n        style={{\n          rotate: rotationMotionValue,\n          width: `calc(var(--wheel-radius) * 2)`,\n          height: `calc(var(--wheel-radius) * 2)`,\n          position: 'absolute',\n          left: 'var(--wheel-position-left)',\n          top: 'var(--wheel-position-top)',\n          transform: 'var(--wheel-transform)',\n          transformOrigin: '50% 50%',\n        }}\n        role=\"slider\"\n        aria-orientation=\"vertical\"\n        aria-valuemin={-180}\n        aria-valuemax={180}\n        aria-valuenow={normalizeAngle(rotation)}\n        aria-valuetext={segments.find(s => s.id === activeSegment)?.label || 'None selected'}\n      >\n        <svg\n          viewBox={`-${WHEEL_RADIUS} -${WHEEL_RADIUS} ${WHEEL_RADIUS * 2} ${WHEEL_RADIUS * 2}`}\n          width={WHEEL_RADIUS * 2}\n          height={WHEEL_RADIUS * 2}\n          className=\"overflow-visible\"\n        >\n          <g transform=\"translate(0, 0)\">\n            {segments.map((segment, index) => {\n              const segmentMidPointAngle = 180 + index * (SEGMENT_ANGLE + GAP_ANGLE);\n              const startAngle = segmentMidPointAngle - (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n              const endAngle = segmentMidPointAngle + (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n              const isActive = segment.id === activeSegment;\n              const midAngleRad = segmentMidPointAngle * Math.PI / 180;\n              const imageCenterX = IMAGE_RADIUS * Math.cos(midAngleRad);\n              const imageCenterY = IMAGE_RADIUS * Math.sin(midAngleRad);\n\n              return (\n                <g key={segment.id}>\n                  <motion.path\n                    d={describeArcSegment(0, 0, WHEEL_RADIUS, INNER_RADIUS, startAngle, endAngle, GAP_ANGLE)}\n                    fill={isActive ? segment.activeColor : segment.color}\n                    stroke=\"hsl(var(--border))\"\n                    strokeWidth=\"1\"\n                    initial={false}\n                    animate={{ fill: isActive ? segment.activeColor : segment.color }}\n                    transition={{ duration: 0.2 }}\n                    onClick={() => handleSegmentClick(segment.id)}\n                    style={{ cursor: 'pointer' }}\n                  />\n                  <g transform={`rotate(${-rotation} ${imageCenterX} ${imageCenterY})`}>\n                    <image\n                      href={segment.imageUrl}\n                      x={imageCenterX - IMAGE_SIZE / 2}\n                      y={imageCenterY - IMAGE_SIZE / 2}\n                      width={IMAGE_SIZE}\n                      height={IMAGE_SIZE}\n                      preserveAspectRatio=\"xMidYMid slice\"\n                      aria-hidden=\"true\"\n                      data-ai-hint=\"sample image\"\n                      onClick={() => handleSegmentClick(segment.id)}\n                    />\n                  </g>\n                </g>\n              );\n            })}\n          </g>\n        </svg>\n      </motion.div>\n\n      <div className={`${isDesktop ? 'hidden' : 'absolute top-1/2 left-[8px] transform -translate-y-1/2 w-1 h-4 bg-accent rounded-full z-10'}`} aria-hidden=\"true\"></div>\n      <div className={`${isDesktop ? 'hidden' : 'absolute left-[24px] top-1/2 transform -translate-y-1/2 text-left text-foreground text-lg font-semibold w-24 pl-2'}`} aria-live=\"polite\">\n        {segments.find(s => s.id === activeSegment)?.label || ' '}\n      </div>\n      \n      {isDesktop && (\n        <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center text-foreground text-2xl font-bold\" aria-live=\"polite\">\n          {segments.find(s => s.id === activeSegment)?.label || ' '}\n        </div>\n      )}\n      \n      <div className={`${isDesktop ? 'absolute top-1/2 left-1/2 transform -translate-x-1/2 translate-y-8' : 'absolute left-[24px] bottom-8'} text-sm text-muted-foreground`}>\n        Click on a segment or double tap to navigate\n      </div>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}