{"ast":null,"code":"var _jsxFileName = \"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/UserProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from \"react\"; // import PostDetail from \"./PostDetail\";\n\nimport \"./UserProfile.css\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport VideoCard from \"./VideoCard\";\nimport { toast } from \"react-toastify\";\nimport { UserContext } from \"../context/UserContext\";\nimport config from \"../config/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserProfile() {\n  _s();\n\n  const {\n    userid\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    state\n  } = useContext(UserContext);\n  const [user, setUser] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isFollow, setIsFollow] = useState(false);\n  const [activeTab, setActiveTab] = useState('posts'); // 'posts' or 'videos'\n\n  const picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n  useEffect(() => {\n    fetchData();\n  }, [userid]);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"jwt\"); // Fetch user data\n\n      const userRes = await fetch(`${config.BACKEND_URL}/user/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n\n      if (!userRes.ok) {\n        throw new Error(`Failed to fetch user: ${userRes.status}`);\n      }\n\n      const userData = await userRes.json();\n      setUser(userData); // Check if current user is following this user\n\n      if (userData.followers && state && userData.followers.includes(state._id)) {\n        setIsFollow(true);\n      } // Fetch user's posts\n\n\n      const postsRes = await fetch(`${config.BACKEND_URL}/mypost/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n\n      if (!postsRes.ok) {\n        throw new Error(`Failed to fetch posts: ${postsRes.status}`);\n      }\n\n      const postsData = await postsRes.json();\n      setPosts(Array.isArray(postsData) ? postsData : []); // Fetch user's videos\n\n      const videosRes = await fetch(`${config.BACKEND_URL}/video/user/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n\n      if (!videosRes.ok) {\n        throw new Error(`Failed to fetch videos: ${videosRes.status}`);\n      }\n\n      const videosData = await videosRes.json();\n      setVideos(Array.isArray(videosData) ? videosData : []);\n    } catch (err) {\n      console.error(\"Error fetching user profile data:\", err);\n      toast.error(\"Error loading user profile\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const followUser = async userId => {\n    try {\n      const token = localStorage.getItem(\"jwt\");\n      const res = await fetch(`${config.BACKEND_URL}/follow`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token\n        },\n        body: JSON.stringify({\n          followId: userId\n        })\n      });\n\n      if (!res.ok) {\n        throw new Error(`Failed to follow user: ${res.status}`);\n      }\n\n      const data = await res.json();\n      setUser(data);\n      setIsFollow(true);\n      toast.success(\"User followed successfully!\");\n    } catch (err) {\n      console.error(\"Error following user:\", err);\n      toast.error(\"Error following user\");\n    }\n  };\n\n  const unfollowUser = async userId => {\n    try {\n      const token = localStorage.getItem(\"jwt\");\n      const res = await fetch(`${config.BACKEND_URL}/unfollow`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token\n        },\n        body: JSON.stringify({\n          followId: userId\n        })\n      });\n\n      if (!res.ok) {\n        throw new Error(`Failed to unfollow user: ${res.status}`);\n      }\n\n      const data = await res.json();\n      setUser(data);\n      setIsFollow(false);\n      toast.success(\"User unfollowed successfully!\");\n    } catch (err) {\n      console.error(\"Error unfollowing user:\", err);\n      toast.error(\"Error unfollowing user\");\n    }\n  };\n\n  const handleVideoUpdate = () => {\n    fetchData();\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userProfile\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userProfile\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Unable to load user profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please try refreshing the page or check if the user exists.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"userProfile\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-frame\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-pic\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.Photo ? user.Photo : picLink,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-data\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), state && user._id !== state._id && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"followBtn\",\n            onClick: () => {\n              if (isFollow) {\n                unfollowUser(user._id);\n              } else {\n                followUser(user._id);\n              }\n            },\n            children: isFollow ? \"Unfollow\" : \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-info\",\n          style: {\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [posts ? posts.length : 0, \" posts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [videos ? videos.length : 0, \" videos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [user.followers ? user.followers.length : 0, \" followers\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [user.following ? user.following.length : 0, \" following\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        width: \"90%\",\n        opacity: \"0.8\",\n        margin: \"25px auto\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'posts' ? 'active' : ''}`,\n        onClick: () => setActiveTab('posts'),\n        children: \"Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'videos' ? 'active' : ''}`,\n        onClick: () => setActiveTab('videos'),\n        children: \"Videos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), activeTab === 'posts' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-posts\",\n      children: posts && posts.length > 0 ? posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-item\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: post.photo,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }, this)\n      }, post._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-posts\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No posts yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-videos\",\n      children: videos && videos.length > 0 ? videos.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: video.thumbnailUrl,\n          alt: video.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: video.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: video.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }, this)]\n      }, video._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-videos\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No videos yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserProfile, \"s67O1KKeb4JKka8ha6YMqlz0U7g=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","useNavigate","VideoCard","toast","UserContext","config","UserProfile","userid","navigate","state","user","setUser","posts","setPosts","videos","setVideos","loading","setLoading","isFollow","setIsFollow","activeTab","setActiveTab","picLink","fetchData","token","localStorage","getItem","userRes","fetch","BACKEND_URL","headers","Authorization","ok","Error","status","userData","json","followers","includes","_id","postsRes","postsData","Array","isArray","videosRes","videosData","err","console","error","followUser","userId","res","method","body","JSON","stringify","followId","data","success","unfollowUser","handleVideoUpdate","Photo","display","alignItems","justifyContent","name","length","following","width","opacity","margin","map","post","photo","video","thumbnailUrl","title","description"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/UserProfile.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\n// import PostDetail from \"./PostDetail\";\nimport \"./UserProfile.css\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport VideoCard from \"./VideoCard\";\nimport { toast } from \"react-toastify\";\nimport { UserContext } from \"../context/UserContext\";\nimport config from \"../config/config\";\n\nexport default function UserProfile() {\n  const { userid } = useParams();\n  const navigate = useNavigate();\n  const { state } = useContext(UserContext);\n  const [user, setUser] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isFollow, setIsFollow] = useState(false);\n  const [activeTab, setActiveTab] = useState('posts'); // 'posts' or 'videos'\n\n  const picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n\n  useEffect(() => {\n    fetchData();\n  }, [userid]);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"jwt\");\n\n      // Fetch user data\n      const userRes = await fetch(`${config.BACKEND_URL}/user/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      });\n\n      if (!userRes.ok) {\n        throw new Error(`Failed to fetch user: ${userRes.status}`);\n      }\n\n      const userData = await userRes.json();\n      setUser(userData);\n\n      // Check if current user is following this user\n      if (userData.followers && state && userData.followers.includes(state._id)) {\n        setIsFollow(true);\n      }\n\n      // Fetch user's posts\n      const postsRes = await fetch(`${config.BACKEND_URL}/mypost/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      });\n\n      if (!postsRes.ok) {\n        throw new Error(`Failed to fetch posts: ${postsRes.status}`);\n      }\n\n      const postsData = await postsRes.json();\n      setPosts(Array.isArray(postsData) ? postsData : []);\n\n      // Fetch user's videos\n      const videosRes = await fetch(`${config.BACKEND_URL}/video/user/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      });\n\n      if (!videosRes.ok) {\n        throw new Error(`Failed to fetch videos: ${videosRes.status}`);\n      }\n\n      const videosData = await videosRes.json();\n      setVideos(Array.isArray(videosData) ? videosData : []);\n    } catch (err) {\n      console.error(\"Error fetching user profile data:\", err);\n      toast.error(\"Error loading user profile\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const followUser = async (userId) => {\n    try {\n      const token = localStorage.getItem(\"jwt\");\n      const res = await fetch(`${config.BACKEND_URL}/follow`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n        body: JSON.stringify({\n          followId: userId,\n        }),\n      });\n\n      if (!res.ok) {\n        throw new Error(`Failed to follow user: ${res.status}`);\n      }\n\n      const data = await res.json();\n      setUser(data);\n      setIsFollow(true);\n      toast.success(\"User followed successfully!\");\n    } catch (err) {\n      console.error(\"Error following user:\", err);\n      toast.error(\"Error following user\");\n    }\n  };\n\n  const unfollowUser = async (userId) => {\n    try {\n      const token = localStorage.getItem(\"jwt\");\n      const res = await fetch(`${config.BACKEND_URL}/unfollow`, {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n        body: JSON.stringify({\n          followId: userId,\n        }),\n      });\n\n      if (!res.ok) {\n        throw new Error(`Failed to unfollow user: ${res.status}`);\n      }\n\n      const data = await res.json();\n      setUser(data);\n      setIsFollow(false);\n      toast.success(\"User unfollowed successfully!\");\n    } catch (err) {\n      console.error(\"Error unfollowing user:\", err);\n      toast.error(\"Error unfollowing user\");\n    }\n  };\n\n  const handleVideoUpdate = () => {\n    fetchData();\n  };\n\n  if (loading) {\n    return <div className=\"userProfile\">Loading...</div>;\n  }\n\n  if (!user) {\n    return (\n      <div className=\"userProfile\">\n        <div className=\"error-message\">\n          <h2>Unable to load user profile</h2>\n          <p>Please try refreshing the page or check if the user exists.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"userProfile\">\n      {/* Profile frame */}\n      <div className=\"profile-frame\">\n        {/* profile-pic */}\n        <div className=\"profile-pic\">\n          <img src={user.Photo ? user.Photo : picLink} alt=\"\" />\n        </div>\n        {/* profile-data */}\n        <div className=\"profile-data\">\n          <div style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n          }}>\n            <h1>{user.name}</h1>\n            {state && user._id !== state._id && (\n              <button\n                className=\"followBtn\"\n                onClick={() => {\n                  if (isFollow) {\n                    unfollowUser(user._id);\n                  } else {\n                    followUser(user._id);\n                  }\n                }}\n              >\n                {isFollow ? \"Unfollow\" : \"Follow\"}\n              </button>\n            )}\n          </div>\n          <div className=\"profile-info\" style={{ display: \"flex\" }}>\n            <p>{posts ? posts.length : 0} posts</p>\n            <p>{videos ? videos.length : 0} videos</p>\n            <p>{user.followers ? user.followers.length : 0} followers</p>\n            <p>{user.following ? user.following.length : 0} following</p>\n          </div>\n        </div>\n      </div>\n      <hr\n        style={{\n          width: \"90%\",\n          opacity: \"0.8\",\n          margin: \"25px auto\",\n        }}\n      />\n\n      {/* Tabs */}\n      <div className=\"profile-tabs\">\n        <button\n          className={`tab-button ${activeTab === 'posts' ? 'active' : ''}`}\n          onClick={() => setActiveTab('posts')}\n        >\n          Posts\n        </button>\n        <button\n          className={`tab-button ${activeTab === 'videos' ? 'active' : ''}`}\n          onClick={() => setActiveTab('videos')}\n        >\n          Videos\n        </button>\n      </div>\n\n      {/* Content based on active tab */}\n      {activeTab === 'posts' ? (\n        <div className=\"profile-posts\">\n          {posts && posts.length > 0 ? (\n            posts.map((post) => (\n              <div key={post._id} className=\"post-item\">\n                <img src={post.photo} alt=\"\" />\n              </div>\n            ))\n          ) : (\n            <div className=\"no-posts\">\n              <p>No posts yet</p>\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className=\"profile-videos\">\n          {videos && videos.length > 0 ? (\n            videos.map((video) => (\n              <div key={video._id} className=\"video-item\">\n                <img src={video.thumbnailUrl} alt={video.title} />\n                <div className=\"video-info\">\n                  <h4>{video.title}</h4>\n                  <p>{video.description}</p>\n                </div>\n              </div>\n            ))\n          ) : (\n            <div className=\"no-videos\">\n              <p>No videos yet</p>\n            </div>\n          )}\n        </div>\n      )}\n      {/* {show &&\n        <PostDetail item={posts} toggleDetails={toggleDetails} />\n      } */}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}