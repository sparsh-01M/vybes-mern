{"ast":null,"code":"/**\n * @import {Element, Nodes, Parents, Root} from 'hast'\n * @import {Root as MdastRoot} from 'mdast'\n * @import {ComponentType, JSX, ReactElement, ReactNode} from 'react'\n * @import {Options as RemarkRehypeOptions} from 'remark-rehype'\n * @import {BuildVisitor} from 'unist-util-visit'\n * @import {PluggableList, Processor} from 'unified'\n */\n\n/**\n * @callback AllowElement\n *   Filter elements.\n * @param {Readonly<Element>} element\n *   Element to check.\n * @param {number} index\n *   Index of `element` in `parent`.\n * @param {Readonly<Parents> | undefined} parent\n *   Parent of `element`.\n * @returns {boolean | null | undefined}\n *   Whether to allow `element` (default: `false`).\n */\n\n/**\n * @typedef ExtraProps\n *   Extra fields we pass.\n * @property {Element | undefined} [node]\n *   passed when `passNode` is on.\n */\n\n/**\n * @typedef {{\n *   [Key in keyof JSX.IntrinsicElements]?: ComponentType<JSX.IntrinsicElements[Key] & ExtraProps> | keyof JSX.IntrinsicElements\n * }} Components\n *   Map tag names to components.\n */\n\n/**\n * @typedef Deprecation\n *   Deprecation.\n * @property {string} from\n *   Old field.\n * @property {string} id\n *   ID in readme.\n * @property {keyof Options} [to]\n *   New field.\n */\n\n/**\n * @typedef Options\n *   Configuration.\n * @property {AllowElement | null | undefined} [allowElement]\n *   Filter elements (optional);\n *   `allowedElements` / `disallowedElements` is used first.\n * @property {ReadonlyArray<string> | null | undefined} [allowedElements]\n *   Tag names to allow (default: all tag names);\n *   cannot combine w/ `disallowedElements`.\n * @property {string | null | undefined} [children]\n *   Markdown.\n * @property {Components | null | undefined} [components]\n *   Map tag names to components.\n * @property {ReadonlyArray<string> | null | undefined} [disallowedElements]\n *   Tag names to disallow (default: `[]`);\n *   cannot combine w/ `allowedElements`.\n * @property {PluggableList | null | undefined} [rehypePlugins]\n *   List of rehype plugins to use.\n * @property {PluggableList | null | undefined} [remarkPlugins]\n *   List of remark plugins to use.\n * @property {Readonly<RemarkRehypeOptions> | null | undefined} [remarkRehypeOptions]\n *   Options to pass through to `remark-rehype`.\n * @property {boolean | null | undefined} [skipHtml=false]\n *   Ignore HTML in markdown completely (default: `false`).\n * @property {boolean | null | undefined} [unwrapDisallowed=false]\n *   Extract (unwrap) what’s in disallowed elements (default: `false`);\n *   normally when say `strong` is not allowed, it and it’s children are dropped,\n *   with `unwrapDisallowed` the element itself is replaced by its children.\n * @property {UrlTransform | null | undefined} [urlTransform]\n *   Change URLs (default: `defaultUrlTransform`)\n */\n\n/**\n * @typedef HooksOptionsOnly\n *   Configuration specifically for {@linkcode MarkdownHooks}.\n * @property {ReactNode | null | undefined} [fallback]\n *   Content to render while the processor processing the markdown (optional).\n */\n\n/**\n * @typedef {Options & HooksOptionsOnly} HooksOptions\n *   Configuration for {@linkcode MarkdownHooks};\n *   extends the regular {@linkcode Options} with a `fallback` prop.\n */\n\n/**\n * @callback UrlTransform\n *   Transform all URLs.\n * @param {string} url\n *   URL.\n * @param {string} key\n *   Property name (example: `'href'`).\n * @param {Readonly<Element>} node\n *   Node.\n * @returns {string | null | undefined}\n *   Transformed URL (optional).\n */\nimport { unreachable } from 'devlop';\nimport { toJsxRuntime } from 'hast-util-to-jsx-runtime';\nimport { urlAttributes } from 'html-url-attributes';\nimport { Fragment, jsx, jsxs } from 'react/jsx-runtime';\nimport { useEffect, useState } from 'react';\nimport remarkParse from 'remark-parse';\nimport remarkRehype from 'remark-rehype';\nimport { unified } from 'unified';\nimport { visit } from 'unist-util-visit';\nimport { VFile } from 'vfile';\nconst changelog = 'https://github.com/remarkjs/react-markdown/blob/main/changelog.md';\n/** @type {PluggableList} */\n\nconst emptyPlugins = [];\n/** @type {Readonly<RemarkRehypeOptions>} */\n\nconst emptyRemarkRehypeOptions = {\n  allowDangerousHtml: true\n};\nconst safeProtocol = /^(https?|ircs?|mailto|xmpp)$/i; // Mutable because we `delete` any time it’s used and a message is sent.\n\n/** @type {ReadonlyArray<Readonly<Deprecation>>} */\n\nconst deprecations = [{\n  from: 'astPlugins',\n  id: 'remove-buggy-html-in-markdown-parser'\n}, {\n  from: 'allowDangerousHtml',\n  id: 'remove-buggy-html-in-markdown-parser'\n}, {\n  from: 'allowNode',\n  id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n  to: 'allowElement'\n}, {\n  from: 'allowedTypes',\n  id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n  to: 'allowedElements'\n}, {\n  from: 'className',\n  id: 'remove-classname'\n}, {\n  from: 'disallowedTypes',\n  id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n  to: 'disallowedElements'\n}, {\n  from: 'escapeHtml',\n  id: 'remove-buggy-html-in-markdown-parser'\n}, {\n  from: 'includeElementIndex',\n  id: '#remove-includeelementindex'\n}, {\n  from: 'includeNodeIndex',\n  id: 'change-includenodeindex-to-includeelementindex'\n}, {\n  from: 'linkTarget',\n  id: 'remove-linktarget'\n}, {\n  from: 'plugins',\n  id: 'change-plugins-to-remarkplugins',\n  to: 'remarkPlugins'\n}, {\n  from: 'rawSourcePos',\n  id: '#remove-rawsourcepos'\n}, {\n  from: 'renderers',\n  id: 'change-renderers-to-components',\n  to: 'components'\n}, {\n  from: 'source',\n  id: 'change-source-to-children',\n  to: 'children'\n}, {\n  from: 'sourcePos',\n  id: '#remove-sourcepos'\n}, {\n  from: 'transformImageUri',\n  id: '#add-urltransform',\n  to: 'urlTransform'\n}, {\n  from: 'transformLinkUri',\n  id: '#add-urltransform',\n  to: 'urlTransform'\n}];\n/**\n * Component to render markdown.\n *\n * This is a synchronous component.\n * When using async plugins,\n * see {@linkcode MarkdownAsync} or {@linkcode MarkdownHooks}.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {ReactElement}\n *   React element.\n */\n\nexport function Markdown(options) {\n  const processor = createProcessor(options);\n  const file = createFile(options);\n  return post(processor.runSync(processor.parse(file), file), options);\n}\n/**\n * Component to render markdown with support for async plugins\n * through async/await.\n *\n * Components returning promises are supported on the server.\n * For async support on the client,\n * see {@linkcode MarkdownHooks}.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {Promise<ReactElement>}\n *   Promise to a React element.\n */\n\nexport async function MarkdownAsync(options) {\n  const processor = createProcessor(options);\n  const file = createFile(options);\n  const tree = await processor.run(processor.parse(file), file);\n  return post(tree, options);\n}\n/**\n * Component to render markdown with support for async plugins through hooks.\n *\n * This uses `useEffect` and `useState` hooks.\n * Hooks run on the client and do not immediately render something.\n * For async support on the server,\n * see {@linkcode MarkdownAsync}.\n *\n * @param {Readonly<HooksOptions>} options\n *   Props.\n * @returns {ReactNode}\n *   React node.\n */\n\nexport function MarkdownHooks(options) {\n  const processor = createProcessor(options);\n  const [error, setError] = useState(\n  /** @type {Error | undefined} */\n  undefined);\n  const [tree, setTree] = useState(\n  /** @type {Root | undefined} */\n  undefined);\n  useEffect(function () {\n    let cancelled = false;\n    const file = createFile(options);\n    processor.run(processor.parse(file), file, function (error, tree) {\n      if (!cancelled) {\n        setError(error);\n        setTree(tree);\n      }\n    });\n    /**\n     * @returns {undefined}\n     *   Nothing.\n     */\n\n    return function () {\n      cancelled = true;\n    };\n  }, [options.children, options.rehypePlugins, options.remarkPlugins, options.remarkRehypeOptions]);\n  if (error) throw error;\n  return tree ? post(tree, options) : options.fallback;\n}\n/**\n * Set up the `unified` processor.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {Processor<MdastRoot, MdastRoot, Root, undefined, undefined>}\n *   Result.\n */\n\nfunction createProcessor(options) {\n  const rehypePlugins = options.rehypePlugins || emptyPlugins;\n  const remarkPlugins = options.remarkPlugins || emptyPlugins;\n  const remarkRehypeOptions = options.remarkRehypeOptions ? { ...options.remarkRehypeOptions,\n    ...emptyRemarkRehypeOptions\n  } : emptyRemarkRehypeOptions;\n  const processor = unified().use(remarkParse).use(remarkPlugins).use(remarkRehype, remarkRehypeOptions).use(rehypePlugins);\n  return processor;\n}\n/**\n * Set up the virtual file.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {VFile}\n *   Result.\n */\n\n\nfunction createFile(options) {\n  const children = options.children || '';\n  const file = new VFile();\n\n  if (typeof children === 'string') {\n    file.value = children;\n  } else {\n    unreachable('Unexpected value `' + children + '` for `children` prop, expected `string`');\n  }\n\n  return file;\n}\n/**\n * Process the result from unified some more.\n *\n * @param {Nodes} tree\n *   Tree.\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {ReactElement}\n *   React element.\n */\n\n\nfunction post(tree, options) {\n  const allowedElements = options.allowedElements;\n  const allowElement = options.allowElement;\n  const components = options.components;\n  const disallowedElements = options.disallowedElements;\n  const skipHtml = options.skipHtml;\n  const unwrapDisallowed = options.unwrapDisallowed;\n  const urlTransform = options.urlTransform || defaultUrlTransform;\n\n  for (const deprecation of deprecations) {\n    if (Object.hasOwn(options, deprecation.from)) {\n      unreachable('Unexpected `' + deprecation.from + '` prop, ' + (deprecation.to ? 'use `' + deprecation.to + '` instead' : 'remove it') + ' (see <' + changelog + '#' + deprecation.id + '> for more info)');\n    }\n  }\n\n  if (allowedElements && disallowedElements) {\n    unreachable('Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other');\n  }\n\n  visit(tree, transform);\n  return toJsxRuntime(tree, {\n    Fragment,\n    components,\n    ignoreInvalidStyle: true,\n    jsx,\n    jsxs,\n    passKeys: true,\n    passNode: true\n  });\n  /** @type {BuildVisitor<Root>} */\n\n  function transform(node, index, parent) {\n    if (node.type === 'raw' && parent && typeof index === 'number') {\n      if (skipHtml) {\n        parent.children.splice(index, 1);\n      } else {\n        parent.children[index] = {\n          type: 'text',\n          value: node.value\n        };\n      }\n\n      return index;\n    }\n\n    if (node.type === 'element') {\n      /** @type {string} */\n      let key;\n\n      for (key in urlAttributes) {\n        if (Object.hasOwn(urlAttributes, key) && Object.hasOwn(node.properties, key)) {\n          const value = node.properties[key];\n          const test = urlAttributes[key];\n\n          if (test === null || test.includes(node.tagName)) {\n            node.properties[key] = urlTransform(String(value || ''), key, node);\n          }\n        }\n      }\n    }\n\n    if (node.type === 'element') {\n      let remove = allowedElements ? !allowedElements.includes(node.tagName) : disallowedElements ? disallowedElements.includes(node.tagName) : false;\n\n      if (!remove && allowElement && typeof index === 'number') {\n        remove = !allowElement(node, index, parent);\n      }\n\n      if (remove && parent && typeof index === 'number') {\n        if (unwrapDisallowed && node.children) {\n          parent.children.splice(index, 1, ...node.children);\n        } else {\n          parent.children.splice(index, 1);\n        }\n\n        return index;\n      }\n    }\n  }\n}\n/**\n * Make a URL safe.\n *\n * @satisfies {UrlTransform}\n * @param {string} value\n *   URL.\n * @returns {string}\n *   Safe URL.\n */\n\n\nexport function defaultUrlTransform(value) {\n  // Same as:\n  // <https://github.com/micromark/micromark/blob/929275e/packages/micromark-util-sanitize-uri/dev/index.js#L34>\n  // But without the `encode` part.\n  const colon = value.indexOf(':');\n  const questionMark = value.indexOf('?');\n  const numberSign = value.indexOf('#');\n  const slash = value.indexOf('/');\n\n  if ( // If there is no protocol, it’s relative.\n  colon === -1 || // If the first colon is after a `?`, `#`, or `/`, it’s not a protocol.\n  slash !== -1 && colon > slash || questionMark !== -1 && colon > questionMark || numberSign !== -1 && colon > numberSign || // It is a protocol, it should be allowed.\n  safeProtocol.test(value.slice(0, colon))) {\n    return value;\n  }\n\n  return '';\n}","map":{"version":3,"names":["unreachable","toJsxRuntime","urlAttributes","Fragment","jsx","jsxs","useEffect","useState","remarkParse","remarkRehype","unified","visit","VFile","changelog","emptyPlugins","emptyRemarkRehypeOptions","allowDangerousHtml","safeProtocol","deprecations","from","id","to","Markdown","options","processor","createProcessor","file","createFile","post","runSync","parse","MarkdownAsync","tree","run","MarkdownHooks","error","setError","undefined","setTree","cancelled","children","rehypePlugins","remarkPlugins","remarkRehypeOptions","fallback","use","value","allowedElements","allowElement","components","disallowedElements","skipHtml","unwrapDisallowed","urlTransform","defaultUrlTransform","deprecation","Object","hasOwn","transform","ignoreInvalidStyle","passKeys","passNode","node","index","parent","type","splice","key","properties","test","includes","tagName","String","remove","colon","indexOf","questionMark","numberSign","slash","slice"],"sources":["/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/node_modules/react-markdown/lib/index.js"],"sourcesContent":["/**\n * @import {Element, Nodes, Parents, Root} from 'hast'\n * @import {Root as MdastRoot} from 'mdast'\n * @import {ComponentType, JSX, ReactElement, ReactNode} from 'react'\n * @import {Options as RemarkRehypeOptions} from 'remark-rehype'\n * @import {BuildVisitor} from 'unist-util-visit'\n * @import {PluggableList, Processor} from 'unified'\n */\n\n/**\n * @callback AllowElement\n *   Filter elements.\n * @param {Readonly<Element>} element\n *   Element to check.\n * @param {number} index\n *   Index of `element` in `parent`.\n * @param {Readonly<Parents> | undefined} parent\n *   Parent of `element`.\n * @returns {boolean | null | undefined}\n *   Whether to allow `element` (default: `false`).\n */\n\n/**\n * @typedef ExtraProps\n *   Extra fields we pass.\n * @property {Element | undefined} [node]\n *   passed when `passNode` is on.\n */\n\n/**\n * @typedef {{\n *   [Key in keyof JSX.IntrinsicElements]?: ComponentType<JSX.IntrinsicElements[Key] & ExtraProps> | keyof JSX.IntrinsicElements\n * }} Components\n *   Map tag names to components.\n */\n\n/**\n * @typedef Deprecation\n *   Deprecation.\n * @property {string} from\n *   Old field.\n * @property {string} id\n *   ID in readme.\n * @property {keyof Options} [to]\n *   New field.\n */\n\n/**\n * @typedef Options\n *   Configuration.\n * @property {AllowElement | null | undefined} [allowElement]\n *   Filter elements (optional);\n *   `allowedElements` / `disallowedElements` is used first.\n * @property {ReadonlyArray<string> | null | undefined} [allowedElements]\n *   Tag names to allow (default: all tag names);\n *   cannot combine w/ `disallowedElements`.\n * @property {string | null | undefined} [children]\n *   Markdown.\n * @property {Components | null | undefined} [components]\n *   Map tag names to components.\n * @property {ReadonlyArray<string> | null | undefined} [disallowedElements]\n *   Tag names to disallow (default: `[]`);\n *   cannot combine w/ `allowedElements`.\n * @property {PluggableList | null | undefined} [rehypePlugins]\n *   List of rehype plugins to use.\n * @property {PluggableList | null | undefined} [remarkPlugins]\n *   List of remark plugins to use.\n * @property {Readonly<RemarkRehypeOptions> | null | undefined} [remarkRehypeOptions]\n *   Options to pass through to `remark-rehype`.\n * @property {boolean | null | undefined} [skipHtml=false]\n *   Ignore HTML in markdown completely (default: `false`).\n * @property {boolean | null | undefined} [unwrapDisallowed=false]\n *   Extract (unwrap) what’s in disallowed elements (default: `false`);\n *   normally when say `strong` is not allowed, it and it’s children are dropped,\n *   with `unwrapDisallowed` the element itself is replaced by its children.\n * @property {UrlTransform | null | undefined} [urlTransform]\n *   Change URLs (default: `defaultUrlTransform`)\n */\n\n/**\n * @typedef HooksOptionsOnly\n *   Configuration specifically for {@linkcode MarkdownHooks}.\n * @property {ReactNode | null | undefined} [fallback]\n *   Content to render while the processor processing the markdown (optional).\n */\n\n/**\n * @typedef {Options & HooksOptionsOnly} HooksOptions\n *   Configuration for {@linkcode MarkdownHooks};\n *   extends the regular {@linkcode Options} with a `fallback` prop.\n */\n\n/**\n * @callback UrlTransform\n *   Transform all URLs.\n * @param {string} url\n *   URL.\n * @param {string} key\n *   Property name (example: `'href'`).\n * @param {Readonly<Element>} node\n *   Node.\n * @returns {string | null | undefined}\n *   Transformed URL (optional).\n */\n\nimport {unreachable} from 'devlop'\nimport {toJsxRuntime} from 'hast-util-to-jsx-runtime'\nimport {urlAttributes} from 'html-url-attributes'\nimport {Fragment, jsx, jsxs} from 'react/jsx-runtime'\nimport {useEffect, useState} from 'react'\nimport remarkParse from 'remark-parse'\nimport remarkRehype from 'remark-rehype'\nimport {unified} from 'unified'\nimport {visit} from 'unist-util-visit'\nimport {VFile} from 'vfile'\n\nconst changelog =\n  'https://github.com/remarkjs/react-markdown/blob/main/changelog.md'\n\n/** @type {PluggableList} */\nconst emptyPlugins = []\n/** @type {Readonly<RemarkRehypeOptions>} */\nconst emptyRemarkRehypeOptions = {allowDangerousHtml: true}\nconst safeProtocol = /^(https?|ircs?|mailto|xmpp)$/i\n\n// Mutable because we `delete` any time it’s used and a message is sent.\n/** @type {ReadonlyArray<Readonly<Deprecation>>} */\nconst deprecations = [\n  {from: 'astPlugins', id: 'remove-buggy-html-in-markdown-parser'},\n  {from: 'allowDangerousHtml', id: 'remove-buggy-html-in-markdown-parser'},\n  {\n    from: 'allowNode',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'allowElement'\n  },\n  {\n    from: 'allowedTypes',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'allowedElements'\n  },\n  {from: 'className', id: 'remove-classname'},\n  {\n    from: 'disallowedTypes',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'disallowedElements'\n  },\n  {from: 'escapeHtml', id: 'remove-buggy-html-in-markdown-parser'},\n  {from: 'includeElementIndex', id: '#remove-includeelementindex'},\n  {\n    from: 'includeNodeIndex',\n    id: 'change-includenodeindex-to-includeelementindex'\n  },\n  {from: 'linkTarget', id: 'remove-linktarget'},\n  {from: 'plugins', id: 'change-plugins-to-remarkplugins', to: 'remarkPlugins'},\n  {from: 'rawSourcePos', id: '#remove-rawsourcepos'},\n  {from: 'renderers', id: 'change-renderers-to-components', to: 'components'},\n  {from: 'source', id: 'change-source-to-children', to: 'children'},\n  {from: 'sourcePos', id: '#remove-sourcepos'},\n  {from: 'transformImageUri', id: '#add-urltransform', to: 'urlTransform'},\n  {from: 'transformLinkUri', id: '#add-urltransform', to: 'urlTransform'}\n]\n\n/**\n * Component to render markdown.\n *\n * This is a synchronous component.\n * When using async plugins,\n * see {@linkcode MarkdownAsync} or {@linkcode MarkdownHooks}.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {ReactElement}\n *   React element.\n */\nexport function Markdown(options) {\n  const processor = createProcessor(options)\n  const file = createFile(options)\n  return post(processor.runSync(processor.parse(file), file), options)\n}\n\n/**\n * Component to render markdown with support for async plugins\n * through async/await.\n *\n * Components returning promises are supported on the server.\n * For async support on the client,\n * see {@linkcode MarkdownHooks}.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {Promise<ReactElement>}\n *   Promise to a React element.\n */\nexport async function MarkdownAsync(options) {\n  const processor = createProcessor(options)\n  const file = createFile(options)\n  const tree = await processor.run(processor.parse(file), file)\n  return post(tree, options)\n}\n\n/**\n * Component to render markdown with support for async plugins through hooks.\n *\n * This uses `useEffect` and `useState` hooks.\n * Hooks run on the client and do not immediately render something.\n * For async support on the server,\n * see {@linkcode MarkdownAsync}.\n *\n * @param {Readonly<HooksOptions>} options\n *   Props.\n * @returns {ReactNode}\n *   React node.\n */\nexport function MarkdownHooks(options) {\n  const processor = createProcessor(options)\n  const [error, setError] = useState(\n    /** @type {Error | undefined} */ (undefined)\n  )\n  const [tree, setTree] = useState(/** @type {Root | undefined} */ (undefined))\n\n  useEffect(\n    function () {\n      let cancelled = false\n      const file = createFile(options)\n\n      processor.run(processor.parse(file), file, function (error, tree) {\n        if (!cancelled) {\n          setError(error)\n          setTree(tree)\n        }\n      })\n\n      /**\n       * @returns {undefined}\n       *   Nothing.\n       */\n      return function () {\n        cancelled = true\n      }\n    },\n    [\n      options.children,\n      options.rehypePlugins,\n      options.remarkPlugins,\n      options.remarkRehypeOptions\n    ]\n  )\n\n  if (error) throw error\n\n  return tree ? post(tree, options) : options.fallback\n}\n\n/**\n * Set up the `unified` processor.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {Processor<MdastRoot, MdastRoot, Root, undefined, undefined>}\n *   Result.\n */\nfunction createProcessor(options) {\n  const rehypePlugins = options.rehypePlugins || emptyPlugins\n  const remarkPlugins = options.remarkPlugins || emptyPlugins\n  const remarkRehypeOptions = options.remarkRehypeOptions\n    ? {...options.remarkRehypeOptions, ...emptyRemarkRehypeOptions}\n    : emptyRemarkRehypeOptions\n\n  const processor = unified()\n    .use(remarkParse)\n    .use(remarkPlugins)\n    .use(remarkRehype, remarkRehypeOptions)\n    .use(rehypePlugins)\n\n  return processor\n}\n\n/**\n * Set up the virtual file.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {VFile}\n *   Result.\n */\nfunction createFile(options) {\n  const children = options.children || ''\n  const file = new VFile()\n\n  if (typeof children === 'string') {\n    file.value = children\n  } else {\n    unreachable(\n      'Unexpected value `' +\n        children +\n        '` for `children` prop, expected `string`'\n    )\n  }\n\n  return file\n}\n\n/**\n * Process the result from unified some more.\n *\n * @param {Nodes} tree\n *   Tree.\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {ReactElement}\n *   React element.\n */\nfunction post(tree, options) {\n  const allowedElements = options.allowedElements\n  const allowElement = options.allowElement\n  const components = options.components\n  const disallowedElements = options.disallowedElements\n  const skipHtml = options.skipHtml\n  const unwrapDisallowed = options.unwrapDisallowed\n  const urlTransform = options.urlTransform || defaultUrlTransform\n\n  for (const deprecation of deprecations) {\n    if (Object.hasOwn(options, deprecation.from)) {\n      unreachable(\n        'Unexpected `' +\n          deprecation.from +\n          '` prop, ' +\n          (deprecation.to\n            ? 'use `' + deprecation.to + '` instead'\n            : 'remove it') +\n          ' (see <' +\n          changelog +\n          '#' +\n          deprecation.id +\n          '> for more info)'\n      )\n    }\n  }\n\n  if (allowedElements && disallowedElements) {\n    unreachable(\n      'Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other'\n    )\n  }\n\n  visit(tree, transform)\n\n  return toJsxRuntime(tree, {\n    Fragment,\n    components,\n    ignoreInvalidStyle: true,\n    jsx,\n    jsxs,\n    passKeys: true,\n    passNode: true\n  })\n\n  /** @type {BuildVisitor<Root>} */\n  function transform(node, index, parent) {\n    if (node.type === 'raw' && parent && typeof index === 'number') {\n      if (skipHtml) {\n        parent.children.splice(index, 1)\n      } else {\n        parent.children[index] = {type: 'text', value: node.value}\n      }\n\n      return index\n    }\n\n    if (node.type === 'element') {\n      /** @type {string} */\n      let key\n\n      for (key in urlAttributes) {\n        if (\n          Object.hasOwn(urlAttributes, key) &&\n          Object.hasOwn(node.properties, key)\n        ) {\n          const value = node.properties[key]\n          const test = urlAttributes[key]\n          if (test === null || test.includes(node.tagName)) {\n            node.properties[key] = urlTransform(String(value || ''), key, node)\n          }\n        }\n      }\n    }\n\n    if (node.type === 'element') {\n      let remove = allowedElements\n        ? !allowedElements.includes(node.tagName)\n        : disallowedElements\n          ? disallowedElements.includes(node.tagName)\n          : false\n\n      if (!remove && allowElement && typeof index === 'number') {\n        remove = !allowElement(node, index, parent)\n      }\n\n      if (remove && parent && typeof index === 'number') {\n        if (unwrapDisallowed && node.children) {\n          parent.children.splice(index, 1, ...node.children)\n        } else {\n          parent.children.splice(index, 1)\n        }\n\n        return index\n      }\n    }\n  }\n}\n\n/**\n * Make a URL safe.\n *\n * @satisfies {UrlTransform}\n * @param {string} value\n *   URL.\n * @returns {string}\n *   Safe URL.\n */\nexport function defaultUrlTransform(value) {\n  // Same as:\n  // <https://github.com/micromark/micromark/blob/929275e/packages/micromark-util-sanitize-uri/dev/index.js#L34>\n  // But without the `encode` part.\n  const colon = value.indexOf(':')\n  const questionMark = value.indexOf('?')\n  const numberSign = value.indexOf('#')\n  const slash = value.indexOf('/')\n\n  if (\n    // If there is no protocol, it’s relative.\n    colon === -1 ||\n    // If the first colon is after a `?`, `#`, or `/`, it’s not a protocol.\n    (slash !== -1 && colon > slash) ||\n    (questionMark !== -1 && colon > questionMark) ||\n    (numberSign !== -1 && colon > numberSign) ||\n    // It is a protocol, it should be allowed.\n    safeProtocol.test(value.slice(0, colon))\n  ) {\n    return value\n  }\n\n  return ''\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAQA,WAAR,QAA0B,QAA1B;AACA,SAAQC,YAAR,QAA2B,0BAA3B;AACA,SAAQC,aAAR,QAA4B,qBAA5B;AACA,SAAQC,QAAR,EAAkBC,GAAlB,EAAuBC,IAAvB,QAAkC,mBAAlC;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,SAAQC,OAAR,QAAsB,SAAtB;AACA,SAAQC,KAAR,QAAoB,kBAApB;AACA,SAAQC,KAAR,QAAoB,OAApB;AAEA,MAAMC,SAAS,GACb,mEADF;AAGA;;AACA,MAAMC,YAAY,GAAG,EAArB;AACA;;AACA,MAAMC,wBAAwB,GAAG;EAACC,kBAAkB,EAAE;AAArB,CAAjC;AACA,MAAMC,YAAY,GAAG,+BAArB,C,CAEA;;AACA;;AACA,MAAMC,YAAY,GAAG,CACnB;EAACC,IAAI,EAAE,YAAP;EAAqBC,EAAE,EAAE;AAAzB,CADmB,EAEnB;EAACD,IAAI,EAAE,oBAAP;EAA6BC,EAAE,EAAE;AAAjC,CAFmB,EAGnB;EACED,IAAI,EAAE,WADR;EAEEC,EAAE,EAAE,oDAFN;EAGEC,EAAE,EAAE;AAHN,CAHmB,EAQnB;EACEF,IAAI,E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"},"metadata":{},"sourceType":"module"}