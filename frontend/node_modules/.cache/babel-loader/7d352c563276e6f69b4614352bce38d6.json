{"ast":null,"code":"import { secondsToMilliseconds } from 'motion-utils';\nimport { JSAnimation } from './JSAnimation.mjs';\nimport { NativeAnimation } from './NativeAnimation.mjs';\nimport { replaceTransitionType } from './utils/replace-transition-type.mjs';\nimport { replaceStringEasing } from './waapi/utils/unsupported-easing.mjs';\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\n\nconst sampleDelta = 10; //ms\n\nclass NativeAnimationExtended extends NativeAnimation {\n  constructor(options) {\n    /**\n     * The base NativeAnimation function only supports a subset\n     * of Motion easings, and WAAPI also only supports some\n     * easing functions via string/cubic-bezier definitions.\n     *\n     * This function replaces those unsupported easing functions\n     * with a JS easing function. This will later get compiled\n     * to a linear() easing function.\n     */\n    replaceStringEasing(options);\n    /**\n     * Ensure we replace the transition type with a generator function\n     * before passing to WAAPI.\n     *\n     * TODO: Does this have a better home? It could be shared with\n     * JSAnimation.\n     */\n\n    replaceTransitionType(options);\n    super(options);\n\n    if (options.startTime) {\n      this.startTime = options.startTime;\n    }\n\n    this.options = options;\n  }\n  /**\n   * WAAPI doesn't natively have any interruption capabilities.\n   *\n   * Rather than read commited styles back out of the DOM, we can\n   * create a renderless JS animation and sample it twice to calculate\n   * its current value, \"previous\" value, and therefore allow\n   * Motion to calculate velocity for any subsequent animation.\n   */\n\n\n  updateMotionValue(value) {\n    const {\n      motionValue,\n      onUpdate,\n      onComplete,\n      element,\n      ...options\n    } = this.options;\n    if (!motionValue) return;\n\n    if (value !== undefined) {\n      motionValue.set(value);\n      return;\n    }\n\n    const sampleAnimation = new JSAnimation({ ...options,\n      autoplay: false\n    });\n    const sampleTime = secondsToMilliseconds(this.finishedTime ?? this.time);\n    motionValue.setWithVelocity(sampleAnimation.sample(sampleTime - sampleDelta).value, sampleAnimation.sample(sampleTime).value, sampleDelta);\n    sampleAnimation.stop();\n  }\n\n}\n\nexport { NativeAnimationExtended };","map":{"version":3,"names":["secondsToMilliseconds","JSAnimation","NativeAnimation","replaceTransitionType","replaceStringEasing","sampleDelta","NativeAnimationExtended","constructor","options","startTime","updateMotionValue","value","motionValue","onUpdate","onComplete","element","undefined","set","sampleAnimation","autoplay","sampleTime","finishedTime","time","setWithVelocity","sample","stop"],"sources":["/Users/sparshsinghal/Downloads/Instagram-mern-stack-main/frontend/node_modules/motion-dom/dist/es/animation/NativeAnimationExtended.mjs"],"sourcesContent":["import { secondsToMilliseconds } from 'motion-utils';\nimport { JSAnimation } from './JSAnimation.mjs';\nimport { NativeAnimation } from './NativeAnimation.mjs';\nimport { replaceTransitionType } from './utils/replace-transition-type.mjs';\nimport { replaceStringEasing } from './waapi/utils/unsupported-easing.mjs';\n\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\nclass NativeAnimationExtended extends NativeAnimation {\n    constructor(options) {\n        /**\n         * The base NativeAnimation function only supports a subset\n         * of Motion easings, and WAAPI also only supports some\n         * easing functions via string/cubic-bezier definitions.\n         *\n         * This function replaces those unsupported easing functions\n         * with a JS easing function. This will later get compiled\n         * to a linear() easing function.\n         */\n        replaceStringEasing(options);\n        /**\n         * Ensure we replace the transition type with a generator function\n         * before passing to WAAPI.\n         *\n         * TODO: Does this have a better home? It could be shared with\n         * JSAnimation.\n         */\n        replaceTransitionType(options);\n        super(options);\n        if (options.startTime) {\n            this.startTime = options.startTime;\n        }\n        this.options = options;\n    }\n    /**\n     * WAAPI doesn't natively have any interruption capabilities.\n     *\n     * Rather than read commited styles back out of the DOM, we can\n     * create a renderless JS animation and sample it twice to calculate\n     * its current value, \"previous\" value, and therefore allow\n     * Motion to calculate velocity for any subsequent animation.\n     */\n    updateMotionValue(value) {\n        const { motionValue, onUpdate, onComplete, element, ...options } = this.options;\n        if (!motionValue)\n            return;\n        if (value !== undefined) {\n            motionValue.set(value);\n            return;\n        }\n        const sampleAnimation = new JSAnimation({\n            ...options,\n            autoplay: false,\n        });\n        const sampleTime = secondsToMilliseconds(this.finishedTime ?? this.time);\n        motionValue.setWithVelocity(sampleAnimation.sample(sampleTime - sampleDelta).value, sampleAnimation.sample(sampleTime).value, sampleDelta);\n        sampleAnimation.stop();\n    }\n}\n\nexport { NativeAnimationExtended };\n"],"mappings":"AAAA,SAASA,qBAAT,QAAsC,cAAtC;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAASC,eAAT,QAAgC,uBAAhC;AACA,SAASC,qBAAT,QAAsC,qCAAtC;AACA,SAASC,mBAAT,QAAoC,sCAApC;AAEA;AACA;AACA;AACA;AACA;;AACA,MAAMC,WAAW,GAAG,EAApB,C,CAAwB;;AACxB,MAAMC,uBAAN,SAAsCJ,eAAtC,CAAsD;EAClDK,WAAW,CAACC,OAAD,EAAU;IACjB;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACQJ,mBAAmB,CAACI,OAAD,CAAnB;IACA;AACR;AACA;AACA;AACA;AACA;AACA;;IACQL,qBAAqB,CAACK,OAAD,CAArB;IACA,MAAMA,OAAN;;IACA,IAAIA,OAAO,CAACC,SAAZ,EAAuB;MACnB,KAAKA,SAAL,GAAiBD,OAAO,CAACC,SAAzB;IACH;;IACD,KAAKD,OAAL,GAAeA,OAAf;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;EACIE,iBAAiB,CAACC,KAAD,EAAQ;IACrB,MAAM;MAAEC,WAAF;MAAeC,QAAf;MAAyBC,UAAzB;MAAqCC,OAArC;MAA8C,GAAGP;IAAjD,IAA6D,KAAKA,OAAxE;IACA,IAAI,CAACI,WAAL,EACI;;IACJ,IAAID,KAAK,KAAKK,SAAd,EAAyB;MACrBJ,WAAW,CAACK,GAAZ,CAAgBN,KAAhB;MACA;IACH;;IACD,MAAMO,eAAe,GAAG,IAAIjB,WAAJ,CAAgB,EACpC,GAAGO,OADiC;MAEpCW,QAAQ,EAAE;IAF0B,CAAhB,CAAxB;IAIA,MAAMC,UAAU,GAAGpB,qBAAqB,CAAC,KAAKqB,YAAL,IAAqB,KAAKC,IAA3B,CAAxC;IACAV,WAAW,CAACW,eAAZ,CAA4BL,eAAe,CAACM,MAAhB,CAAuBJ,UAAU,GAAGf,WAApC,EAAiDM,KAA7E,EAAoFO,eAAe,CAACM,MAAhB,CAAuBJ,UAAvB,EAAmCT,KAAvH,EAA8HN,WAA9H;IACAa,eAAe,CAACO,IAAhB;EACH;;AAjDiD;;AAoDtD,SAASnB,uBAAT"},"metadata":{},"sourceType":"module"}