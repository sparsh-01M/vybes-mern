[{"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/index.js":"1","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/App.js":"2","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/reportWebVitals.js":"3","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Createpost.js":"4","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/SignIn.js":"5","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/SignUp.js":"6","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Navbar.js":"7","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/UserProfile.js":"8","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Home.js":"9","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/MyFollowingPost.js":"10","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Modal.js":"11","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/bottombar.js":"12","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Reels.js":"13","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/context/LoginContext.js":"14","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Business.js":"15","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Gaming.js":"16","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Education.js":"17","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Entertainment.js":"18","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/FoodTravel.js":"19","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/SportsFitness.js":"20","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/ProfilePic.js":"21","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/PostDetail.js":"22","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/GestureWheel.js":"23","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Audiobook.js":"24","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/AIBot.js":"25","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Videos.js":"26","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/VideoCard.js":"27","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/VideoUploadModal.js":"28","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Profile.js":"29","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/ReelUploadModal.js":"30","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/config/config.js":"31"},{"size":535,"mtime":1672109913000,"results":"32","hashOfConfig":"33"},{"size":3464,"mtime":1749280487061,"results":"34","hashOfConfig":"33"},{"size":362,"mtime":1672109913000,"results":"35","hashOfConfig":"33"},{"size":4302,"mtime":1748235270037,"results":"36","hashOfConfig":"33"},{"size":2449,"mtime":1749638670460,"results":"37","hashOfConfig":"33"},{"size":3752,"mtime":1749641650901,"results":"38","hashOfConfig":"33"},{"size":4830,"mtime":1749280485419,"results":"39","hashOfConfig":"33"},{"size":6706,"mtime":1748983213425,"results":"40","hashOfConfig":"33"},{"size":12022,"mtime":1749641668342,"results":"41","hashOfConfig":"33"},{"size":3408,"mtime":1748983212398,"results":"42","hashOfConfig":"33"},{"size":1347,"mtime":1672109913000,"results":"43","hashOfConfig":"33"},{"size":1039,"mtime":1746356593396,"results":"44","hashOfConfig":"33"},{"size":582,"mtime":1749280485789,"results":"45","hashOfConfig":"33"},{"size":89,"mtime":1672109913000,"results":"46","hashOfConfig":"33"},{"size":171,"mtime":1749279539842,"results":"47","hashOfConfig":"33"},{"size":166,"mtime":1746458939447,"results":"48","hashOfConfig":"33"},{"size":172,"mtime":1746458909572,"results":"49","hashOfConfig":"33"},{"size":180,"mtime":1746458920647,"results":"50","hashOfConfig":"33"},{"size":175,"mtime":1746458931082,"results":"51","hashOfConfig":"33"},{"size":181,"mtime":1746458955334,"results":"52","hashOfConfig":"33"},{"size":2727,"mtime":1747306019528,"results":"53","hashOfConfig":"33"},{"size":11541,"mtime":1748985859301,"results":"54","hashOfConfig":"33"},{"size":13463,"mtime":1749641725815,"results":"55","hashOfConfig":"33"},{"size":7333,"mtime":1748982266831,"results":"56","hashOfConfig":"33"},{"size":13700,"mtime":1747735929430,"results":"57","hashOfConfig":"33"},{"size":2632,"mtime":1748175739884,"results":"58","hashOfConfig":"33"},{"size":4606,"mtime":1748235719995,"results":"59","hashOfConfig":"33"},{"size":5577,"mtime":1749641685713,"results":"60","hashOfConfig":"33"},{"size":11506,"mtime":1749280488357,"results":"61","hashOfConfig":"33"},{"size":6473,"mtime":1749641702780,"results":"62","hashOfConfig":"33"},{"size":313,"mtime":1749638649654,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},"xq3t4l",{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"67"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"67"},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"67"},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"67"},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"67"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"67"},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"67"},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"67"},{"filePath":"136","messages":"137","suppressedMessages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"67"},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143"},{"filePath":"144","messages":"145","suppressedMessages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"67"},{"filePath":"148","messages":"149","suppressedMessages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151","usedDeprecatedRules":"67"},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"67"},{"filePath":"156","messages":"157","suppressedMessages":"158","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"159","messages":"160","suppressedMessages":"161","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"162","messages":"163","suppressedMessages":"164","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"165","usedDeprecatedRules":"67"},{"filePath":"166","messages":"167","suppressedMessages":"168","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"169","messages":"170","suppressedMessages":"171","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/index.js",[],[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/App.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/reportWebVitals.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Createpost.js",["172","173"],[],"import React, { useState, useEffect } from \"react\";\nimport \"./Createpost.css\";\nimport { toast } from 'react-toastify';\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Createpost() {\n  const [body, setBody] = useState(\"\");\n  const [image, setImage] = useState(\"\")\n  const [url, setUrl] = useState(\"\")\n  const [user, setUser] = useState(null)\n  const navigate = useNavigate()\n\n  // Toast functions\n  const notifyA = (msg) => toast.error(msg)\n  const notifyB = (msg) => toast.success(msg)\n\n  useEffect(() => {\n    // Get user data from localStorage\n    const userData = JSON.parse(localStorage.getItem(\"user\"));\n    console.log(\"Full user data from localStorage:\", userData);\n    \n    // Fetch fresh user data to get the latest profile picture\n    fetch(`http://localhost:4000/user/${userData._id}`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(\"Fetched user data:\", result.user);\n        setUser(result.user); // Use the fresh user data\n      })\n      .catch(err => {\n        console.error(\"Error fetching user data:\", err);\n        setUser(userData); // Fallback to localStorage data if fetch fails\n      });\n  }, []);\n\n  useEffect(() => {\n\n    // saving post to mongodb\n    if (url) {\n\n      fetch(\"http://localhost:4000/createPost\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n        },\n        body: JSON.stringify({\n          body,\n          pic: url\n        })\n      }).then(res => res.json())\n        .then(data => {\n          if (data.error) {\n            notifyA(data.error)\n          } else {\n            notifyB(\"Successfully Posted\")\n            navigate(\"/\")\n          }\n        })\n        .catch(err => console.log(err))\n    }\n\n  }, [url])\n\n\n  // posting image to cloudinary\n  const postDetails = () => {\n\n    console.log(body, image)\n    const data = new FormData()\n    data.append(\"file\", image)\n    data.append(\"upload_preset\", \"insta-clone\")\n    data.append(\"cloud_name\", \"cantacloud2\")\n    fetch(\"https://api.cloudinary.com/v1_1/cantacloud2/image/upload\", {\n      method: \"post\",\n      body: data\n    }).then(res => res.json())\n      .then(data => setUrl(data.url))\n      .catch(err => console.log(err))\n    console.log(url)\n\n  }\n\n\n  const loadfile = (event) => {\n    var output = document.getElementById(\"output\");\n    output.src = URL.createObjectURL(event.target.files[0]);\n    output.onload = function () {\n      URL.revokeObjectURL(output.src); // free memory\n    };\n  };\n  return (\n    <div className=\"createPost\">\n      {/* //header */}\n      <div className=\"post-header\">\n        <h4 style={{ margin: \"3px auto\" }}>Create New Post</h4>\n        <button id=\"post-btn\" onClick={() => { postDetails() }}>Share</button>\n      </div>\n      {/* image preview */}\n      <div className=\"main-div\">\n        <img\n          id=\"output\"\n          src=\"https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-image-512.png\"\n        />\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={(event) => {\n            loadfile(event);\n            setImage(event.target.files[0])\n          }}\n        />\n      </div>\n      {/* details */}\n      <div className=\"details\">\n        <div className=\"card-header\">\n          <div className=\"card-pic\">\n            <img\n              src={user?.Photo || \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"}\n              alt={user?.name}\n              onError={(e) => {\n                console.log(\"Error loading profile picture. User data:\", user);\n                console.log(\"Attempted photo URL:\", user?.Photo);\n                console.log(\"Error details:\", e);\n                e.target.src = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n              }}\n              style={{ width: \"40px\", height: \"40px\", borderRadius: \"50%\", objectFit: \"cover\" }}\n            />\n          </div>\n          <h5>{user?.name || \"User\"}</h5>\n        </div>\n        <textarea value={body} onChange={(e) => {\n          setBody(e.target.value)\n        }} type=\"text\" placeholder=\"Write a caption....\"></textarea>\n      </div>\n    </div>\n  );\n}\n","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/SignIn.js",["174","175","176"],[],"import React, { useState, useContext } from \"react\";\nimport \"./SignIn.css\";\nimport logo from \"../img/logo.png\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { toast } from 'react-toastify';\nimport { LoginContext } from \"../context/LoginContext\";\nimport config from \"../config/config\";\n\nexport default function SignIn() {\n  const { setUserLogin } = useContext(LoginContext)\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  // Toast functions\n  const notifyA = (msg) => toast.error(msg)\n  const notifyB = (msg) => toast.success(msg)\n\n  const emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n  const postData = () => {\n    //checking email\n    if (!emailRegex.test(email)) {\n      notifyA(\"Invalid email\")\n      return\n    }\n    // Sending data to server\n    fetch(`${config.BACKEND_URL}/signin`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n\n      })\n    }).then(res => res.json())\n      .then(data => {\n        if (data.error) {\n          notifyA(data.error)\n        } else {\n          notifyB(\"Signed In Successfully\")\n          console.log(data)\n          localStorage.setItem(\"jwt\", data.token)\n          localStorage.setItem(\"user\", JSON.stringify(data.user))\n\n          setUserLogin(true)\n          navigate(\"/\")\n        }\n        console.log(data)\n      })\n  }\n\n  return (\n    <div className=\"signIn\">\n      <div>\n        <div className=\"loginForm\">\n          <h2 className=\"signUpLogo\">Vybes</h2>\n          <div>\n            <input type=\"email\" name=\"email\" id=\"email\" value={email} placeholder=\"Email\" onChange={(e) => { setEmail(e.target.value) }} />\n          </div>\n          <div>\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => { setPassword(e.target.value) }}\n            />\n          </div>\n          <input type=\"submit\" id=\"login-btn\" onClick={() => { postData() }} value=\"Sign In\" />\n        </div>\n        <div className=\"loginForm2\">\n          Don't have an account ?\n          <Link to=\"/signup\">\n            <span style={{ color: \"blue\", cursor: \"pointer\" }}>Sign Up</span>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/SignUp.js",["177","178","179","180","181","182","183"],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Navbar.js",["184","185","186"],[],"import React, { useContext, useState, useEffect } from \"react\";\nimport logo from \"../img/logo.png\";\nimport \"./Navbar.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { LoginContext } from \"../context/LoginContext\";\nimport { toast } from \"react-toastify\";\nimport VideoUploadModal from \"./VideoUploadModal\";\nimport ReelUploadModal from \"./ReelUploadModal\";\n\nexport default function Navbar({ login }) {\n  const { setUserLogin, setModalOpen } = useContext(LoginContext);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [showReelUploadModal, setShowReelUploadModal] = useState(false);\n  const navigate = useNavigate();\n\n  // Check login status on component mount and when login prop changes\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    const user = localStorage.getItem(\"user\");\n    if (token && user) {\n      setUserLogin(true);\n    }\n  }, [login, setUserLogin]);\n\n  const handleAudiobookClick = (e) => {\n    e.preventDefault();\n    navigate(\"/audiobooks\");\n  };\n\n  const handleUploadSuccess = () => {\n    setShowUploadModal(false);\n    navigate('/profile');\n  };\n\n  const handleReelUploadSuccess = () => {\n    setShowReelUploadModal(false);\n    navigate('/profile');\n  };\n\n  const toggleMenu = () => {\n    setMenuOpen(!menuOpen);\n  };\n\n  const loginStatus = () => {\n    const token = localStorage.getItem(\"jwt\");\n    const user = localStorage.getItem(\"user\");\n    console.log(\"Login status check - Token:\", !!token, \"User:\", !!user);\n    \n    if (login || (token && user)) {\n      return [\n        <li key=\"menu-container\" className=\"menu-container\">\n            <div className=\"hamburger-icon\" onClick={toggleMenu}>\n              <i className=\"material-icons\">menu</i>\n            </div>\n            {menuOpen && (\n              <div className=\"dropdown-menu\">\n              <Link key=\"create-post\" to=\"/createPost\" onClick={toggleMenu}>\n                  <div className=\"menu-item\">\n                    <i className=\"material-icons\">add_circle</i>\n                    <span>Create Post</span>\n                  </div>\n                </Link>\n              <div \n                key=\"upload-video\"\n                className=\"menu-item\" \n                onClick={(e) => {\n                  e.preventDefault();\n                  toggleMenu();\n                  setShowUploadModal(true);\n                }}\n              >\n                  <i className=\"material-icons\">video_library</i>\n                  <span>Upload Video</span>\n                </div>\n              <div \n                key=\"upload-reel\"\n                className=\"menu-item\" \n                onClick={(e) => {\n                  e.preventDefault();\n                  toggleMenu();\n                  setShowReelUploadModal(true);\n                }}\n              >\n                  <i className=\"material-icons\">movie</i>\n                  <span>Upload Reel</span>\n                </div>\n              <Link key=\"following\" to=\"/followingpost\" onClick={toggleMenu}>\n                  <div className=\"menu-item\">\n                    <i className=\"material-icons\">people</i>\n                    <span>My Following</span>\n                  </div>\n                </Link>\n                <div \n                key=\"logout\"\n                  className=\"menu-item logout-item\" \n                  onClick={() => {\n                    toggleMenu();\n                    setModalOpen(true);\n                  }}\n                >\n                  <i className=\"material-icons\">exit_to_app</i>\n                  <span>Log Out</span>\n                </div>\n              </div>\n            )}\n          </li>\n      ];\n    } else {\n      return [\n        <li key=\"signup\">\n          <Link to=\"/signup\">Sign Up</Link>\n        </li>,\n        <li key=\"signin\">\n          <Link to=\"/signin\">Sign In</Link>\n        </li>\n      ];\n    }\n  };\n\n  return (\n    <div className=\"navbar\">\n      <h2 className=\"logo\">Vybes</h2>\n      <div className=\"nav-right\">\n        <div className=\"nav-buttons\">\n          <a href=\"#\" onClick={handleAudiobookClick} className=\"nav-button audiobook-button\">\n            <i className=\"material-icons\">headphones</i>\n          </a>\n          <Link to=\"/ai-chat\" className=\"nav-button ai-chat-button\">\n            <i className=\"material-icons\">smart_toy</i>\n          </Link>\n        </div>\n        <ul className=\"nav-menu\">{loginStatus()}</ul>\n      </div>\n\n      {showUploadModal && (\n        <VideoUploadModal\n          onClose={() => setShowUploadModal(false)}\n          onUploadSuccess={handleUploadSuccess}\n        />\n      )}\n      {showReelUploadModal && (\n        <ReelUploadModal\n          onClose={() => setShowReelUploadModal(false)}\n          onUploadSuccess={handleReelUploadSuccess}\n        />\n      )}\n    </div>\n  );\n}","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/UserProfile.js",["187"],[],"import React, { useEffect, useState } from \"react\";\n// import PostDetail from \"./PostDetail\";\nimport \"./Profile.css\";\nimport { useParams } from \"react-router-dom\";\nimport VideoCard from \"./VideoCard\";\nimport { toast } from \"react-toastify\";\n\nexport default function UserProfie() {\n  var picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n  const { userid } = useParams();\n  const [isFollow, setIsFollow] = useState(false);\n  const [user, setUser] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n  const [videos, setVideos] = useState([]);\n  const [activeTab, setActiveTab] = useState('posts'); // 'posts' or 'videos'\n  const [loading, setLoading] = useState(true);\n\n  // to follow user\n  const followUser = (userId) => {\n    fetch(\"http://localhost:4000/follow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        followId: userId,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setIsFollow(true);\n      });\n  };\n\n  // to unfollow user\n  const unfollowUser = (userId) => {\n    fetch(\"http://localhost:4000/unfollow\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        followId: userId,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setIsFollow(false);\n      });\n  };\n\n  const isCurrentUser = () => {\n    const currentUser = JSON.parse(localStorage.getItem(\"user\"));\n    return currentUser?._id === userid;\n  };\n\n  const fetchUserData = async () => {\n    try {\n      setLoading(true);\n      // Fetch user data and posts\n      const userRes = await fetch(`http://localhost:4000/user/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      });\n\n      if (!userRes.ok) {\n        throw new Error(`Failed to fetch user data: ${userRes.status}`);\n      }\n\n      const userData = await userRes.json();\n      console.log('User data:', userData);\n      setUser(userData.user);\n      setPosts(userData.post || []);\n      \n      if (userData.user.followers?.includes(JSON.parse(localStorage.getItem(\"user\"))._id)) {\n        setIsFollow(true);\n      }\n\n      // Fetch user's videos with correct endpoint\n      try {\n      const videosRes = await fetch(`http://localhost:4000/video/user/${userid}`, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      });\n\n        if (!videosRes.ok) {\n          if (videosRes.status === 404) {\n            console.log('No videos found for user');\n            setVideos([]);\n          } else {\n            throw new Error(`Failed to fetch videos: ${videosRes.status}`);\n          }\n        } else {\n      const videosData = await videosRes.json();\n      console.log('User videos:', videosData);\n          setVideos(Array.isArray(videosData) ? videosData : []);\n        }\n      } catch (videoErr) {\n        console.error('Error fetching videos:', videoErr);\n        setVideos([]);\n        // Don't throw here, we still want to show the user profile even if videos fail\n      }\n    } catch (err) {\n      console.error('Error fetching user data:', err);\n      setUser(null);\n      setPosts([]);\n      setVideos([]);\n      toast.error('Error loading profile data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUserData();\n  }, [userid]);\n\n  const handleVideoUpdate = () => {\n    fetchUserData();\n  };\n\n  if (loading) {\n    return <div className=\"profile\">Loading...</div>;\n  }\n\n  if (!user) {\n    return (\n      <div className=\"profile\">\n        <div className=\"error-message\">\n          <h2>Unable to load profile</h2>\n          <p>Please try refreshing the page or logging in again.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"profile\">\n      {/* Profile frame */}\n      <div className=\"profile-frame\">\n        {/* profile-pic */}\n        <div className=\"profile-pic\">\n          <img src={user.Photo ? user.Photo : picLink} alt=\"\" />\n        </div>\n        {/* profile-data */}\n        <div className=\"pofile-data\">\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <h1>{user.name}</h1>\n            {/* Only show follow button if not viewing your own profile */}\n            {!isCurrentUser() && (\n            <button\n              className=\"followBtn\"\n              onClick={() => {\n                if (isFollow) {\n                  unfollowUser(user._id);\n                } else {\n                  followUser(user._id);\n                }\n              }}\n            >\n              {isFollow ? \"Unfollow\" : \"Follow\"}\n            </button>\n            )}\n          </div>\n          <div className=\"profile-info\" style={{ display: \"flex\" }}>\n            <p>{posts ? posts.length : 0} posts</p>\n            <p>{videos ? videos.length : 0} videos</p>\n            <p>{user.followers ? user.followers.length : 0} followers</p>\n            <p>{user.following ? user.following.length : 0} following</p>\n          </div>\n        </div>\n      </div>\n      <hr\n        style={{\n          width: \"90%\",\n          opacity: \"0.8\",\n          margin: \"25px auto\",\n        }}\n      />\n\n      {/* Tabs */}\n      <div className=\"profile-tabs\">\n        <button\n          className={`tab-button ${activeTab === 'posts' ? 'active' : ''}`}\n          onClick={() => setActiveTab('posts')}\n        >\n          Posts\n        </button>\n        <button\n          className={`tab-button ${activeTab === 'videos' ? 'active' : ''}`}\n          onClick={() => setActiveTab('videos')}\n        >\n          Videos\n        </button>\n      </div>\n\n      {/* Content based on active tab */}\n      {activeTab === 'posts' ? (\n        <div className=\"gallery\">\n          {posts && posts.map((pics) => (\n            <img\n              key={pics._id}\n              src={pics.photo}\n              className=\"item\"\n              alt=\"\"\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"videos-grid\">\n          {videos && videos.map((video) => (\n            <VideoCard\n              key={video._id}\n              video={video}\n              onVideoUpdate={handleVideoUpdate}\n            />\n          ))}\n        </div>\n      )}\n      {/* {show &&\n        <PostDetail item={posts} toggleDetails={toggleDetails} />\n      } */}\n    </div>\n  );\n}\n","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Home.js",["188","189","190","191","192","193"],[],"import React, { useEffect, useState, useContext } from \"react\";\nimport \"./Home.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { LoginContext } from \"../context/LoginContext\";\nimport config from \"../config/config\";\n\nexport default function Home() {\n  var picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"\n  const navigate = useNavigate();\n  const { userLogin, setUserLogin } = useContext(LoginContext)\n  const [data, setData] = useState([]);\n  const [comment, setComment] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [item, setItem] = useState([]);\n\n  // Toast functions\n  const notifyA = (msg) => toast.error(msg);\n  const notifyB = (msg) => toast.success(msg);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    if (!token) {\n      navigate(\"./signup\");\n    }\n\n    // Fetching all posts\n    fetch(`${config.BACKEND_URL}/allposts`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        setData(result.posts);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  // to show and hide comments\n  const toggleComment = (posts) => {\n    if (show) {\n      setShow(false);\n    } else {\n      // Fetch fresh post data with populated comments\n      fetch(`${config.BACKEND_URL}/post/${posts._id}`, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          console.log(\"Fetched post details for comments:\", {\n            postId: result._id,\n            comments: result.comments?.map(comment => ({\n              id: comment._id,\n              postedBy: comment.postedBy ? {\n                id: comment.postedBy._id,\n                name: comment.postedBy.name,\n                hasPhoto: !!comment.postedBy.Photo,\n                photoUrl: comment.postedBy.Photo\n              } : null\n            }))\n          });\n          setItem(result);\n          setShow(true);\n        })\n        .catch((err) => {\n          console.error(\"Error fetching post details:\", err);\n          notifyA(\"Error loading comments\");\n        });\n    }\n  };\n\n  const likePost = (id) => {\n    fetch(`${config.BACKEND_URL}/like`, {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((posts) => {\n          if (posts._id == result._id) {\n            return result;\n          } else {\n            return posts;\n          }\n        });\n        setData(newData);\n      });\n  };\n  const unlikePost = (id) => {\n    fetch(`${config.BACKEND_URL}/unlike`, {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((posts) => {\n          if (posts._id == result._id) {\n            return result;\n          } else {\n            return posts;\n          }\n        });\n        setData(newData);\n      });\n  };\n\n  // function to make comment\n  const makeComment = (text, id) => {\n    if (!text || text.trim() === \"\") {\n      notifyA(\"Comment cannot be empty\");\n      return;\n    }\n\n    fetch(`${config.BACKEND_URL}/comment`, {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        text: text,\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n        const newData = data.map((posts) => {\n          if (posts._id == result._id) {\n            return result;\n          } else {\n            return posts;\n          }\n        });\n        setData(newData);\n        setComment(\"\");\n        notifyB(\"Comment posted\");\n      });\n  };\n\n  return (\n    <div className=\"home\">\n      {/* card */}\n      {data.map((posts) => {\n        return (\n          <div className=\"card\">\n            {/* card header */}\n            <div className=\"card-header\">\n              <div className=\"card-pic\">\n                {posts.postedBy._id === JSON.parse(localStorage.getItem(\"user\"))?._id ? (\n                  <Link to=\"/profile\">\n                    <img src={posts.postedBy.Photo ? posts.postedBy.Photo : picLink} alt=\"\" />\n                  </Link>\n                ) : (\n                  <Link to={`/profile/${posts.postedBy._id}`}>\n                    <img src={posts.postedBy.Photo ? posts.postedBy.Photo : picLink} alt=\"\" />\n                  </Link>\n                )}\n              </div>\n              {posts.postedBy._id === JSON.parse(localStorage.getItem(\"user\"))?._id ? (\n                <Link to=\"/profile\">\n                  <h5>{posts.postedBy.name}</h5>\n                </Link>\n              ) : (\n                <Link to={`/profile/${posts.postedBy._id}`}>\n                  <h5>{posts.postedBy.name}</h5>\n                </Link>\n              )}\n            </div>\n            {/* card image */}\n            <div className=\"card-image\">\n              <img src={posts.photo} alt=\"\" />\n            </div>\n\n            {/* card content */}\n            <div className=\"card-content\">\n              <div className=\"like-container\">\n                {posts.likes.includes(\n                  JSON.parse(localStorage.getItem(\"user\"))._id\n                ) ? (\n                  <span\n                    className=\"material-symbols-outlined material-symbols-outlined-red\"\n                    onClick={() => {\n                      unlikePost(posts._id);\n                    }}\n                  >\n                    favorite\n                  </span>\n                ) : (\n                  <span\n                    className=\"material-symbols-outlined\"\n                    onClick={() => {\n                      likePost(posts._id);\n                    }}\n                  >\n                    favorite\n                  </span>\n                )}\n                <span className=\"likes-count\">{posts.likes.length}</span>\n              </div>\n\n              <div className=\"caption-container\">\n                <div className=\"caption-section\">\n                  <p className=\"caption\">{posts.body}</p>\n                </div>\n                <p\n                  className=\"view-comments\"\n                  onClick={() => {\n                    toggleComment(posts);\n                  }}\n                >\n                  View all comments\n                </p>\n              </div>\n            </div>\n\n            {/* add Comment */}\n            <div className=\"add-comment\">\n              <span className=\"material-symbols-outlined\">mood</span>\n              <input\n                type=\"text\"\n                placeholder=\"Add a comment\"\n                value={comment}\n                onChange={(e) => {\n                  setComment(e.target.value);\n                }}\n              />\n              <button\n                className=\"comment\"\n                onClick={() => {\n                  makeComment(comment, posts._id);\n                }}\n              >\n                Post\n              </button>\n            </div>\n          </div>\n        );\n      })}\n\n      {/* show Comment */}\n      {show && (\n        <div className=\"showComment\">\n          <div className=\"container\">\n            <div className=\"postPic\">\n              <img src={item.photo} alt=\"\" />\n            </div>\n            <div className=\"details\">\n              {/* card header */}\n              <div\n                className=\"card-header\"\n                style={{ borderBottom: \"1px solid #00000029\" }}\n              >\n                <div className=\"card-pic\">\n                  <img\n                    src={item.postedBy?.Photo || picLink}\n                    alt={item.postedBy?.name || \"User\"}\n                    onError={(e) => {\n                      console.log(\"Error loading profile picture:\", {\n                        user: item.postedBy,\n                        attemptedUrl: item.postedBy?.Photo,\n                        error: e\n                      });\n                      e.target.src = picLink;\n                    }}\n                    style={{ \n                      width: \"40px\", \n                      height: \"40px\", \n                      borderRadius: \"50%\", \n                      objectFit: \"cover\",\n                      border: \"1px solid #eee\"\n                    }}\n                  />\n                </div>\n                <h5>{item.postedBy?.name || \"User\"}</h5>\n              </div>\n\n              {/* commentSection */}\n              <div\n                className=\"comment-section\"\n                style={{ borderBottom: \"1px solid #00000029\" }}\n              >\n                {item.comments?.map((comment) => {\n                  return (\n                    <div className=\"comment-item\" key={comment._id}>\n                      <div className=\"comment-pic\">\n                        <img\n                          src={comment.postedBy?.Photo || picLink}\n                          alt={comment.postedBy?.name || \"User\"}\n                          onError={(e) => {\n                            console.log(\"Error loading commenter profile picture:\", {\n                              user: comment.postedBy,\n                              attemptedUrl: comment.postedBy?.Photo,\n                              error: e\n                            });\n                            e.target.src = picLink;\n                          }}\n                          style={{ \n                            width: \"24px\", \n                            height: \"24px\", \n                            borderRadius: \"50%\", \n                            objectFit: \"cover\",\n                            border: \"1px solid #eee\"\n                          }}\n                        />\n                      </div>\n                      <p className=\"comm\">\n                        <span className=\"commenter\" style={{ fontWeight: \"bolder\" }}>\n                          {comment.postedBy?.name || \"User\"}{\" \"}\n                        </span>\n                        <span className=\"commentText\">{comment.comment}</span>\n                      </p>\n                    </div>\n                  );\n                })}\n              </div>\n\n              {/* card content */}\n              <div className=\"card-content\">\n                <p>{item.likes?.length || 0} Likes</p>\n                <p>{item.body}</p>\n              </div>\n\n              {/* add Comment */}\n              <div className=\"add-comment\">\n                <span className=\"material-symbols-outlined\">mood</span>\n                <input\n                  type=\"text\"\n                  placeholder=\"Add a comment\"\n                  value={comment}\n                  onChange={(e) => {\n                    setComment(e.target.value);\n                  }}\n                />\n                <button\n                  className=\"comment\"\n                  onClick={() => {\n                    makeComment(comment, item._id);\n                  }}\n                >\n                  Post\n                </button>\n              </div>\n            </div>\n          </div>\n          <div\n            className=\"close-comment\"\n            onClick={() => {\n              setShow(false);\n            }}\n          >\n            <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\n              Close\n            </span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/MyFollowingPost.js",["194","195"],[],"import React, { useEffect, useState } from \"react\";\nimport \"./Home.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MyFolliwngPost() {\n  const navigate = useNavigate();\n  const [followedUsers, setFollowedUsers] = useState([]);\n  const defaultProfilePic = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n\n  // Get current user's ID from localStorage\n  const currentUserId = JSON.parse(localStorage.getItem(\"user\"))?._id;\n\n  // Handle profile click\n  const handleProfileClick = (userId) => {\n    if (userId === currentUserId) {\n      navigate(\"/profile\");\n    } else {\n      navigate(`/profile/${userId}`);\n    }\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    if (!token) {\n      navigate(\"./signup\");\n    }\n\n    // Get current user data for debugging\n    const currentUser = JSON.parse(localStorage.getItem(\"user\"));\n    console.log(\"Current user data:\", currentUser);\n\n    // Fetching followed users\n    fetch(\"http://localhost:4000/myfollwingpost\", {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(\"Raw API response:\", result);\n        \n        // If result is an array of posts, extract unique users\n        if (Array.isArray(result)) {\n          const uniqueUsers = result.reduce((acc, post) => {\n            if (post.postedBy && !acc.some(user => user._id === post.postedBy._id)) {\n              acc.push({\n                _id: post.postedBy._id,\n                name: post.postedBy.name,\n                Photo: post.postedBy.Photo\n              });\n            }\n            return acc;\n  }, []);\n\n          console.log(\"Extracted unique users:\", uniqueUsers);\n          setFollowedUsers(uniqueUsers);\n    } else {\n          console.log(\"Unexpected API response format:\", result);\n          setFollowedUsers([]);\n        }\n    })\n      .catch((err) => {\n        console.error(\"Error fetching followed users:\", err);\n        setFollowedUsers([]);\n      });\n  }, []);\n\n  return (\n    <div className=\"home\">\n      <h2 style={{ textAlign: 'center', marginBottom: '20px' }}>People You Follow</h2>\n      \n      {followedUsers.length === 0 ? (\n        <div style={{ textAlign: 'center', padding: '20px' }}>\n          <h3>No followed users</h3>\n          <p>Start following people to see their profiles here!</p>\n            </div>\n      ) : (\n        <div className=\"followed-users-grid\">\n          {followedUsers.map((user) => (\n            <div \n              className=\"user-card\" \n              key={user._id}\n              onClick={() => handleProfileClick(user._id)}\n              style={{ cursor: 'pointer' }}\n            >\n              <div className=\"user-profile\">\n                <div className=\"user-pic\">\n                  <img\n                    src={user.Photo || defaultProfilePic}\n                    alt={user.name}\n                    onError={(e) => {\n                      console.log(\"Error loading profile picture:\", e);\n                      e.target.src = defaultProfilePic;\n                    }}\n                  />\n                </div>\n                <div className=\"user-info\">\n                  <h4>{user.name}</h4>\n              </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Modal.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/bottombar.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Reels.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/context/LoginContext.js",["196"],[],"import React, { createContext } from 'react';\nexport const LoginContext = createContext()","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Business.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Gaming.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Education.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Entertainment.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/FoodTravel.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/SportsFitness.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/ProfilePic.js",["197","198"],[],"import React, { useState, useEffect, useRef } from \"react\";\n\nexport default function ProfilePic({ changeprofile }) {\n  const hiddenFileInput = useRef(null);\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n\n  // posting image to cloudinary\n  const postDetails = () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"instaClone\");\n    data.append(\"cloud_name\", \"do5w3vlu0\");\n    fetch(\"https://api.cloudinary.com/v1_1/do5w3vlu0/image/upload\", {\n      method: \"post\",\n      body: data,\n    })\n      .then((res) => res.json())\n      .then((data) => setUrl(data.url))\n      .catch((err) => console.log(err));\n    console.log(url);\n  };\n\n  const postPic = () => {\n    // saving post to mongodb\n    fetch(\"http://localhost:4000/uploadProfilePic\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        pic: url,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        changeprofile();\n        window.location.reload();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleClick = () => {\n    hiddenFileInput.current.click();\n  };\n\n  useEffect(() => {\n    if (image) {\n      postDetails();\n    }\n  }, [image]);\n  useEffect(() => {\n    if (url) {\n      postPic();\n    }\n  }, [url]);\n  return (\n    <div className=\"profilePic darkBg\">\n      <div className=\"changePic centered\">\n        <div>\n          <h2>Change Profile Photo</h2>\n        </div>\n        <div style={{ borderTop: \"1px solid #00000030\" }}>\n          <button\n            className=\"upload-btn\"\n            style={{ color: \"#1EA1F7\" }}\n            onClick={handleClick}\n          >\n            Upload Photo\n          </button>\n          <input\n            type=\"file\"\n            ref={hiddenFileInput}\n            accept=\"image/*\"\n            style={{ display: \"none\" }}\n            onChange={(e) => {\n              setImage(e.target.files[0]);\n            }}\n          />\n        </div>\n        <div style={{ borderTop: \"1px solid #00000030\" }}>\n          <button className=\"upload-btn\" style={{ color: \"#ED4956\" }}>\n            {\" \"}\n            Remove Current Photo\n          </button>\n        </div>\n        <div style={{ borderTop: \"1px solid #00000030\" }}>\n          <button\n            style={{\n              background: \"none\",\n              border: \"none\",\n              cursor: \"pointer\",\n              fontSize: \"15px\",\n            }}\n            onClick={changeprofile}\n          >\n            cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/PostDetail.js",["199","200"],[],"import React, { useEffect, useState } from \"react\";\nimport \"./PostDetail.css\";\nimport { useNavigate, useLocation, Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nexport default function PostDetail({ item, toggleDetails, isProfilePage = false, activeTab = 'posts' }) {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const defaultProfilePic = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n  const [postData, setPostData] = useState(item);\n  const [comment, setComment] = useState(\"\");\n\n  // Debug logs\n  useEffect(() => {\n    console.log(\"PostDetail mounted with item:\", {\n      postId: item?._id,\n      postedBy: item?.postedBy ? {\n        id: item.postedBy._id,\n        name: item.postedBy.name,\n        hasPhoto: !!item.postedBy.Photo,\n        photoUrl: item.postedBy.Photo\n      } : null\n    });\n  }, [item]);\n\n  // Toast functions\n  const notifyA = (msg) => toast.error(msg);\n  const notifyB = (msg) => toast.success(msg);\n\n  // Fetch post details if postedBy is not fully populated\n  useEffect(() => {\n    if (item?._id && (!item.postedBy?.Photo || !item.postedBy?.name)) {\n      console.log(\"Fetching post details for post:\", item._id);\n      fetch(`http://localhost:4000/post/${item._id}`, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          console.log(\"Fetched post details:\", {\n            postId: result._id,\n            postedBy: result.postedBy ? {\n              id: result.postedBy._id,\n              name: result.postedBy.name,\n              hasPhoto: !!result.postedBy.Photo,\n              photoUrl: result.postedBy.Photo\n            } : null\n          });\n          setPostData(result);\n        })\n        .catch((err) => {\n          console.error(\"Error fetching post details:\", err);\n        });\n    } else {\n      setPostData(item);\n    }\n  }, [item]);\n\n  const removePost = (postId) => {\n    if (window.confirm(\"Do you really want to delete this post ?\")) {\n      fetch(`http://localhost:4000/deletePost/${postId}`, {\n        method: \"delete\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          console.log(result);\n          toggleDetails();\n          navigate(\"/\");\n          notifyB(result.message);\n        });\n    }\n  };\n\n  const handleProfileClick = () => {\n    const currentUser = JSON.parse(localStorage.getItem(\"user\"));\n    \n    if (postData.postedBy?._id === currentUser?._id) {\n      // If it's the current user's profile, just close the modal\n      // The Link component will handle the navigation\n      toggleDetails();\n    } else {\n      // If it's another user's profile\n      navigate(`/profile/${postData.postedBy?._id}`);\n      toggleDetails();\n    }\n  };\n\n  const handleCommenterClick = (commenterId) => {\n    const currentUser = JSON.parse(localStorage.getItem(\"user\"));\n    \n    if (commenterId === currentUser?._id) {\n      // If clicking on your own comment, just close the modal\n      // The Link component will handle the navigation\n      toggleDetails();\n    } else {\n      // If clicking on another user's comment\n      navigate(`/profile/${commenterId}`);\n      toggleDetails();\n    }\n  };\n\n  const makeComment = (comment, postId) => {\n    // Implement the logic to make a comment\n    console.log(\"Making comment:\", comment, \"for post:\", postId);\n  };\n\n  return (\n    <div className=\"showComment\">\n      <div className=\"container\">\n        <div className=\"postPic\">\n          <img src={postData.photo} alt=\"\" />\n        </div>\n        <div className=\"details\">\n          {/* card header */}\n          <div\n            className=\"card-header\"\n            style={{ borderBottom: \"1px solid #00000029\" }}\n          >\n            <div \n              className=\"card-pic\"\n              style={{ cursor: 'pointer' }}\n            >\n              {postData.postedBy?._id === JSON.parse(localStorage.getItem(\"user\"))?._id ? (\n                <Link to=\"/profile\" onClick={toggleDetails} style={{ textDecoration: 'none', color: 'inherit' }}>\n                  <img\n                    src={postData.postedBy?.Photo || defaultProfilePic}\n                    alt={postData.postedBy?.name || \"User\"}\n                    onError={(e) => {\n                      console.log(\"Error loading profile picture:\", {\n                        user: postData.postedBy,\n                        attemptedUrl: postData.postedBy?.Photo,\n                        error: e\n                      });\n                      e.target.src = defaultProfilePic;\n                    }}\n                    style={{ \n                      width: \"40px\", \n                      height: \"40px\", \n                      borderRadius: \"50%\", \n                      objectFit: \"cover\",\n                      border: \"1px solid #eee\"\n                    }}\n                  />\n                </Link>\n              ) : (\n                <img\n                  src={postData.postedBy?.Photo || defaultProfilePic}\n                  alt={postData.postedBy?.name || \"User\"}\n                  onClick={handleProfileClick}\n                  onError={(e) => {\n                    console.log(\"Error loading profile picture:\", {\n                      user: postData.postedBy,\n                      attemptedUrl: postData.postedBy?.Photo,\n                      error: e\n                    });\n                    e.target.src = defaultProfilePic;\n                  }}\n                  style={{ \n                    width: \"40px\", \n                    height: \"40px\", \n                    borderRadius: \"50%\", \n                    objectFit: \"cover\",\n                    border: \"1px solid #eee\"\n                  }}\n                />\n              )}\n            </div>\n            {postData.postedBy?._id === JSON.parse(localStorage.getItem(\"user\"))?._id ? (\n              <Link to=\"/profile\" onClick={toggleDetails} style={{ textDecoration: 'none', color: 'inherit' }}>\n                <h5 style={{ cursor: 'pointer' }}>\n                  {postData.postedBy?.name || \"User\"}\n                </h5>\n              </Link>\n            ) : (\n              <h5 \n                onClick={handleProfileClick}\n                style={{ cursor: 'pointer' }}\n              >\n                {postData.postedBy?.name || \"User\"}\n              </h5>\n            )}\n            {postData.postedBy?._id === JSON.parse(localStorage.getItem(\"user\"))?._id && (\n              <div\n                className=\"deletePost\"\n                onClick={() => {\n                  removePost(postData._id);\n                }}\n              >\n                <span className=\"material-symbols-outlined\">delete</span>\n              </div>\n            )}\n          </div>\n\n          {/* commentSection */}\n          <div\n            className=\"comment-section\"\n            style={{ borderBottom: \"1px solid #00000029\" }}\n          >\n            {postData.comments?.map((comment) => (\n              <div className=\"comment-item\" key={comment._id}>\n                <div \n                  className=\"comment-pic\"\n                  style={{ cursor: 'pointer' }}\n                >\n                  {comment.postedBy?._id === JSON.parse(localStorage.getItem(\"user\"))?._id ? (\n                    <Link to=\"/profile\" onClick={toggleDetails} style={{ textDecoration: 'none', color: 'inherit' }}>\n                      <img\n                        src={comment.postedBy?.Photo || defaultProfilePic}\n                        alt={comment.postedBy?.name || \"User\"}\n                        onError={(e) => {\n                          console.log(\"Error loading commenter profile picture:\", {\n                            user: comment.postedBy,\n                            attemptedUrl: comment.postedBy?.Photo,\n                            error: e\n                          });\n                          e.target.src = defaultProfilePic;\n                        }}\n                        style={{ \n                          width: \"24px\", \n                          height: \"24px\", \n                          borderRadius: \"50%\", \n                          objectFit: \"cover\",\n                          border: \"1px solid #eee\"\n                        }}\n                      />\n                    </Link>\n                  ) : (\n                    <img\n                      src={comment.postedBy?.Photo || defaultProfilePic}\n                      alt={comment.postedBy?.name || \"User\"}\n                      onClick={() => handleCommenterClick(comment.postedBy?._id)}\n                      onError={(e) => {\n                        console.log(\"Error loading commenter profile picture:\", {\n                          user: comment.postedBy,\n                          attemptedUrl: comment.postedBy?.Photo,\n                          error: e\n                        });\n                        e.target.src = defaultProfilePic;\n                      }}\n                      style={{ \n                        width: \"24px\", \n                        height: \"24px\", \n                        borderRadius: \"50%\", \n                        objectFit: \"cover\",\n                        border: \"1px solid #eee\"\n                      }}\n                    />\n                  )}\n                </div>\n                <p className=\"comm\">\n                  {comment.postedBy?._id === JSON.parse(localStorage.getItem(\"user\"))?._id ? (\n                    <Link to=\"/profile\" onClick={toggleDetails} style={{ textDecoration: 'none', color: 'inherit' }}>\n                      <span \n                        className=\"commenter\" \n                        style={{ fontWeight: \"bolder\", cursor: 'pointer' }}\n                      >\n                        {comment.postedBy?.name || \"User\"}{\" \"}\n                      </span>\n                    </Link>\n                  ) : (\n                    <span \n                      className=\"commenter\" \n                      style={{ fontWeight: \"bolder\", cursor: 'pointer' }}\n                      onClick={() => handleCommenterClick(comment.postedBy?._id)}\n                    >\n                      {comment.postedBy?.name || \"User\"}{\" \"}\n                    </span>\n                  )}\n                  <span className=\"commentText\">{comment.comment}</span>\n                </p>\n              </div>\n            ))}\n          </div>\n\n          {/* card content */}\n          <div className=\"card-content\">\n            <p>{postData.likes?.length || 0}</p>\n            <p>{postData.body}</p>\n          </div>\n\n          {/* add Comment */}\n          <div className=\"add-comment\">\n            <span className=\"material-symbols-outlined\">mood</span>\n            <input\n              type=\"text\"\n              placeholder=\"Add a comment\"\n              value={comment}\n              onChange={(e) => {\n                setComment(e.target.value);\n              }}\n            />\n            <button\n              className=\"comment\"\n              onClick={() => {\n                makeComment(comment, postData._id);\n                setComment(\"\");\n              }}\n            >\n              Post\n            </button>\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"close-comment\"\n        onClick={() => {\n          toggleDetails();\n        }}\n      >\n        <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\n          Close\n        </span>\n      </div>\n    </div>\n  );\n}\n","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/GestureWheel.js",["201","202","203","204","205","206"],[],"\"use client\";\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { motion, useMotionValue } from 'framer-motion';\nimport { Book, Briefcase, Clapperboard, Dumbbell, Gamepad2, Utensils } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport config from '../config/config';\n\nconst segments = [\n  { id: 1, label: 'Education', imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1747310087/20250515_1724_Woman_Immersed_in_Books_simple_compose_01jv9wp0csfcdb5xjjbf5psrpq_neuiqh.png', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/education' },\n  { id: 2, label: 'Business', imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1747311369/20250515_1745_Corporate_Hustle_simple_compose_01jv9xxc0cf60vkn691858tzf1_wzgsah.png', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/business' },\n  { id: 3, label: 'Entertainment', imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1747311489/20250515_1747_Joyful_Movie_Night_simple_compose_01jv9y1pf6fc6tx9nbjckz8eev_zlonam.png', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/entertainment' },\n  { id: 4, label: 'Sports/Fitness', imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1747311228/20250515_1742_Nature_Handstand_Pose_simple_compose_01jv9xq11mefvv1chd49jyfjjd_bqcj7h.png', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/sports-fitness' },\n  { id: 5, label: 'Gaming', imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1747311111/20250515_1740_Gamer_in_Action_simple_compose_01jv9xkrnxffp891zmfx8fqa4w_mufb85.png', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/gaming' },\n  { id: 6, label: 'Food/Travel', imageUrl: 'https://res.cloudinary.com/do5w3vlu0/image/upload/v1747309894/20250515_1720_Balloon_Over_Mountain_Feast_simple_compose_01jv9wdk0kf719a37v6ds69p5w_rto4zx.png', color: 'hsl(var(--secondary))', activeColor: 'hsl(var(--accent))', path: '/food-travel' },\n];\n\nconst WHEEL_RADIUS = 300;\nconst INNER_RADIUS = WHEEL_RADIUS * 0.4;\nconst TOTAL_SEGMENTS = segments.length;\nconst TOTAL_ANGLE = 360;\nconst GAP_ANGLE = 2;\nconst USABLE_ANGLE = TOTAL_ANGLE - TOTAL_SEGMENTS * GAP_ANGLE;\nconst SEGMENT_ANGLE = USABLE_ANGLE / TOTAL_SEGMENTS;\nconst DRAG_SENSITIVITY = 0.5;\n\nconst describeArcSegment = (cx, cy, outerRadius, innerRadius, startAngle, endAngle, gapAngle) => {\n  const gapAdjust = gapAngle / 2;\n  const startRadOuter = ((startAngle + gapAdjust) * Math.PI) / 180;\n  const endRadOuter = ((endAngle - gapAdjust) * Math.PI) / 180;\n  const startRadInner = ((startAngle + gapAdjust) * Math.PI) / 180;\n  const endRadInner = ((endAngle - gapAdjust) * Math.PI) / 180;\n\n  const startOuter = {\n    x: cx + outerRadius * Math.cos(startRadOuter),\n    y: cy + outerRadius * Math.sin(startRadOuter),\n  };\n  const endOuter = {\n    x: cx + outerRadius * Math.cos(endRadOuter),\n    y: cy + outerRadius * Math.sin(endRadOuter),\n  };\n  const startInner = {\n    x: cx + innerRadius * Math.cos(startRadInner),\n    y: cy + innerRadius * Math.sin(startRadInner),\n  };\n  const endInner = {\n    x: cx + innerRadius * Math.cos(endRadInner),\n    y: cy + innerRadius * Math.sin(endRadInner),\n  };\n\n  const largeArcFlagOuter = (endAngle - gapAdjust) - (startAngle + gapAdjust) <= 180 ? '0' : '1';\n  const d = [\n    'M', startInner.x, startInner.y,\n    'L', startOuter.x, startOuter.y,\n    'A', outerRadius, outerRadius, 0, largeArcFlagOuter, '1', endOuter.x, endOuter.y,\n    'L', endInner.x, endInner.y,\n    'A', innerRadius, innerRadius, 0, largeArcFlagOuter, '0', startInner.x, startInner.y,\n    'Z',\n  ].join(' ');\n\n  return d;\n};\n\nconst normalizeAngle = (angle) => {\n  let normalized = angle % 360;\n  if (normalized > 180) normalized -= 360;\n  else if (normalized <= -180) normalized += 360;\n  return normalized;\n};\n\nexport function GestureWheel() {\n  const navigate = useNavigate();\n  const [rotation, setRotation] = useState(0);\n  const [activeSegment, setActiveSegment] = useState(null);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n  const [reels, setReels] = useState([]);\n  const constraintsRef = useRef(null);\n  const rotationMotionValue = useMotionValue(0);\n  const lastTapTimeRef = useRef(0);\n  const doubleTapTimeoutRef = useRef(null);\n\n  useEffect(() => {\n    const unsubscribe = rotationMotionValue.onChange((latest) => {\n      setRotation(latest);\n      const normalizedRotation = latest % 360;\n      const effectiveRotation = (normalizedRotation + 360) % 360;\n      const selectorAngleDegrees = 180;\n\n      let currentActiveSegment = null;\n      for (let i = 0; i < segments.length; i++) {\n        const segmentCenterAngle = 180 + i * (SEGMENT_ANGLE + GAP_ANGLE);\n        const segmentStartAngleWithGap = segmentCenterAngle - (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n        const segmentEndAngleWithGap = segmentCenterAngle + (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n        const segmentStartAngle = segmentStartAngleWithGap + GAP_ANGLE / 2;\n        const segmentEndAngle = segmentEndAngleWithGap - GAP_ANGLE / 2;\n\n        let rotatedStart = (segmentStartAngle - effectiveRotation + 360) % 360;\n        let rotatedEnd = (segmentEndAngle - effectiveRotation + 360) % 360;\n\n        if (rotatedStart <= rotatedEnd) {\n          if (selectorAngleDegrees >= rotatedStart && selectorAngleDegrees < rotatedEnd) {\n            currentActiveSegment = segments[i].id;\n            break;\n          }\n        } else {\n          if (selectorAngleDegrees >= rotatedStart || selectorAngleDegrees < rotatedEnd) {\n            currentActiveSegment = segments[i].id;\n            break;\n          }\n        }\n      }\n      setActiveSegment(currentActiveSegment);\n    });\n    return unsubscribe;\n  }, [rotationMotionValue]);\n\n  // Fetch reels based on the active segment\n  useEffect(() => {\n    if (activeSegment) {\n      const segment = segments.find(s => s.id === activeSegment);\n      if (segment) {\n        fetch(`${config.BACKEND_URL}/reels/${segment.label.toLowerCase()}`)\n          .then(response => response.json())\n          .then(data => setReels(data))\n          .catch(error => console.error('Error fetching reels:', error));\n      }\n    }\n  }, [activeSegment]);\n\n  // Navigate to the selected segment's page\n  useEffect(() => {\n    if (selectedSegment) {\n      const segment = segments.find(s => s.id === selectedSegment);\n      if (segment && segment.path) {\n        navigate(segment.path);\n      }\n      setSelectedSegment(null); // Reset after navigation\n    }\n  }, [selectedSegment, navigate]);\n\n  const handleDrag = (event, info) => {\n    // Change rotation based on vertical drag delta\n    const deltaRotation = info.delta.y * DRAG_SENSITIVITY;\n    const newRotation = rotation + deltaRotation;\n    rotationMotionValue.set(newRotation);\n  };\n\n  const handleTap = () => {\n    const now = Date.now();\n    const timeSinceLastTap = now - lastTapTimeRef.current;\n    \n    // Clear any existing double tap timeout\n    if (doubleTapTimeoutRef.current) {\n      clearTimeout(doubleTapTimeoutRef.current);\n    }\n    \n    if (timeSinceLastTap < 300) { // Double tap detected\n      // Navigate to the active segment\n      if (activeSegment) {\n        setSelectedSegment(activeSegment);\n      }\n    } else {\n      // Set a timeout for possible second tap\n      doubleTapTimeoutRef.current = setTimeout(() => {\n        // Single tap logic if needed\n        doubleTapTimeoutRef.current = null;\n      }, 300);\n    }\n    \n    lastTapTimeRef.current = now;\n  };\n  \n  // Add a dedicated click handler for the segment selection\n  const handleSegmentClick = (segmentId) => {\n    setSelectedSegment(segmentId);\n  };\n\n  return (\n    <div\n      ref={constraintsRef}\n      className=\"relative w-[calc(var(--wheel-radius)_+_50px)] h-screen flex items-center justify-start overflow-hidden cursor-grab active:cursor-grabbing\"\n      style={{ '--wheel-radius': `${WHEEL_RADIUS}px` }}\n      aria-label=\"Gesture wheel control. Drag vertically to rotate. Click on a segment or double tap to navigate.\"\n    >\n      <motion.div\n        drag=\"y\"\n        dragConstraints={{ top: 0, bottom: 0 }}\n        dragElastic={0}\n        onDrag={handleDrag}\n        onTap={handleTap}\n        style={{\n          rotate: rotationMotionValue,\n          width: `calc(var(--wheel-radius) * 2)`,\n          height: `calc(var(--wheel-radius) * 2)`,\n          position: 'absolute',\n          left: `calc(var(--wheel-radius) * -1)`,\n          top: '20%',\n          transform: 'translateY(-50%)',\n          transformOrigin: '50% 50%',\n        }}\n        role=\"slider\"\n        aria-orientation=\"vertical\"\n        aria-valuemin={-180}\n        aria-valuemax={180}\n        aria-valuenow={normalizeAngle(rotation)}\n        aria-valuetext={segments.find(s => s.id === activeSegment)?.label || 'None selected'}\n      >\n        <svg\n          viewBox={`-${WHEEL_RADIUS} -${WHEEL_RADIUS} ${WHEEL_RADIUS * 2} ${WHEEL_RADIUS * 2}`}\n          width={WHEEL_RADIUS * 2}\n          height={WHEEL_RADIUS * 2}\n          className=\"overflow-visible\"\n        >\n          {/* Define SVG clipPaths for each segment */}\n          <defs>\n            {segments.map((segment, index) => {\n              const segmentMidPointAngle = 180 + index * (SEGMENT_ANGLE + GAP_ANGLE);\n              const startAngle = segmentMidPointAngle - (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n              const endAngle = segmentMidPointAngle + (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n              \n              return (\n                <clipPath id={`segment-clip-${segment.id}`} key={`clip-${segment.id}`}>\n                  <path \n                    d={describeArcSegment(0, 0, WHEEL_RADIUS, INNER_RADIUS, startAngle, endAngle, GAP_ANGLE)} \n                  />\n                </clipPath>\n              );\n            })}\n          </defs>\n          \n          <g transform=\"translate(0, 0)\">\n            {segments.map((segment, index) => {\n              const segmentMidPointAngle = 180 + index * (SEGMENT_ANGLE + GAP_ANGLE);\n              const startAngle = segmentMidPointAngle - (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n              const endAngle = segmentMidPointAngle + (SEGMENT_ANGLE + GAP_ANGLE) / 2;\n              const isActive = segment.id === activeSegment;\n              \n              // Calculate image position for the segment\n              const middleRadius = (WHEEL_RADIUS + INNER_RADIUS) / 2;\n              const middleAngleRad = segmentMidPointAngle * Math.PI / 180;\n              const middleX = middleRadius * Math.cos(middleAngleRad);\n              const middleY = middleRadius * Math.sin(middleAngleRad);\n              \n              // Calculate segment dimensions for better image sizing\n              const segmentWidth = WHEEL_RADIUS - INNER_RADIUS;\n              const segmentArcLength = (SEGMENT_ANGLE * Math.PI / 180) * ((WHEEL_RADIUS + INNER_RADIUS) / 2);\n              \n              // Make the image slightly larger than the segment for better coverage\n              const imageSize = Math.max(segmentWidth, segmentArcLength) * 1.5;\n\n              return (\n                <g key={segment.id}>\n                  {/* Segment path */}\n                  <motion.path\n                    d={describeArcSegment(0, 0, WHEEL_RADIUS, INNER_RADIUS, startAngle, endAngle, GAP_ANGLE)}\n                    fill={isActive ? segment.activeColor : segment.color}\n                    stroke=\"hsl(var(--border))\"\n                    strokeWidth=\"1\"\n                    initial={false}\n                    animate={{ fill: isActive ? segment.activeColor : segment.color }}\n                    transition={{ duration: 0.2 }}\n                    onClick={() => handleSegmentClick(segment.id)}\n                    style={{ cursor: 'pointer' }}\n                  />\n                  \n                  {/* Image clipped to segment shape */}\n                  <g clipPath={`url(#segment-clip-${segment.id})`}>\n                    <image\n                      href={segment.imageUrl}\n                      x={middleX - imageSize/2}\n                      y={middleY - imageSize/2}\n                      width={imageSize}\n                      height={imageSize}\n                      preserveAspectRatio=\"xMidYMid slice\"\n                      aria-hidden=\"true\"\n                      style={{ \n                        pointerEvents: \"none\"\n                      }}\n                      data-ai-hint=\"image for segment\"\n                    />\n                  </g>\n                </g>\n              );\n            })}\n          </g>\n        </svg>\n      </motion.div>\n\n      <div className=\"absolute top-1/2 left-[8px] transform -translate-y-1/2 w-1 h-4 bg-accent rounded-full z-10\" aria-hidden=\"true\"></div>\n      <div className=\"absolute left-[24px] top-1/2 transform -translate-y-1/2 text-left text-foreground text-lg font-semibold w-24 pl-2\" aria-live=\"polite\">\n        {segments.find(s => s.id === activeSegment)?.label || ' '}\n      </div>\n\n      {/* Display reels for the active segment */}\n      {activeSegment && (\n        <div className=\"absolute left-[24px] top-1/2 transform -translate-y-1/2 mt-8\">\n          <h3 className=\"text-lg font-semibold\">Reels</h3>\n          <ul>\n            {reels.map(reel => (\n              <li key={reel._id} className=\"mt-2\">\n                <video src={reel.videoUrl} controls className=\"w-64 h-36\" />\n                <p className=\"text-sm\">{reel.title}</p>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Audiobook.js",["207","208","209"],[],"import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Audiobook.css\";\nimport { toast } from \"react-toastify\";\n\nexport default function Audiobook() {\n  const navigate = useNavigate();\n  const [genreGroups, setGenreGroups] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedGenres, setExpandedGenres] = useState({});\n  const [genrePages, setGenrePages] = useState({});\n\n  // Toast function for errors\n  const notifyError = (msg) => toast.error(msg);\n\n  // Function to get audio duration\n  const getAudioDuration = async (audioUrl) => {\n    try {\n      return new Promise((resolve) => {\n        const audio = new Audio();\n        audio.addEventListener('loadedmetadata', () => {\n          resolve(Math.round(audio.duration));\n        });\n        audio.addEventListener('error', () => {\n          console.error('Error loading audio:', audioUrl);\n          resolve(0);\n        });\n        audio.src = audioUrl;\n      });\n    } catch (error) {\n      console.error('Error getting audio duration:', error);\n      return 0;\n    }\n  };\n\n  useEffect(() => {\n    const fetchAudiobooks = async () => {\n      try {\n        const response = await fetch(\"http://localhost:4000/audiobooks\");\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const result = await response.json();\n        \n        if (!Array.isArray(result)) {\n          throw new Error(\"Expected array of genre groups\");\n        }\n\n        if (result.length === 0) {\n          console.log(\"No audiobooks found in database\");\n          setGenreGroups([]);\n          setLoading(false);\n          return;\n        }\n\n        // Initialize genre pages\n        const initialPages = {};\n        result.forEach(group => {\n          initialPages[group.genre] = 1;\n        });\n        setGenrePages(initialPages);\n\n        setGenreGroups(result);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Error fetching audiobooks:\", err);\n        notifyError(\"Failed to fetch audiobooks\");\n        setLoading(false);\n      }\n    };\n\n    fetchAudiobooks();\n  }, []);\n\n  const handleCardClick = (audiobookId) => {\n    navigate(`/audiobook/${audiobookId}`);\n  };\n\n  const handleSeeMore = async (genre) => {\n    try {\n      const nextPage = (genrePages[genre] || 1) + 1;\n      const response = await fetch(`http://localhost:4000/audiobooks?genre=${encodeURIComponent(genre)}&page=${nextPage}`);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      \n      // Update the genre group with additional books\n      setGenreGroups(prevGroups => \n        prevGroups.map(group => {\n          if (group.genre === genre) {\n            return {\n              ...group,\n              books: [...group.books, ...data.audiobooks],\n              hasMore: nextPage < data.totalPages\n            };\n          }\n          return group;\n        })\n      );\n\n      // Update the page number for this genre\n      setGenrePages(prev => ({\n        ...prev,\n        [genre]: nextPage\n      }));\n\n    } catch (err) {\n      console.error(\"Error loading more books:\", err);\n      notifyError(\"Failed to load more books\");\n    }\n  };\n\n  // Format duration from seconds to HH:MM:SS or MM:SS\n  const formatDuration = (seconds) => {\n    if (!seconds || isNaN(seconds)) return \"00:00\";\n    \n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const remainingSeconds = seconds % 60;\n\n    if (hours > 0) {\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\n    }\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading audiobooks...</div>;\n  }\n\n  if (genreGroups.length === 0) {\n    return <div className=\"loading\">No audiobooks found</div>;\n  }\n\n  return (\n    <div className=\"audiobook-container\">\n      <h1 className=\"audiobook-title\">Audiobooks</h1>\n      {genreGroups.map((group) => (\n        <div key={group.genre} className=\"genre-section\">\n          <h2 className=\"genre-title\">{group.genre}</h2>\n          <div className=\"audiobook-grid\">\n            {group.books.map((book) => (\n              <div\n                key={book._id}\n                className=\"audiobook-card\"\n                onClick={() => handleCardClick(book._id)}\n              >\n                <div className=\"audiobook-thumbnail\">\n                  <img \n                    src={book.thumbnailUrl} \n                    alt={book.title || \"Audiobook cover\"} \n                    onError={(e) => {\n                      e.target.src = \"https://via.placeholder.com/300x400?text=No+Image\";\n                    }}\n                  />\n                  {/* Meta overlay for mobile */}\n                  <div className=\"audiobook-meta-overlay\">\n                    <span className=\"audiobook-duration\">\n                      {formatDuration(Number(book.duration))}\n                    </span>\n                    <div className=\"audiobook-rating\">\n                      {[...Array(5)].map((_, index) => (\n                        <span\n                          key={index}\n                          className={`star ${index < Math.floor(book.rating || 0) ? 'filled' : ''}`}\n                        >\n                          \n                        </span>\n                      ))}\n                      <span className=\"rating-value\">({(book.rating || 0).toFixed(1)})</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"audiobook-details\">\n                  <h3 className=\"audiobook-name\">\n                    {book.title || \"No Title Available\"}\n                  </h3>\n                  <p className=\"audiobook-author\">\n                    By {book.author || \"Unknown Author\"}\n                  </p>\n                  {book.description && (\n                    <p className=\"audiobook-description\">\n                      {book.description}\n                    </p>\n                  )}\n                  {/* Meta section for desktop */}\n                  <div className=\"audiobook-meta\">\n                    <span className=\"audiobook-duration\">\n                      {formatDuration(Number(book.duration))}\n                    </span>\n                    <div className=\"audiobook-rating\">\n                      {[...Array(5)].map((_, index) => (\n                        <span\n                          key={index}\n                          className={`star ${index < Math.floor(book.rating || 0) ? 'filled' : ''}`}\n                        >\n                          \n                        </span>\n                      ))}\n                      <span className=\"rating-value\">({(book.rating || 0).toFixed(1)})</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          {group.hasMore && (\n            <button \n              className=\"see-more-button\"\n              onClick={() => handleSeeMore(group.genre)}\n            >\n              See More\n            </button>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n} ","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/AIBot.js",["210","211","212"],[],"import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './AIBot.css';\nimport { toast } from 'react-toastify';\nimport ReactMarkdown from 'react-markdown';\n\nconst SUGGESTED_QUESTIONS = [\n  \"What are the best practices for learning a new programming language?\",\n  \"How can I improve my productivity while coding?\",\n  \"Explain the concept of machine learning in simple terms\",\n  \"What are the latest trends in web development?\",\n  \"How can I start learning artificial intelligence?\"\n];\n\n// Function to format text with proper styling\nconst formatMessage = (text) => {\n  // Replace markdown-style formatting with HTML\n  let formattedText = text\n    // Bold text\n    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n    // Italic text\n    .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n    // Code blocks\n    .replace(/```([\\s\\S]*?)```/g, '<pre><code>$1</code></pre>')\n    // Inline code\n    .replace(/`([^`]+)`/g, '<code>$1</code>')\n    // Lists\n    .replace(/^\\s*[-*+]\\s+(.+)$/gm, '<li>$1</li>')\n    // Headers\n    .replace(/^### (.*$)/gm, '<h3>$1</h3>')\n    .replace(/^## (.*$)/gm, '<h2>$1</h2>')\n    .replace(/^# (.*$)/gm, '<h1>$1</h1>')\n    // Links\n    .replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" target=\"_blank\" rel=\"noopener noreferrer\">$1</a>');\n\n  return formattedText;\n};\n\n// Component for rendering formatted message content\nconst MessageContent = ({ content }) => {\n  const formattedContent = formatMessage(content);\n  \n  return (\n    <div className=\"message-content-wrapper\">\n      <ReactMarkdown\n        components={{\n          // Style different elements\n          p: ({ children }) => <p className=\"message-paragraph\">{children}</p>,\n          strong: ({ children }) => <strong className=\"message-bold\">{children}</strong>,\n          em: ({ children }) => <em className=\"message-italic\">{children}</em>,\n          code: ({ children, inline }) => \n            inline ? \n              <code className=\"message-inline-code\">{children}</code> : \n              <pre className=\"message-code-block\"><code>{children}</code></pre>,\n          ul: ({ children }) => <ul className=\"message-list\">{children}</ul>,\n          ol: ({ children }) => <ol className=\"message-list\">{children}</ol>,\n          li: ({ children }) => <li className=\"message-list-item\">{children}</li>,\n          h1: ({ children }) => <h1 className=\"message-heading message-h1\">{children}</h1>,\n          h2: ({ children }) => <h2 className=\"message-heading message-h2\">{children}</h2>,\n          h3: ({ children }) => <h3 className=\"message-heading message-h3\">{children}</h3>,\n          a: ({ href, children }) => (\n            <a \n              href={href} \n              className=\"message-link\" \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n            >\n              {children}\n            </a>\n          ),\n        }}\n      >\n        {content}\n      </ReactMarkdown>\n    </div>\n  );\n};\n\nexport default function AIBot() {\n  const navigate = useNavigate();\n  const [chats, setChats] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const userId = localStorage.getItem('userId') || 'anonymous';\n  const [editingChatId, setEditingChatId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState('');\n  const editInputRef = useRef(null);\n\n  // Fetch user's chat history\n  useEffect(() => {\n    fetchChats();\n  }, []);\n\n  const fetchChats = async () => {\n    try {\n      console.log('Fetching chats for userId:', userId);\n      const response = await fetch(`http://localhost:4000/chats/${userId}`);\n      console.log('Response status:', response.status);\n      \n      if (!response.ok) {\n        const errorData = await response.text();\n        console.error('Error response:', errorData);\n        throw new Error(`Failed to fetch chats: ${response.status} ${errorData}`);\n      }\n      \n      const data = await response.json();\n      console.log('Received chats data:', data);\n      setChats(data);\n    } catch (err) {\n      console.error('Detailed error fetching chats:', err);\n      toast.error(err.message || 'Failed to load chat history');\n    }\n  };\n\n  const fetchChat = async (chatId) => {\n    try {\n      const response = await fetch(`http://localhost:4000/chat/${chatId}`);\n      if (!response.ok) throw new Error('Failed to fetch chat');\n      const data = await response.json();\n      setCurrentChat(data);\n    } catch (err) {\n      console.error('Error fetching chat:', err);\n      toast.error('Failed to load chat');\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [currentChat?.messages]);\n\n  const handleNewChat = async () => {\n    setCurrentChat(null);\n    setMessage('');\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!message.trim()) return;\n\n    console.log('Sending message:', message);\n    setLoading(true);\n    try {\n      const url = currentChat \n        ? `http://localhost:4000/chat/${currentChat._id}/message`\n        : 'http://localhost:4000/chat';\n      \n      console.log('Sending request to:', url);\n      console.log('Request payload:', {\n        userId,\n        message: message.trim()\n      });\n\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: { \n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          userId,\n          message: message.trim()\n        })\n      });\n\n      console.log('Response status:', response.status);\n      \n      if (!response.ok) {\n        const errorData = await response.text();\n        console.error('Error response:', errorData);\n        throw new Error(`Failed to send message: ${response.status} ${errorData}`);\n      }\n      \n      const data = await response.json();\n      console.log('Received chat data:', data);\n      \n      setCurrentChat(data);\n      if (!currentChat) {\n        console.log('Fetching updated chat list...');\n        fetchChats();\n      }\n      setMessage('');\n    } catch (err) {\n      console.error('Detailed error sending message:', err);\n      toast.error(err.message || 'Failed to send message');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add useEffect to log component state changes\n  useEffect(() => {\n    console.log('Current chat state:', currentChat);\n    console.log('Current message state:', message);\n    console.log('Current loading state:', loading);\n  }, [currentChat, message, loading]);\n\n  const handleDeleteChat = async (chatId) => {\n    try {\n      const response = await fetch(`http://localhost:4000/chat/${chatId}`, {\n        method: 'DELETE'\n      });\n      \n      if (!response.ok) throw new Error('Failed to delete chat');\n      \n      if (currentChat?._id === chatId) {\n        setCurrentChat(null);\n      }\n      fetchChats();\n      toast.success('Chat deleted successfully');\n    } catch (err) {\n      console.error('Error deleting chat:', err);\n      toast.error('Failed to delete chat');\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const handleRenameChat = async (chatId, newTitle) => {\n    try {\n      const response = await fetch(`http://localhost:4000/chat/${chatId}/rename`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ title: newTitle })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to rename chat');\n      }\n\n      const updatedChat = await response.json();\n      \n      // Update the chats list\n      setChats(chats.map(chat => \n        chat._id === chatId ? { ...chat, title: updatedChat.title } : chat\n      ));\n\n      // Update current chat if it's the one being renamed\n      if (currentChat?._id === chatId) {\n        setCurrentChat(updatedChat);\n      }\n\n      setEditingChatId(null);\n      setEditingTitle('');\n      toast.success('Chat renamed successfully');\n    } catch (err) {\n      console.error('Error renaming chat:', err);\n      toast.error('Failed to rename chat');\n    }\n  };\n\n  const startEditing = (chat) => {\n    setEditingChatId(chat._id);\n    setEditingTitle(chat.title);\n    // Focus the input after it's rendered\n    setTimeout(() => {\n      editInputRef.current?.focus();\n    }, 0);\n  };\n\n  const handleKeyPress = (e, chatId) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      handleRenameChat(chatId, editingTitle);\n    } else if (e.key === 'Escape') {\n      setEditingChatId(null);\n      setEditingTitle('');\n    }\n  };\n\n  return (\n    <div className=\"ai-bot-container\">\n      <div className=\"ai-bot-sidebar\">\n        <button className=\"new-chat-button\" onClick={handleNewChat}>\n          <i className=\"material-icons\">add</i>\n          New Chat\n        </button>\n        <div className=\"chat-history\">\n          {chats && chats.length > 0 ? (\n            chats.map(chat => (\n              <div \n                key={chat._id} \n                className={`chat-item ${currentChat?._id === chat._id ? 'active' : ''}`}\n              >\n                <div className=\"chat-item-content\">\n                  <i className=\"material-icons\">chat</i>\n                  {editingChatId === chat._id ? (\n                    <input\n                      ref={editInputRef}\n                      type=\"text\"\n                      value={editingTitle}\n                      onChange={(e) => setEditingTitle(e.target.value)}\n                      onKeyDown={(e) => handleKeyPress(e, chat._id)}\n                      onBlur={() => handleRenameChat(chat._id, editingTitle)}\n                      className=\"chat-title-edit\"\n                      onClick={(e) => e.stopPropagation()}\n                    />\n                  ) : (\n                    <span \n                      className=\"chat-title\"\n                      onClick={() => fetchChat(chat._id)}\n                    >\n                      {chat.title}\n                    </span>\n                  )}\n                  <span className=\"chat-date\">{formatDate(chat.updatedAt)}</span>\n                </div>\n                <div className=\"chat-actions\">\n                  <button \n                    className=\"rename-chat-button\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      startEditing(chat);\n                    }}\n                  >\n                    <i className=\"material-icons\">edit</i>\n                  </button>\n                  <button \n                    className=\"delete-chat-button\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDeleteChat(chat._id);\n                    }}\n                  >\n                    <i className=\"material-icons\">delete</i>\n                  </button>\n                </div>\n              </div>\n            ))\n          ) : (\n            <div className=\"no-chats-message\">No previous chats</div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"ai-bot-main\">\n        <div className=\"chat-container\">\n          {!currentChat ? (\n            <div className=\"welcome-screen\">\n              <h1>Welcome to AI Assistant</h1>\n              <p>Start a new conversation or select a previous chat</p>\n              <div className=\"suggested-questions\">\n                <h3>Suggested Questions</h3>\n                {SUGGESTED_QUESTIONS.map((question, index) => (\n                  <button\n                    key={index}\n                    className=\"suggested-question\"\n                    onClick={() => {\n                      setMessage(question);\n                      handleSendMessage({ preventDefault: () => {} });\n                    }}\n                  >\n                    {question}\n                  </button>\n                ))}\n              </div>\n            </div>\n          ) : (\n            <div className=\"messages-container\">\n              {currentChat.messages.map((msg, index) => (\n                <div \n                  key={index} \n                  className={`message ${msg.role === 'user' ? 'user-message' : 'assistant-message'}`}\n                >\n                  <div className=\"message-content\">\n                    <div className=\"message-header\">\n                      <i className=\"material-icons\">\n                        {msg.role === 'user' ? 'person' : 'smart_toy'}\n                      </i>\n                      <span>{msg.role === 'user' ? 'You' : 'AI Assistant'}</span>\n                    </div>\n                    <MessageContent content={msg.content} />\n                  </div>\n                </div>\n              ))}\n              <div ref={messagesEndRef} />\n            </div>\n          )}\n\n          <form onSubmit={handleSendMessage} className=\"message-input-container\">\n            <input\n              type=\"text\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Type your message...\"\n              disabled={loading}\n            />\n            <button type=\"submit\" disabled={loading || !message.trim()}>\n              {loading ? (\n                <i className=\"material-icons rotating\">refresh</i>\n              ) : (\n                <i className=\"material-icons\">send</i>\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n} ","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/pages/Videos.js",["213","214"],[],"import React, { useState, useEffect, useContext } from 'react';\nimport { UserContext } from '../App';\nimport VideoCard from '../components/VideoCard';\nimport VideoUploadModal from '../components/VideoUploadModal';\nimport { useNavigate } from 'react-router-dom';\nimport './Videos.css';\n\nconst Videos = () => {\n  const { state } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [videos, setVideos] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortBy, setSortBy] = useState('newest');\n  const [showUploadModal, setShowUploadModal] = useState(false);\n\n  useEffect(() => {\n    fetchVideos();\n  }, [searchQuery, sortBy]);\n\n  const fetchVideos = async () => {\n    try {\n      const queryString = new URLSearchParams({\n        q: searchQuery,\n        sort: sortBy\n      }).toString();\n\n      const response = await fetch(`http://localhost:4000/allvideos?${queryString}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('jwt')}`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch videos');\n      }\n\n      const data = await response.json();\n      setVideos(data);\n    } catch (error) {\n      console.error('Error fetching videos:', error);\n    }\n  };\n\n  const handleSearch = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleSort = (e) => {\n    setSortBy(e.target.value);\n  };\n\n  const handleUploadSuccess = () => {\n    setShowUploadModal(false);\n    navigate('/profile');\n  };\n\n  return (\n    <div className=\"videos-container\">\n      <div className=\"videos-header\">\n        <div className=\"search-sort-container\">\n          <input\n            type=\"text\"\n            placeholder=\"Search videos...\"\n            value={searchQuery}\n            onChange={handleSearch}\n            className=\"search-input\"\n          />\n          <select value={sortBy} onChange={handleSort} className=\"sort-select\">\n            <option value=\"newest\">Newest</option>\n            <option value=\"oldest\">Oldest</option>\n            <option value=\"mostViewed\">Most Viewed</option>\n            <option value=\"mostLiked\">Most Liked</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"videos-grid\">\n        {videos.map((video) => (\n          <VideoCard\n            key={video._id}\n            video={video}\n            onVideoUpdate={fetchVideos}\n          />\n        ))}\n      </div>\n\n      {showUploadModal && (\n        <VideoUploadModal\n          onClose={() => setShowUploadModal(false)}\n          onUploadSuccess={handleUploadSuccess}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Videos; ","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/VideoCard.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/VideoUploadModal.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/Profile.js",["215"],[],"import React, { useEffect, useState, useCallback } from \"react\";\nimport \"./Profile.css\";\nimport VideoCard from \"./VideoCard\";\nimport PostDetail from \"./PostDetail\";\nimport ProfilePic from \"./ProfilePic\";\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nexport default function Profile() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { userid } = useParams();\n  const picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";\n  \n  // State declarations\n  const [pic, setPic] = useState([]);\n  const [show, setShow] = useState(false);\n  const [posts, setPosts] = useState([]);\n  const [user, setUser] = useState(\"\");\n  const [videos, setVideos] = useState([]);\n  const [activeTab, setActiveTab] = useState('posts');\n  const [loading, setLoading] = useState(true);\n  const [isFollow, setIsFollow] = useState(false);\n  const [userProfile, setUserProfile] = useState(null);\n  const [showProfilePic, setShowProfilePic] = useState(false);\n\n  // Set active tab from navigation state\n  useEffect(() => {\n    if (location.state?.activeTab) {\n      setActiveTab(location.state.activeTab);\n      // If we came from a post, ensure we're on the profile tab\n      if (location.state.fromPost) {\n        // Clear the state after using it\n        navigate(location.pathname, { \n          replace: true, \n          state: { activeTab: 'posts' }  // Keep the posts tab active\n        });\n      } else {\n        // Clear the state after using it\n        navigate(location.pathname, { replace: true, state: {} });\n      }\n    }\n  }, [location.state, navigate, location.pathname]);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"jwt\");\n      if (!token) {\n        console.log(\"No JWT token found\");\n        toast.error(\"Please login to view profile\");\n        return;\n      }\n\n      // Get user ID from token or params\n      const storedUserData = JSON.parse(localStorage.getItem(\"user\"));\n      if (!storedUserData || !storedUserData._id) {\n        console.error(\"No user data found in localStorage\");\n        toast.error(\"User data not found. Please login again.\");\n        return;\n      }\n\n      const userId = userid || storedUserData._id;\n      console.log(\"Fetching data for user:\", userId);\n\n      // Fetch user data and posts\n      const userRes = await fetch(`http://localhost:4000/user/${userId}`, {\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      });\n\n      if (!userRes.ok) {\n        const errorText = await userRes.text();\n        console.error(\"User data fetch failed:\", {\n          status: userRes.status,\n          statusText: userRes.statusText,\n          error: errorText\n        });\n        throw new Error(`Failed to fetch user data: ${userRes.status} ${userRes.statusText}`);\n      }\n\n      const fetchedUserData = await userRes.json();\n      console.log(\"User data response:\", fetchedUserData);\n\n      if (!fetchedUserData || !fetchedUserData.user) {\n        console.error(\"Invalid user data response:\", fetchedUserData);\n        throw new Error(\"Invalid user data received from server\");\n      }\n\n      setUser(fetchedUserData.user);\n      setUserProfile(fetchedUserData.user);\n      setPosts(fetchedUserData.post || []);\n\n      // Check if current user is following this profile\n      if (fetchedUserData.user.followers?.includes(storedUserData._id)) {\n        setIsFollow(true);\n      }\n\n      // Fetch user's videos with correct endpoint\n      console.log(\"Fetching videos for user:\", userId);\n      const videosRes = await fetch(`http://localhost:4000/video/user/${userId}`, {\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      });\n\n      if (!videosRes.ok) {\n        if (videosRes.status === 404) {\n          console.log(\"No videos found for user\");\n          setVideos([]);\n          return;\n        }\n        throw new Error(`Failed to fetch videos: ${videosRes.status}`);\n      }\n\n      const videosData = await videosRes.json();\n      console.log(\"Raw videos data:\", videosData);\n      setVideos(Array.isArray(videosData) ? videosData : []);\n    } catch (err) {\n      console.error(\"Error fetching profile data:\", err);\n      console.error(\"Error stack:\", err.stack);\n      setVideos([]);\n      setPosts([]);\n      setUser(null);\n      setUserProfile(null);\n      \n      // More specific error messages\n      if (err.message.includes(\"Failed to fetch\")) {\n        toast.error(\"Network error. Please check your connection.\");\n      } else if (err.message.includes(\"Invalid user data\")) {\n        toast.error(\"Invalid user data received. Please try logging in again.\");\n      } else {\n        toast.error(err.message || \"Error loading profile data\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [userid]);\n\n  // Update useEffect to use fetchData\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]); // Add fetchData as dependency\n\n  // Follow user\n  const followUser = async (userId) => {\n    try {\n      const res = await fetch(\"http://localhost:4000/follow\", {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n        body: JSON.stringify({\n          followId: userId,\n        }),\n      });\n      const data = await res.json();\n      console.log(data);\n      setIsFollow(true);\n      \n      // Update user profile with new follower\n      setUserProfile(prev => ({\n        ...prev,\n        followers: [...(prev?.followers || []), JSON.parse(localStorage.getItem(\"user\"))._id]\n      }));\n      \n      toast.success(\"Following user\");\n    } catch (err) {\n      console.error(\"Error following user:\", err);\n      toast.error(\"Error following user\");\n    }\n  };\n\n  // Unfollow user\n  const unfollowUser = async (userId) => {\n    try {\n      const res = await fetch(\"http://localhost:4000/unfollow\", {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n        body: JSON.stringify({\n          followId: userId,\n        }),\n      });\n      const data = await res.json();\n      console.log(data);\n      setIsFollow(false);\n      \n      // Update user profile by removing follower\n      setUserProfile(prev => ({\n        ...prev,\n        followers: (prev?.followers || []).filter(id => id !== JSON.parse(localStorage.getItem(\"user\"))._id)\n      }));\n      \n      toast.success(\"Unfollowed user\");\n    } catch (err) {\n      console.error(\"Error unfollowing user:\", err);\n      toast.error(\"Error unfollowing user\");\n    }\n  };\n\n  // Update handleVideoUpdate to use correct endpoint\n  const handleVideoUpdate = () => {\n    const fetchVideos = async () => {\n      try {\n        const token = localStorage.getItem(\"jwt\");\n        const userData = JSON.parse(localStorage.getItem(\"user\"));\n        const userId = userid || userData._id;\n\n        const videosRes = await fetch(`http://localhost:4000/video/user/${userId}`, {\n          headers: {\n            Authorization: \"Bearer \" + token,\n          },\n        });\n\n        if (!videosRes.ok) {\n          throw new Error(`Failed to fetch videos: ${videosRes.status}`);\n        }\n\n        const videosData = await videosRes.json();\n        setVideos(Array.isArray(videosData) ? videosData : []);\n      } catch (err) {\n        console.error(\"Error refetching videos:\", err);\n        toast.error(\"Error refreshing videos\");\n      }\n    };\n    fetchVideos();\n  };\n\n  // Add function to handle profile picture change\n  const handleProfilePicChange = () => {\n    setShowProfilePic(false);\n    // Refetch user data to get updated profile picture\n    fetchData();\n  };\n\n  const toggleDetails = (post) => {\n    setShow(!show);\n    setPic(post);\n  };\n\n  if (loading) {\n    return <div className=\"profile\">Loading...</div>;\n  }\n\n  if (!user) {\n    return (\n      <div className=\"profile\">\n        <div className=\"error-message\">\n          <h2>Unable to load profile</h2>\n          <p>Please try refreshing the page or logging in again.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"profile\">\n      {/* Profile frame */}\n      <div className=\"profile-frame\">\n        {/* profile-pic */}\n        <div className=\"profile-pic\">\n          <img \n            src={user.Photo ? user.Photo : picLink} \n            alt=\"\" \n            onClick={() => {\n              if (user._id === JSON.parse(localStorage.getItem(\"user\"))._id) {\n                setShowProfilePic(true);\n              } else {\n                navigate(\"/profile\");\n              }\n            }}\n            style={{ cursor: user._id === JSON.parse(localStorage.getItem(\"user\"))._id ? 'pointer' : 'default' }}\n          />\n        </div>\n        {/* profile-data */}\n        <div className=\"profile-data\">\n          <div style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n          }}>\n            <h1>{user.name}</h1>\n            {user._id !== JSON.parse(localStorage.getItem(\"user\"))._id && (\n              <button\n                className=\"followBtn\"\n                onClick={() => {\n                  if (isFollow) {\n                    unfollowUser(user._id);\n                  } else {\n                    followUser(user._id);\n                  }\n                }}\n              >\n                {isFollow ? \"Unfollow\" : \"Follow\"}\n              </button>\n            )}\n          </div>\n          <div className=\"profile-info\" style={{ display: \"flex\" }}>\n            <p>{posts ? posts.length : 0} posts</p>\n            <p>{videos ? videos.length : 0} videos</p>\n            <p>{user.followers ? user.followers.length : 0} followers</p>\n            <p>{user.following ? user.following.length : 0} following</p>\n          </div>\n        </div>\n      </div>\n      <hr\n        style={{\n          width: \"90%\",\n          opacity: \"0.8\",\n          margin: \"25px auto\",\n        }}\n      />\n\n      {/* Tabs */}\n      <div className=\"profile-tabs\">\n        <button\n          className={`tab-button ${activeTab === 'posts' ? 'active' : ''}`}\n          onClick={() => setActiveTab('posts')}\n        >\n          Posts\n        </button>\n        <button\n          className={`tab-button ${activeTab === 'videos' ? 'active' : ''}`}\n          onClick={() => setActiveTab('videos')}\n        >\n          Videos\n        </button>\n      </div>\n\n      {/* Content based on active tab */}\n      {activeTab === 'posts' ? (\n        <div className=\"gallery\">\n          {posts && posts.map((pics) => (\n            <img\n              key={pics._id}\n              src={pics.photo}\n              className=\"item\"\n              alt=\"\"\n              onClick={() => toggleDetails(pics)}\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"videos-grid\">\n          {videos && videos.map((video) => (\n            <VideoCard\n              key={video._id}\n              video={video}\n              onVideoUpdate={handleVideoUpdate}\n            />\n          ))}\n        </div>\n      )}\n      {show && (\n        <PostDetail \n          item={pic} \n          toggleDetails={toggleDetails} \n          isProfilePage={true}\n          activeTab={activeTab}\n        />\n      )}\n\n      {/* Add ProfilePic modal */}\n      {showProfilePic && (\n        <ProfilePic changeprofile={handleProfilePicChange} />\n      )}\n    </div>\n  );\n} ","/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/components/ReelUploadModal.js",[],[],"/Users/sparshsinghal/Downloads/vybes-mern-main/frontend/src/config/config.js",[],[],{"ruleId":"216","severity":1,"message":"217","line":66,"column":6,"nodeType":"218","endLine":66,"endColumn":11,"suggestions":"219"},{"ruleId":"220","severity":1,"message":"221","line":104,"column":9,"nodeType":"222","endLine":107,"endColumn":11},{"ruleId":"223","severity":1,"message":"224","line":3,"column":8,"nodeType":"225","messageId":"226","endLine":3,"endColumn":12},{"ruleId":"227","severity":1,"message":"228","line":19,"column":29,"nodeType":"229","messageId":"230","endLine":19,"endColumn":30,"suggestions":"231"},{"ruleId":"227","severity":1,"message":"228","line":19,"column":45,"nodeType":"229","messageId":"230","endLine":19,"endColumn":46,"suggestions":"232"},{"ruleId":"223","severity":1,"message":"233","line":1,"column":17,"nodeType":"225","messageId":"226","endLine":1,"endColumn":26},{"ruleId":"223","severity":1,"message":"224","line":2,"column":8,"nodeType":"225","messageId":"226","endLine":2,"endColumn":12},{"ruleId":"227","severity":1,"message":"228","line":21,"column":29,"nodeType":"229","messageId":"230","endLine":21,"endColumn":30,"suggestions":"234"},{"ruleId":"227","severity":1,"message":"228","line":21,"column":45,"nodeType":"229","messageId":"230","endLine":21,"endColumn":46,"suggestions":"235"},{"ruleId":"227","severity":1,"message":"236","line":22,"column":65,"nodeType":"229","messageId":"230","endLine":22,"endColumn":66,"suggestions":"237"},{"ruleId":"227","severity":1,"message":"238","line":22,"column":68,"nodeType":"229","messageId":"230","endLine":22,"endColumn":69,"suggestions":"239"},{"ruleId":"227","severity":1,"message":"240","line":22,"column":71,"nodeType":"229","messageId":"230","endLine":22,"endColumn":72,"suggestions":"241"},{"ruleId":"223","severity":1,"message":"224","line":2,"column":8,"nodeType":"225","messageId":"226","endLine":2,"endColumn":12},{"ruleId":"223","severity":1,"message":"242","line":6,"column":10,"nodeType":"225","messageId":"226","endLine":6,"endColumn":15},{"ruleId":"243","severity":1,"message":"244","line":126,"column":11,"nodeType":"222","endLine":126,"endColumn":94},{"ruleId":"216","severity":1,"message":"245","line":122,"column":6,"nodeType":"218","endLine":122,"endColumn":14,"suggestions":"246"},{"ruleId":"223","severity":1,"message":"247","line":12,"column":11,"nodeType":"225","messageId":"226","endLine":12,"endColumn":20},{"ruleId":"223","severity":1,"message":"248","line":12,"column":22,"nodeType":"225","messageId":"226","endLine":12,"endColumn":34},{"ruleId":"216","severity":1,"message":"249","line":40,"column":6,"nodeType":"218","endLine":40,"endColumn":8,"suggestions":"250"},{"ruleId":"251","severity":1,"message":"252","line":92,"column":25,"nodeType":"253","messageId":"254","endLine":92,"endColumn":27},{"ruleId":"251","severity":1,"message":"252","line":116,"column":25,"nodeType":"253","messageId":"254","endLine":116,"endColumn":27},{"ruleId":"251","severity":1,"message":"252","line":148,"column":25,"nodeType":"253","messageId":"254","endLine":148,"endColumn":27},{"ruleId":"223","severity":1,"message":"255","line":4,"column":10,"nodeType":"225","messageId":"226","endLine":4,"endColumn":14},{"ruleId":"216","severity":1,"message":"249","line":67,"column":6,"nodeType":"218","endLine":67,"endColumn":8,"suggestions":"256"},{"ruleId":"223","severity":1,"message":"257","line":1,"column":8,"nodeType":"225","messageId":"226","endLine":1,"endColumn":13},{"ruleId":"216","severity":1,"message":"258","line":53,"column":6,"nodeType":"218","endLine":53,"endColumn":13,"suggestions":"259"},{"ruleId":"216","severity":1,"message":"260","line":58,"column":6,"nodeType":"218","endLine":58,"endColumn":11,"suggestions":"261"},{"ruleId":"223","severity":1,"message":"262","line":8,"column":9,"nodeType":"225","messageId":"226","endLine":8,"endColumn":17},{"ruleId":"223","severity":1,"message":"263","line":27,"column":9,"nodeType":"225","messageId":"226","endLine":27,"endColumn":16},{"ruleId":"223","severity":1,"message":"264","line":5,"column":10,"nodeType":"225","messageId":"226","endLine":5,"endColumn":14},{"ruleId":"223","severity":1,"message":"265","line":5,"column":16,"nodeType":"225","messageId":"226","endLine":5,"endColumn":25},{"ruleId":"223","severity":1,"message":"266","line":5,"column":27,"nodeType":"225","messageId":"226","endLine":5,"endColumn":39},{"ruleId":"223","severity":1,"message":"267","line":5,"column":41,"nodeType":"225","messageId":"226","endLine":5,"endColumn":49},{"ruleId":"223","severity":1,"message":"268","line":5,"column":51,"nodeType":"225","messageId":"226","endLine":5,"endColumn":59},{"ruleId":"223","severity":1,"message":"269","line":5,"column":61,"nodeType":"225","messageId":"226","endLine":5,"endColumn":69},{"ruleId":"223","severity":1,"message":"270","line":10,"column":10,"nodeType":"225","messageId":"226","endLine":10,"endColumn":24},{"ruleId":"223","severity":1,"message":"271","line":10,"column":26,"nodeType":"225","messageId":"226","endLine":10,"endColumn":43},{"ruleId":"223","severity":1,"message":"272","line":17,"column":9,"nodeType":"225","messageId":"226","endLine":17,"endColumn":25},{"ruleId":"223","severity":1,"message":"273","line":41,"column":9,"nodeType":"225","messageId":"226","endLine":41,"endColumn":25},{"ruleId":"223","severity":1,"message":"274","line":80,"column":9,"nodeType":"225","messageId":"226","endLine":80,"endColumn":17},{"ruleId":"216","severity":1,"message":"275","line":94,"column":6,"nodeType":"218","endLine":94,"endColumn":8,"suggestions":"276"},{"ruleId":"223","severity":1,"message":"277","line":9,"column":11,"nodeType":"225","messageId":"226","endLine":9,"endColumn":16},{"ruleId":"216","severity":1,"message":"278","line":18,"column":6,"nodeType":"218","endLine":18,"endColumn":27,"suggestions":"279"},{"ruleId":"223","severity":1,"message":"280","line":24,"column":10,"nodeType":"225","messageId":"226","endLine":24,"endColumn":21},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'body' and 'navigate'. Either include them or remove the dependency array.","ArrayExpression",["281"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["282","283"],["284","285"],"'useEffect' is defined but never used.",["286","287"],["288","289"],"Unnecessary escape character: \\$.",["290","291"],"Unnecessary escape character: \\^.",["292","293"],"Unnecessary escape character: \\*.",["294","295"],"'toast' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","React Hook useEffect has a missing dependency: 'fetchUserData'. Either include it or remove the dependency array.",["296"],"'userLogin' is assigned a value but never used.","'setUserLogin' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'navigate'. Either include it or remove the dependency array.",["297"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Link' is defined but never used.",["298"],"'React' is defined but never used.","React Hook useEffect has a missing dependency: 'postDetails'. Either include it or remove the dependency array.",["299"],"React Hook useEffect has a missing dependency: 'postPic'. Either include it or remove the dependency array.",["300"],"'location' is assigned a value but never used.","'notifyA' is assigned a value but never used.","'Book' is defined but never used.","'Briefcase' is defined but never used.","'Clapperboard' is defined but never used.","'Dumbbell' is defined but never used.","'Gamepad2' is defined but never used.","'Utensils' is defined but never used.","'expandedGenres' is assigned a value but never used.","'setExpandedGenres' is assigned a value but never used.","'getAudioDuration' is assigned a value but never used.","'formattedContent' is assigned a value but never used.","'navigate' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'fetchChats'. Either include it or remove the dependency array.",["301"],"'state' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'fetchVideos'. Either include it or remove the dependency array.",["302"],"'userProfile' is assigned a value but never used.",{"desc":"303","fix":"304"},{"messageId":"305","fix":"306","desc":"307"},{"messageId":"308","fix":"309","desc":"310"},{"messageId":"305","fix":"311","desc":"307"},{"messageId":"308","fix":"312","desc":"310"},{"messageId":"305","fix":"313","desc":"307"},{"messageId":"308","fix":"314","desc":"310"},{"messageId":"305","fix":"315","desc":"307"},{"messageId":"308","fix":"316","desc":"310"},{"messageId":"305","fix":"317","desc":"307"},{"messageId":"308","fix":"318","desc":"310"},{"messageId":"305","fix":"319","desc":"307"},{"messageId":"308","fix":"320","desc":"310"},{"messageId":"305","fix":"321","desc":"307"},{"messageId":"308","fix":"322","desc":"310"},{"desc":"323","fix":"324"},{"desc":"325","fix":"326"},{"desc":"325","fix":"327"},{"desc":"328","fix":"329"},{"desc":"330","fix":"331"},{"desc":"332","fix":"333"},{"desc":"334","fix":"335"},"Update the dependencies array to be: [body, navigate, url]",{"range":"336","text":"337"},"removeEscape",{"range":"338","text":"339"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"340","text":"341"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"342","text":"339"},{"range":"343","text":"341"},{"range":"344","text":"339"},{"range":"345","text":"341"},{"range":"346","text":"339"},{"range":"347","text":"341"},{"range":"348","text":"339"},{"range":"349","text":"341"},{"range":"350","text":"339"},{"range":"351","text":"341"},{"range":"352","text":"339"},{"range":"353","text":"341"},"Update the dependencies array to be: [fetchUserData, userid]",{"range":"354","text":"355"},"Update the dependencies array to be: [navigate]",{"range":"356","text":"357"},{"range":"358","text":"357"},"Update the dependencies array to be: [image, postDetails]",{"range":"359","text":"360"},"Update the dependencies array to be: [postPic, url]",{"range":"361","text":"362"},"Update the dependencies array to be: [fetchChats]",{"range":"363","text":"364"},"Update the dependencies array to be: [fetchVideos, searchQuery, sortBy]",{"range":"365","text":"366"},[1918,1923],"[body, navigate, url]",[652,653],"",[652,652],"\\",[668,669],[668,668],[749,750],[749,749],[765,766],[765,765],[855,856],[855,855],[858,859],[858,858],[861,862],[861,861],[3630,3638],"[fetchUserData, userid]",[1261,1263],"[navigate]",[2107,2109],[1387,1394],"[image, postDetails]",[1460,1465],"[postPic, url]",[3542,3544],"[fetchChats]",[646,667],"[fetchVideos, searchQuery, sortBy]"]